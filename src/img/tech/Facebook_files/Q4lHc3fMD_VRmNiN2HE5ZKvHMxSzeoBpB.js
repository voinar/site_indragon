if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }

__d("LSMessagePointQuery",["LSIssueNewTask","LSVerifyThreadRowExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]}).next().then(function(e,g){var h=e.done;e=e.value;return h?c.seq([function(d){return c.sp(b("LSVerifyThreadRowExists"),a[0],a[2],[0,1])},function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:[0,0],minMessageId:a[1],maxTimestampMs:[0,0],maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[1]=[0,1]:(e=b.item,d[7]=e.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=[0,1],d[1]=d[6])})},function(e){return d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("message_id",a[1]),d[3].set("sync_group",d[1]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),[0,19],d[5],f,f,[0,0],[0,0],f,f,[0,0])}]):(g=e.item,d[1]=g.timestampMs,c.ftr(c.db.table(13).fetch([[[a[0],{lte:d[1]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,d[1])&&c.i64.ge(b.maxTimestampMs,d[1])}).next().then(function(g){var e=g.done;g.value;return e?c.seq([function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:[0,0],minMessageId:a[1],maxTimestampMs:[0,0],maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[2]=[0,1]:(e=b.item,d[8]=e.syncGroup,c.i64.neq(d[8],f)?d[7]=d[8]:d[7]=[0,1],d[2]=d[7])})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("message_id",a[1]),d[4].set("sync_group",d[2]),d[5]=d[4].get("thread_key"),d[4],d[6]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[5]),[0,19],d[6],f,f,[0,0],[0,0],f,f,[0,0])}]):0}))})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3597593690259924"}),null);
__d("MWChatCustomerFeedbackFormDataQuery.graphql",["MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};c=[{alias:null,args:[{kind:"Variable",name:"form_id",variableName:"formID"}],concreteType:"MessengerFeedbackFormDataResult",kind:"LinkedField",name:"messenger_feedback_form_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"privacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_default_title",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackFormDataQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackFormDataQuery",selections:c},params:{id:b("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackFormDataQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatCustomerFeedbackStateQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3054916864585546"}),null);
__d("MWChatCustomerFeedbackStateQuery.graphql",["MWChatCustomerFeedbackStateQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerFeedbackFormStateQueryObject",kind:"LinkedField",name:"messenger_feedback_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackStateQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackStateQuery",selections:c},params:{id:b("MWChatCustomerFeedbackStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackStateQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatPIIFormNuxQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3270705693021816"}),null);
__d("MWChatPIIFormNuxQuery.graphql",["MWChatPIIFormNuxQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"MessengerPIIFormFirstPartyPrivacyObject",kind:"LinkedField",name:"messenger_pii_nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatPIIFormNuxQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatPIIFormNuxQuery",selections:a},params:{id:b("MWChatPIIFormNuxQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormNuxQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatPIIFormScreenQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3186012261435736"}),null);
__d("MWChatPIIFormScreenQuery.graphql",["MWChatPIIFormScreenQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"},{defaultValue:null,kind:"LocalArgument",name:"screenIndex"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"},{kind:"Variable",name:"screen_index",variableName:"screenIndex"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormSingleScreenObject",kind:"LinkedField",name:"messenger_pii_form_single_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerPIIFormScreenObject",kind:"LinkedField",name:"screen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIQuestionObject",kind:"LinkedField",name:"questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mask",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormScreenQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormScreenQuery",selections:c},params:{id:b("MWChatPIIFormScreenQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormScreenQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatPIIFormStateQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3163054493772913"}),null);
__d("MWChatPIIFormStateQuery.graphql",["MWChatPIIFormStateQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormStateQueryObject",kind:"LinkedField",name:"messenger_pii_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormStateQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormStateQuery",selections:c},params:{id:b("MWChatPIIFormStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormStateQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatUserBirthdayQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="2229218363872708"}),null);
__d("MWChatUserBirthdayQuery.graphql",["MWChatUserBirthdayQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Date",kind:"LinkedField",name:"birthdate",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"day",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"month",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"year",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserBirthdayQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserBirthdayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserEmailQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="2533792060016176"}),null);
__d("MWChatUserEmailQuery.graphql",["MWChatUserEmailQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Email",kind:"LinkedField",name:"all_emails",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_primary",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserEmailQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserEmailQuery",selections:a},params:{id:b("MWChatUserEmailQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserEmailQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserPhoneNumberQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="2480352425341129"}),null);
__d("MWChatUserPhoneNumberQuery.graphql",["MWChatUserPhoneNumberQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Phone",kind:"LinkedField",name:"all_phones",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_preferred",storageKey:null},{alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"universal_number",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserPhoneNumberQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserPhoneNumberQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserProfileLocationQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="2260280317411482"}),null);
__d("MWChatUserProfileLocationQuery.graphql",["MWChatUserProfileLocationQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserProfileLocationQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserProfileLocationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatReceiptDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3363059540374751"}),null);
__d("MWChatReceiptDataQuery.graphql",["MWChatReceiptDataQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"messageID"},c={defaultValue:null,kind:"LocalArgument",name:"receiptID"},d=[{alias:null,args:[{kind:"Variable",name:"message_id",variableName:"messageID"},{kind:"Variable",name:"receipt_id",variableName:"receiptID"}],concreteType:"ReceiptDataResult",kind:"LinkedField",name:"receipt_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"payment_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_tax",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_time",storageKey:null},{alias:null,args:null,concreteType:"ReceiptItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumb_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Adjustment",kind:"LinkedField",name:"adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"display_adjustment_amount",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"MWChatReceiptDataQuery",selections:d,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"MWChatReceiptDataQuery",selections:d},params:{id:b("MWChatReceiptDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatReceiptDataQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MAWArmadilloLink.bs",["bs_caml_option","gkx","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(!1);function a(a){var b=a.value;a=a.children;return h.createElement(i.Provider,{value:b,children:a})}d={make:a};function c(a){var c=a.testid,d=a.target,e=a.className,f=a.href;a=a.children;var g=h.useContext(i);if(g&&b("gkx")("3164"))return h.jsx("a",{"data-testid":c,href:f,target:d!==void 0?b("bs_caml_option").valFromOption(d):"_blank",className:e,rel:"noreferrer noopener nofollow",children:a});else return a}e=c;f.context=i;f.Provider=d;f.make=e}),null);
__d("MWTextWithEntities.bs",["CometLink.react","MAWArmadilloLink.bs","MWMessageCellFocusTable.bs","bs_caml_option","bs_caml_splice_call","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function a(a,c,d,e,f){var g=e!==void 0?e:!1;return function(e,f){if(g){var j={className:b("bs_caml_splice_call").spliceApply(h||(h=b("stylex")),[a]),href:f.uri,children:e};d!==void 0&&(j.testid=b("bs_caml_option").valFromOption(d));c!==void 0&&(j.target=b("bs_caml_option").valFromOption(c));j=i.jsx(b("MAWArmadilloLink.bs").make,j)}else{f={href:f.uri,children:e,xstyle:a};c!==void 0&&(f.target=b("bs_caml_option").valFromOption(c));d!==void 0&&(f.testid=d);j=i.jsx(b("CometLink.react"),f)}return i.jsx(b("MWMessageCellFocusTable.bs").Table_.Cell.make,{children:i.jsx("span",{role:"gridcell",children:j})})}}f.linkPlugin=a}),null);
__d("MWEncryptedUrl.bs",["invariant","Base64.bs","CancellablePromise.bs","CancellationToken.bs","Crypto.bs","Promise","bs_caml_option","bs_curry","bs_pervasives","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a,c,d){var e=i.useState(function(){if(c!==void 0)return;else return a}),f=e[1];i.useEffect(function(){var e=b("CancellationToken.bs").make(void 0),h=0;if(c!==void 0&&a!==void 0){var i;i=(i=b("CancellablePromise.bs")).ignoreFailed(void 0,i.then_(e,function(a){var c;switch(d.TAG|0){case 1:c="data:image/jpeg;base64,";break;case 6:c="data:audio/wav;base64,";break;case 7:c="data:video/mp4;base64,";break;default:c=b("bs_pervasives").failwith("Unsupported attachment for encryptedUrl")}b("bs_curry")._1(f,function(d){return c+b("Base64.bs").fromArrayBuffer(a)});return b("Promise").resolve(void 0)},i.then_(e,function(a){var c=a[1],d=c.slice(0,2),e=c.slice(2,14);c=c.slice(14);return b("Crypto.bs").decrypt({name:"AES-GCM",iv:e,additionalData:b("bs_caml_option").some(d),tagLength:128},a[0],c)},i.then_(e,function(a){var d=b("Base64.bs").toArrayBuffer(c);d.byteLength===32||g(0,20660);return b("Promise").all([b("Crypto.bs").importKey("raw",d,{NAME:"Aes",VAL:"AES-GCM"},!1,["decrypt"]),b("Promise").resolve(a)])},i.then_(e,function(a){return a.arrayBuffer()},window.fetch(a))))));b("promiseDone")(i,void 0,void 0)}else h=1;h===1&&b("bs_curry")._1(f,function(b){return a});return e.cancel},[a,c,f]);return e[0]}c=128;f.aesGCMTagLength=c;f.useMaybeEncryptedUrl=a}),null);
__d("XCometMessengerAttachmentMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_attachment_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWChatAttachmentMediaPreview.bs",["fbt","CometImageCover.react","CometPressable.react","FBID.bs","MWEncryptedUrl.bs","XCometMessengerAttachmentMediaControllerRouteBuilder","bs_belt_Option","bs_caml_int64","bs_int64","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=String(18)+"px",l={imageContainer:{verticalAlign:"sf5mxxl7",boxShadow:"m648lm6m",borderTop:"opwvks06",borderEnd:"hop1g133",borderBottom:"linmgsc8",borderStart:"t63ysoy8",lineHeight:"soycq5t1"},standalone:{borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze"}};function m(a){var c=a.attachmentMediaUrl,d=a.previewUrl,e=a.widthStyle;a=a.decryptionKey;d=b("MWEncryptedUrl.bs").useMaybeEncryptedUrl(d,a,{TAG:1,_0:{isGIF:!1,previewUrl:"",previewHeight:void 0,previewWidth:void 0,appAttribution:void 0,photoFbid:void 0,blurredImageUri:void 0,decryptionKey:void 0,title:void 0}});if(d!==void 0)return j.jsx(b("CometPressable.react"),{"aria-label":g._(/*FBT_CALL*/"Open photo"/*FBT_CALL*/),linkProps:{url:c},testid:"attachment-media-image",xstyle:function(a){return[l.standalone]},children:j.jsx(b("CometImageCover.react"),{src:d,style:{maxHeight:String(200)+"px",maxWidth:"100%",minHeight:String(24)+"px",width:e,borderTopLeftRadius:k,borderTopRightRadius:k,borderBottomLeftRadius:k,borderBottomRightRadius:k}})});else return null}c={make:m};function n(a){var c=b("bs_belt_Option").mapWithDefault(a.previewHeight,1,b("bs_caml_int64").to_int32),d=b("bs_belt_Option").mapWithDefault(a.previewWidth,1,b("bs_caml_int64").to_int32);d=d/c;a=a.previewWidth;if(a!==void 0)return(c>200?200*d:b("bs_caml_int64").to_float(a)).toString()+"px";else return"auto"}function a(a){a=a.attachment;var c=a.previewUrl;if(c!==void 0)return j.jsx("div",{className:(i||(i=b("stylex")))(l.imageContainer,l.standalone),children:j.jsx(m,{attachmentMediaUrl:b("XCometMessengerAttachmentMediaControllerRouteBuilder").buildURL({thread_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.threadKey)),attachment_id:b("FBID.bs").ofStringExn(a.attachmentFbid)}),previewUrl:c,widthStyle:n(a),decryptionKey:a.decryptionKey})});else return null}d=200;e=24;var o=!1,p=18;a=a;f.maxHeight=d;f.minHeight=e;f.withAppAttribution=o;f.radius=p;f.radiusStyle=k;f.styles=l;f.MediaPreview=c;f.calculateWidthStyle=n;f.make=a}),null);
__d("MWChatImageInsetShadow.bs",["bs_caml_splice_call","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={imageShadow:{position:"pmk7jnqg",boxSizing:"rq0escxv",bottom:"i09qtzwb",end:"n7fi1qx3",start:"j9ispegn",top:"kr520xx4",borderTop:"j9y2yd7c",borderEnd:"n167cdi4",borderBottom:"mp6yeyp0",borderStart:"cknb6mjg",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomStartRadius:"qmr60zad",borderBottomEndRadius:"inkptoze",pointerEvents:"hzruof5a"}},k=[];function a(a){a=a.xstyle;var c=a!==void 0?a:k;a=i.useMemo(function(){return b("bs_caml_splice_call").spliceApply(h||(h=b("stylex")),[[j.imageShadow].concat(c)])},[c]);return i.jsx("div",{className:a})}c=a;f.empty=k;f.make=c}),null);
__d("RavenMessagingState.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];f.permanent=a;f.unseen=c;f.seen=d;f.replayed=e;f.expired=b}),null);
__d("XCometMessengerEphemeralMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_ephemeral_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWV2ChatEphemeralButton.bs",["fbt","ix","BaseImage_DEPRECATED.react","CometPressable.react","FBID.bs","MDSText.react","MWChatEphemeralMediaTemporarySeenState.bs","MWPSolidMessageBubble.bs","MessagingAttachmentType.bs","RavenMessagingState.bs","TetraIcon.react","UseCurrentDisplayMode.bs","XCometMessengerEphemeralMediaControllerRouteBuilder","bs_caml","bs_caml_option","bs_int64","fbicon","react","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={image:{verticalAlign:"hu5pjgll"}};function m(a){var c=a.filter;a=a.icon;return k.jsx(b("BaseImage_DEPRECATED.react"),{className:(j||(j=b("stylex")))(l.image),style:{filter:c},src:a.src})}c={styles:l,make:m};function n(a){var c=a.attachment,d=a.children,e=a.ariaLabel;a=a.initiallyUnread;var f=b("XCometMessengerEphemeralMediaControllerRouteBuilder").buildURL({thread_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.threadKey)),attachment_id:b("FBID.bs").ofStringExn(c.attachmentFbid),message_id:c.messageId});c=c.ephemeralMediaState;if(c===void 0)return d;if(!(b("bs_caml").i64_eq(c,b("RavenMessagingState.bs").unseen)||b("bs_caml").i64_eq(c,b("RavenMessagingState.bs").seen)&&a))return d;c={linkProps:{url:f},testid:"view-ephemeral-media",overlayRadius:50,children:d};e!==void 0&&(c["aria-label"]=b("bs_caml_option").valFromOption(e));return k.jsx(b("CometPressable.react"),c)}d={make:n};var o=g._(/*FBT_CALL*/"View photo"/*FBT_CALL*/),p=g._(/*FBT_CALL*/"View video"/*FBT_CALL*/),q=b("fbicon")._(h("656360"),20),r={wrapper:{marginTop:"aahdfvyu",marginEnd:"cxmmr5t8",marginBottom:"tvmbv18p",marginStart:"hcukyx3x"},text:{marginStart:"h676nmdw"}};function a(a){var c=a.attachment,d=a.connectTop,e=a.connectBottom;a=a.outgoing;var f=c.attachmentType;f=b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").ephemeralImage)?o:b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").ephemeralVideo)?p:void 0;var g=b("useCurrentDisplayMode")(),h=b("MWChatEphemeralMediaTemporarySeenState.bs").isSeenThisSession(b("bs_int64").to_string(c.threadKey),c.attachmentFbid),i=c.ephemeralMediaState,l=c.ephemeralMediaState,s,t=0;l!==void 0&&b("bs_caml").i64_eq(l,b("RavenMessagingState.bs").unseen)?s=k.jsx(m,{filter:g===b("UseCurrentDisplayMode.bs").darkTheme?"invert(41%) sepia(25%) saturate(7193%) hue-rotate(202deg) brightness(106%) contrast(106%)":"invert(44%) sepia(95%) saturate(2777%) hue-rotate(182deg) brightness(102%) contrast(103%)",icon:q}):t=1;t===1&&(s=k.jsx(b("TetraIcon.react"),{icon:q,color:l!==void 0&&b("bs_caml").i64_eq(l,b("RavenMessagingState.bs").seen)&&h?"primary-icon":"disabled"}));return k.jsx(n,{attachment:c,children:k.jsx(b("MWPSolidMessageBubble.bs").make,{children:k.jsx("div",{className:(j||(j=b("stylex")))(r.wrapper),children:k.jsxs(b("MDSText.react"),{color:i!==void 0&&(b("bs_caml").i64_eq(i,b("RavenMessagingState.bs").unseen)||b("bs_caml").i64_eq(i,b("RavenMessagingState.bs").seen)&&h)?"primary":"disabled",type:"bodyLink3",children:[s,k.jsx("span",{className:j(r.text),children:f!==void 0?f:null})]})}),style:{backgroundColor:"var(--wash)"},connectTop:d,connectBottom:e,outgoing:a}),ariaLabel:f,initiallyUnread:h})}e=a;f.CustomColorIcon=c;f.OpenMediaViewerAction=d;f.styles=r;f.make=e}),null);
__d("MWChatOpenTabByThreadKey.bs",["FBID.bs","LS.bs","LSAuthorityLevel.bs","LSContactType.bs","LSDatabaseType.bs","LSTransaction.bs","LSVerifyThreadRowExists","MWChatOpenTabForPage.bs","MWChatOpenTabForUser.bs","MWLSActor.bs","MessagingThreadType.bs","Promise","ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_curry","bs_int64","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("useReStore")(),e=b("MWChatOpenTabForUser.bs").useHook(void 0,c),f=e[0],g=b("MWChatOpenTabForPage.bs").useHook(void 0,c),i=b("MWLSActor.bs").useActor(void 0),j=h.useMemo(function(){return new(b("Promise"))(function(c,e){var f=(e=b("ReQL.bs")).mergeJoin(e.filter(e.getKeyRange(e.fromTableAscending(d.table("participants")),{hd:a,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,i)}),e.fromTableAscending(d.table("contacts"))),g={contents:function(a){}};g.contents=b("SortedAsyncIterable.bs").subscribe(f,function(a,d){if(typeof d==="number")return;a=d._0[1];if(b("bs_caml").i64_ge(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative)){b("bs_curry")._1(g.contents,void 0);return c(a)}});b("promiseDone")(e.first(f),function(e){if(e!==void 0){e=e[1];if(b("bs_caml").i64_ge(e.authorityLevel,b("LSAuthorityLevel.bs").authoritative)){b("bs_curry")._1(g.contents,void 0);return c(e)}else return}b("promiseDone")(b("LSTransaction.bs").run(d,function(c){return b("LSVerifyThreadRowExists")(a,b("MessagingThreadType.bs").oneToOne,b("LSDatabaseType.bs").mailbox,b("LS.bs").make(c))},"readWrite"),void 0,void 0)})})},[a,d]);return h.useCallback(function(c){b("promiseDone")(j,function(c){var d=b("FBID.bs").ofStringExn(b("bs_int64").to_string(a));c=c.contactType;if(b("bs_caml").i64_eq(c,b("LSContactType.bs").page))return g(d,!1);else return f(d,!1)})},[j,f,g,a])}f.useHook=a}),null);
__d("MWLSMediaSendUtils.bs",["LS.bs","LSMarkSubJobCompletedV2","LSResumeMediaSendJob","bs_caml_format","bs_caml_int64","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";var g=function(a){return a.toString()};function a(a,c,d,e,f,h,i){i=e!==void 0?b("bs_caml_option").valFromOption(e):void 0;e=f!==void 0?b("bs_caml_option").valFromOption(f):void 0;f=h!==void 0?b("bs_caml_option").valFromOption(h):void 0;return b("LSMarkSubJobCompletedV2")(c,b("bs_caml_format").caml_int64_of_string(g(d)),i!==void 0?b("bs_caml_option").valFromOption(i):void 0,e!==void 0?b("bs_caml_option").valFromOption(e):void 0,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,b("LS.bs").make(a))}function c(a,c){return b("LSResumeMediaSendJob")(c,b("bs_caml_int64").zero,void 0,b("LS.bs").make(a))}f.castFbidFromNumber=g;f.markSubJobCompleted=a;f.resumeMediaSendJob=c}),null);
__d("MWLSImagePostbackCtaHandler.bs",["ActorURI","FBID.bs","LS.bs","LSDict","LSInsertNewMediaSend","LSLocalApplyOptimisticMessageWithAttachments","LSMailboxType.bs","LSMarkSubJobCompletedV2","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSOptimisticSendMessage","LSResumeMediaSendJob","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","LSVec.bs","MWLSActor.bs","MWLSMediaSendUtils.bs","MWThreadKey.bs","MercuryConfig","MercuryLocalIDs","MessagingAttachmentType.bs","MessagingThreadType.bs","Promise","URI","XComposerPhotoUploader","bs_caml_array","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a,c,d,e,f,g,h){var i=b("MercuryLocalIDs").generateOfflineThreadingID(void 0);return b("LSLocalApplyOptimisticMessageWithAttachments")(c,d,b("MessagingThreadType.bs").oneToOne,void 0,void 0,!1,void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,b("LSVec.bs").make([b("LSDict").fromObject({attachment_fbid:i,offline_attachment_id:i,attachment_type:b("MessagingAttachmentType.bs").image,attachment_index:b("bs_caml_int64").zero,filename:"postback image.jpg",filesize:void 0,has_media:!0,has_xma:!1,playable_url:void 0,playable_url_mime_type:void 0,playable_duration_ms:void 0,preview_url:e,preview_url_mime_type:"image/jpeg ",mini_preview:void 0,preview_width:void 0,preview_height:void 0,xma_layout_type:void 0,xmas_template_type:void 0,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,image_url:void 0,action_url:void 0,title_text:void 0,subtitle_text:void 0,description_text:void 0,source_text:void 0,original_file_hash:void 0})]),void 0,b("LS.bs").make(a)).then(function(c){var e=c[0];return a.table("messages_optimistic_context").add({taskId:b("bs_caml_format").caml_int64_of_string(e),threadKey:d,offlineThreadingId:e,messageId:void 0,threadAttributionSource:g,externalAttachmentUrl:void 0,platformRef:void 0,platformToken:f,replySourceId:void 0,replySourceType:void 0,sendType:void 0,markThreadRead:!0,initiatingSource:void 0}).then(function(a){return b("Promise").resolve([e,i])})})}function a(a,c){var d=b("useReStore")(),e=b("MWLSActor.bs").useActor(void 0),f=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return i.useMemo(function(){return function(g,i,k){var l=b("FBID.bs").ofStringExn(b("bs_int64").to_string(e)),m=function(a){var c=a[1],e=a[0],f=new(b("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:function(a,b){return!0},onUploadProgress:function(a,b){},onUploadStart:function(a){a=b("LSTransaction.bs").run(d,function(a){return b("LSInsertNewMediaSend")(c,e,b("bs_caml_int64").zero,b("MessagingAttachmentType.bs").image,!1,!1,!1,!1,b("LS.bs").make(a))},"readWrite");b("promiseDone")(a,void 0,void 0)},onUploadSuccess:function(a,f){a=b("bs_caml_array").get(f.response.payload.metadata,0);f=a.image_id;if(f===void 0)return;var g=b("bs_caml_option").valFromOption(f);a=b("LSTransaction.bs").run(d,function(a){return b("LSMarkSubJobCompletedV2")(c,b("bs_caml_format").caml_int64_of_string(b("MWLSMediaSendUtils.bs").castFbidFromNumber(g)),void 0,void 0,void 0,b("LS.bs").make(a)).then(function(c){return b("LSResumeMediaSendJob")(e,b("bs_caml_int64").zero,void 0,b("LS.bs").make(a))})},"readWrite");b("promiseDone")(a,void 0,void 0)},retryLimit:1,uploadEndpoint:new(b("ActorURI").create)(new(h||(h=b("URI")))(b("MercuryConfig").upload_url),l)});a=window.fetch(k).then(function(a){return a.blob()}).then(function(a){f.getAsyncUploadRequest([new File([a],"postback image.jpg",{type:"image/jpeg"})],void 0).send();return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,void 0)},n=b("LSThreadAttributionStore.bs").getSource(a,b("bs_int64").to_string(f)),o=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(n);n=b("LSTransaction.bs").run(d,function(a){return b("LSOptimisticSendMessage")(e,f,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,g,g,!1,void 0,void 0,void 0,void 0,o,void 0,void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,void 0,void 0,!0,!0,void 0,c!==void 0?b("bs_caml_option").valFromOption(c):void 0,void 0,b("LS.bs").make(a))},"readWrite").then(function(a){return b("LSTransaction.bs").run(d,function(a){return j(a,e,f,k,i,o,c).then(function(a){b("bs_curry")._1(m,a)})},"readWrite")});b("promiseDone")(n,void 0,void 0)}},[d,e,f])}f.usePostbackCtaHandler=a}),null);
__d("MWLSPostbackCtaHandler.bs",["LS.bs","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessagingInitiatingSourceHook.bs","LSOptimisticSendMessage","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","MWLSActor.bs","MWThreadKey.bs","MessagingThreadType.bs","bs_caml_option","bs_int64","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWLSActor.bs").useActor(void 0),e=b("MWThreadKey.bs").useIdMemoizedExn(void 0),f=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0);return h.useMemo(function(){return function(a,g){var h=b("LSThreadAttributionStore.bs").getSource(void 0,b("bs_int64").to_string(e)),i=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(h);b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("LSOptimisticSendMessage")(d,e,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,g,g,!1,void 0,void 0,void 0,void 0,i,void 0,a!==void 0?b("bs_caml_option").valFromOption(a):void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,void 0,void 0,!0,!0,void 0,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,void 0,b("LS.bs").make(c))},"readWrite"),void 0,void 0)}},[c,d,e])}f.usePostbackCtaHandler=a}),null);
__d("MWLSWebUrlCtaHandler.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWInboxUrlWebviewDialog.react").__setRef("MWLSWebUrlCtaHandler.bs"));var c=a[0];return h.useCallback(function(a){return c({htmlBlob:a},function(a){})},[c])}f.useShowWebViewDialog=a}),null);
__d("MWChatCustomerFeedbackFormDataQuery",["CometRelay","MWChatCustomerFeedbackFormDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e({firstScreen:a.messenger_feedback_form_data.first_screen,formId:a.messenger_feedback_form_data.form_id,pageId:a.messenger_feedback_form_data.page_id,privacy:a.messenger_feedback_form_data.privacy})});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackFormDataQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatCustomerFeedbackStateQuery",["CometRelay","MWChatCustomerFeedbackStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e(a.messenger_feedback_form_state.form_state)});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatEmojiUtil.bs",["LSHotEmojiSize.bs","bs_caml"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a!==void 0&&!b("bs_caml").i64_eq(a,b("LSHotEmojiSize.bs").small))if(b("bs_caml").i64_eq(a,b("LSHotEmojiSize.bs").medium))return 56;else if(b("bs_caml").i64_eq(a,b("LSHotEmojiSize.bs").large))return 96;else return 32;else return 32}f.transformHotEmojiSizeForWeb=a}),null);
__d("WorkXMAContentContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(void 0);function a(a){return i.Provider}function c(a){return h.useContext(i)}f.xmaContentContext=i;f.getProvider=a;f.useHook=c}),null);
__d("MWChatPollFacepile.bs",["fbt","ix","CometPressable.react","CometTintedIcon.react","JSResource","MWTooltip.react","MWTooltipGroup.react","WorkXMAContentContext.bs","bs_belt_Option","bs_caml_option","fbicon","gkx","react","stylex","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={root:{display:"j83agx80"},rootReversed:{flexDirection:"rl25f0pe"},contact:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},contactWithBoarder:{borderTop:"e6olcokw",borderEnd:"enkuubej",borderBottom:"r2474ujb",borderStart:"sxdk7pr0"},contactGapNegative:{marginStart:"pec0n382"},contactGapNormal:{marginStart:"kkf49tns"},contactLarge:{width:"bsnbvmp4",height:"k7cz35w2"},contactMedium:{width:"odw8uiq3",height:"jnigpg78"},contactSmall:{width:"gab7stmx",height:"i4qgphn6"},overflow:{lineHeight:"b2s5l15y",backgroundColor:"g6srhlxm",color:"m9osqain",borderTopStartRadius:"h1ci2mql",borderTopEndRadius:"mjfe6jtr",borderBottomEndRadius:"c6w6u7b1",borderBottomStartRadius:"hc21y3pz",paddingTop:"jb3vyjys",paddingEnd:"ph5uu5jm",paddingBottom:"qt6c0cv9",paddingStart:"scb9dxdr",marginStart:"pec0n382",fontSize:"e9vueds3",fontWeight:"ekzkrbhg"},photoWrap:{position:"l9j0dhe7",display:"q9uorilb"},overflowOverlay:{alignItems:"bp9cbjyn",backgroundColor:"s8bbyrx9",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",bottom:"i09qtzwb",display:"j83agx80",end:"n7fi1qx3",justifyContent:"taijpn5t",opacity:"ocubwz8y",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",zIndex:"tkr6xdv7"}};function m(a){var c=a.tooltip,d=a.align,e=a.position;a=a.children;if(c!==void 0)return k.jsx(b("MWTooltip.react"),{tooltip:b("bs_caml_option").valFromOption(c),align:function(){switch(d){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:function(){switch(e){case"below":return"below";case"above":return"above";case"start":return"start";case"end_":return"end"}}(),children:a});else return a}c={make:m};function a(a){var c=a.contacts,d=a.size,e=a.gap,f=a.direction,i=a.limit,n=a.contactWithBorder,o=a.overflowStyle,p=a.optionId,q=e!==void 0?e:"normal",r=f!==void 0?f:"normal",s=i!==void 0?i:2,t=n!==void 0?n:!0,u=o!==void 0?o:"showTotalCount",v=c.length>s;if(v&&u==="showTotalCount"){a=c.slice(0,-s|0).reverse().filter(function(a){return a.name!==void 0}).map(function(a){a=a.name;if(a!==void 0)return a;else return""});e=a.length===0?void 0:b("bs_caml_option").some(k.jsx("ul",{children:a.map(function(a,b){return k.jsx("li",{children:a},String(b))})}));f=k.jsx(m,{tooltip:e,align:"middle",position:"above",children:k.jsx("div",{className:(j||(j=b("stylex")))(l.overflow),children:"+"+String(c.length-2|0)})})}else f=null;i=k.jsxs(b("MWTooltipGroup.react"),{children:[f,c.slice(-(v?s:1e3)|0).reverse().map(function(a,c){return k.jsxs("div",{className:(j||(j=b("stylex")))(l.photoWrap,q==="normal"?l.contactGapNormal:l.contactGapNegative,d==="medium"?l.contactMedium:d==="small"?l.contactSmall:l.contactLarge),children:[k.jsx(m,{tooltip:b("bs_belt_Option").map(a.name,function(a){return a}),align:"middle",position:"above",children:k.jsx("img",{src:a.profile_picture_url,className:j(l.contact,d==="medium"?l.contactMedium:d==="small"?l.contactSmall:l.contactLarge,t?l.contactWithBoarder:!1)})}),v&&u==="overlayLastPhoto"&&c===(s-1|0)?k.jsx("div",{className:(j||(j=b("stylex")))(l.overflowOverlay),children:k.jsx(b("CometTintedIcon.react"),{color:"white",icon:b("fbicon")._(h("484386"),16)})}):null]},String(c))})]});var w=b("WorkXMAContentContext.bs").useHook(void 0);n=b("gkx")("1630108");if(!n)return k.jsx("div",{className:(j||(j=b("stylex")))(l.root,r==="reversed"?l.rootReversed:!1),children:i});o=b("useCometLazyDialog")(b("JSResource")("ChatLSGeminiChatPollFacepileDialog.react").__setRef("MWChatPollFacepile.bs"));var x=o[0];return k.jsx(b("CometPressable.react"),{"aria-label":g._(/*FBT_CALL*/"Open dialog with the list of voters"/*FBT_CALL*/).toString(),onPress:function(a){return x({optionId:p,pollId:w},function(a){})},overlayDisabled:!0,xstyle:function(a){return[l.root,r==="reversed"?l.rootReversed:!1]},children:i})}d=a;f.styles=l;f.ConditionalTooltip=c;f.make=d}),null);
__d("MWChatPollXMAActionHandler.bs",["JSResource","MWThreadKey.bs","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWThreadKey.bs").useIdMemoized(void 0);a=b("useCometLazyDialog")(b("JSResource")("MWChatPollDetailsDialog").__setRef("MWChatPollXMAActionHandler.bs"));var d=a[0];return h.useCallback(function(a){return function(b){return d({pollId:a,threadKey:c,title:b},function(a){})}},[d])}f.useHandler=a}),null);
__d("MWInboxThreadMessagesSpinner.bs",["CometHeroHoldTrigger.react","CometProgressRingIndeterminate.react","bs_curry","react","stylex","useIsMountedRef","useVisibilityObserver"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={mask:{backgroundColor:"nred35xi"},spinner:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",height:"rgmg9uty",flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",flexShrink:"pfnyh3mw",paddingTop:"pybr56ya",paddingBottom:"f10w8fjw"},spinnerPlaceholder:{height:"rgmg9uty",width:"k4urcfbm",backgroundColor:"nred35xi"}};function a(a){var c=b("useIsMountedRef")();a=i.useState(function(){return!1});var d=a[1];a=a[0];var e=i.useMemo(function(){return{onHidden:function(a){if(c.current)return b("bs_curry")._1(d,function(a){return!1})},onVisible:function(a){if(c.current)return b("bs_curry")._1(d,function(a){return!0})}}},[c,d]);e=b("useVisibilityObserver")(e);return i.jsxs(i.Fragment,{children:[i.jsx(b("CometHeroHoldTrigger.react"),{description:"MWChatSpinner",hold:a}),i.jsx("div",{ref:e,className:(h||(h=b("stylex")))(j.spinner,j.mask),children:a?i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24}):i.jsx("div",{className:(h||(h=b("stylex")))(j.spinnerPlaceholder)})})]})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2MessageRowActionsContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");c={current:function(a){}};d={current:function(a){}};e={current:function(a){}};b={current:function(a){}};c={forwardMessage:c,openReactionsMenu:d,removeMessage:e,replyToMessage:b};var i=h.createContext(c);function a(a){var b=a.children;a=a.value;return h.createElement(i.Provider,{value:a,children:b})}d={make:a};f.emptyValue=c;f.context=i;f.Provider=d}),null);
__d("useCometRouterIsChatEntity",["getCometEntityKey","recoverableViolation","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCometRouterState")();if(a==null){c("recoverableViolation")("Router state is not defined in `useCometRouterIsChatEntity`","work_comet_core");return!1}var b=c("getCometEntityKey")(a.main.route);if(b==null){c("recoverableViolation")("Entity keys are not defined for "+a.main.route.url,"work_comet_core");return!1}a=b.entity_type==="chat";b=b.section==="WORK_CHAT";return a||b}g["default"]=a}),98);
__d("MWChatReactionsAction.bs",["fbt","CometComponentWithKeyCommands.react","CometKeys","CometLazyPopoverTrigger.react","CometPopoverLoadingState.react","CometPressable.react","JSResource","KeyCommandHandler.react","LsTargetType.bs","MWChatColors.bs","MWLSLogMessageClick.bs","MWTooltip.react","MWV2MessageRowActionsContext.bs","ODS","bs_belt_Option","bs_curry","gkx","react","stylex","useCometRouterIsChatEntity"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");c={remove:"REMOVE_REACTION",add:"ADD_REACTION"};var k=b("MWChatColors.bs").MessageActions.styles,l={popoverLoading:{minHeight:"e170dy2k",minWidth:"ec2v3nvp"}};function m(a){}var n=j.jsxs("svg",{width:"22px",height:"22px",viewBox:"0 0 22 22",children:[j.jsx("circle",{cx:"11",cy:"11",r:"7",strokeWidth:"1.5px",className:(i||(i=b("stylex")))(k.svgStroke)}),j.jsx("path",{d:"M8,13Q11,16,14,13",className:i(k.svgStroke),strokeWidth:"1.5px"}),j.jsx("circle",{cx:"9",cy:"10",r:"1.2",className:i(k.svgFill)}),j.jsx("circle",{cx:"13",cy:"10",r:"1.2",className:i(k.svgFill)})]}),o=b("gkx")("1224637")&&!b("gkx")("471");d={key:b("CometKeys").UP};e={key:b("CometKeys").DOWN};var p=o?[{command:d,description:g._(/*FBT_CALL*/"Open reactions submenu"/*FBT_CALL*/),handler:function(a){}},{command:e,description:g._(/*FBT_CALL*/"Open reactions submenu"/*FBT_CALL*/),handler:function(a){}}]:[];function a(a){var c=a.onVisibilityChange,d=a.sendReaction,e=a.align,f=a.selectedReaction,h=a.closeActionsMenu,q=a.messageID,r=g._(/*FBT_CALL*/"React"/*FBT_CALL*/);a=b("gkx")("1224637")&&b("useCometRouterIsChatEntity")();var s=j.useState(function(){return!1}),t=s[1],u=s[0];s=j.useContext(b("MWV2MessageRowActionsContext.bs").context);var v=s.openReactionsMenu,w=j.useCallback(function(a){if(b("gkx")("3417")){v.current=m;return}},[v]);j.useEffect(function(){return w},[w]);return j.jsx(b("CometLazyPopoverTrigger.react"),{fallback:j.jsx(b("CometPopoverLoadingState.react"),{withArrow:!0,xstyle:[l.popoverLoading]}),onVisibilityChange:function(a){a||b("bs_curry")._1(t,function(a){return!1});return b("bs_curry")._1(c,a)},popoverResource:a&&b("gkx")("4433")?b("JSResource")("ChatGeminiAnimatedReactionsMenu").__setRef("MWChatReactionsAction.bs"):b("JSResource")("MWChatReactionsMenu").__setRef("MWChatReactionsAction.bs"),popoverProps:{onSelect:function(a){var c=f!==void 0?f===a:!1;b("bs_curry")._2(d,a,c);c||b("MWLSLogMessageClick.bs").logMessageClicked(q,b("LsTargetType.bs").reaction,void 0,void 0);return b("bs_curry")._1(h,void 0)},selectedReaction:f,onClose:function(a){},closeActionsMenu:h,showEmojiPicker:u,setShowEmojiPicker:b("bs_curry").__1(t),messageID:q},popoverType:u?"dialog":"menu",align:function(){switch(b("bs_belt_Option").getWithDefault(e,"middle")){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:function(){switch(u?"below":"above"){case"above":return"above";case"below":return"below";case"start":return"start";case"end_":return"end"}}(),children:function(a,c,d,e,f,g,h){var l=function(a){b("bs_curry")._1(c,void 0),b("MWLSLogMessageClick.bs").logMessageClicked(q,b("LsTargetType.bs").reactionIcon,void 0,void 0),b("ODS").bumpEntityKey(3185,"mwchat_actions","reaction")};v.current=l;d=function(a){var b=a.key;if(o&&(b==="ArrowUp"||b==="ArrowDown")){l(void 0);a.preventDefault();return}};return j.jsx(b("MWTooltip.react"),{tooltip:r,align:"middle",position:"above",children:j.jsx(b("CometComponentWithKeyCommands.react"),{commandConfigs:p,xstyle:!1,children:j.jsx(b("KeyCommandHandler.react"),{children:j.jsx(b("CometPressable.react"),{"aria-label":r,role:o?"menuitem":"button",expanding:!0,ref:a,testid:"messenger_reactions_menu_button",onHoverIn:b("bs_curry").__1(e),onHoverOut:function(a){return b("bs_curry")._1(f,void 0)},onPressIn:b("bs_curry").__1(g),onPress:l,overlayDisabled:!0,children:j.jsx("div",{className:(i||(i=b("stylex")))(k.action),children:j.jsx("div",{className:i(k.icon),children:n})})}),onKeyDown:d})})})}})}a=a;f.Action=c;f.styles=k;f.styles2=l;f.noop=m;f.reactionIcon=n;f.isMessengerWebV1=o;f.keyUp=d;f.keyDown=e;f.commandConfigs=p;f.make=a}),null);
__d("MWMessageElementRefList.bs",["bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=new Map(),d=new Map(),e={contents:void 0};return{set:function(a){var f=d.get(a);if(!(f==null))return f;f=function(d){if(d==null){c["delete"](a);return}c.set(a,d);var f=e.contents;if(f!==void 0&&f[0]===a){b("bs_curry")._1(f[1],d);e.contents=void 0;return}};d.set(a,f);return f},get:function(a,d){var f=c.get(a);if(f==null){e.contents=[a,d];return}else return b("bs_curry")._1(d,f)}}}function c(a){switch(a.TAG|0){case 0:var b=a._0.messageID;if(typeof b==="number")return;if(b.TAG===0){var c=b._0.offlineThreadingId;return c}c=b._0.messageId;return c;case 1:b=a._0.messageID;if(typeof b==="number")return;if(b.TAG===0){c=b._0.offlineThreadingId;return c}c=b._0.messageId;return c;case 2:b=a._0.messageID;if(typeof b==="number")return;if(b.TAG===0){c=b._0.offlineThreadingId;return c}a=b._0.messageId;return a}}f.make=a;f.messageIdFromContent=c}),null);
__d("MWChatGutterItem.bs",["BaseGlimmer.react","MWLSThreadDisplayContext.bs","MWMessageDeliveryStatus.bs","MWMessageDeliveryStatusIcons.bs","MWTheme.bs","MWTooltip.react","bs_caml_obj","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{display:"j83agx80",alignItems:"aovydwv3"},mask:{backgroundColor:"nred35xi"},incoming:{flexDirection:"rl25f0pe"},icon:{display:"j83agx80",flexShrink:"pfnyh3mw",marginStart:"kkf49tns",marginEnd:"cgat1ltu",verticalAlign:"hrs1iv20",userSelect:"abiwlrkh",width:"gab7stmx",height:"i4qgphn6"},image:{marginStart:"kkf49tns",marginEnd:"cgat1ltu",verticalAlign:"hrs1iv20",userSelect:"abiwlrkh",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},profilePlaceholder:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",verticalAlign:"pzggbiyp",width:"gab7stmx",height:"i4qgphn6"},noneStatus:{flexShrink:"pfnyh3mw",width:"pgctjfs5"}};function a(a){var c=a.status,d=a.incoming,e=a.hasRepliedToMessage,f=a.xstyle;a=a.id;d=d!==void 0?d:!1;e=e!==void 0?e:!1;f=f!==void 0?b("bs_caml_option").valFromOption(f):!1;a=a!==void 0?a:"";var g=b("MWTheme.bs").useTheme(void 0);g=b("MWTheme.bs").isGradient(g);var k=b("MWMessageDeliveryStatus.bs").getStatusTitle(c),l=b("MWLSThreadDisplayContext.bs").useHook(void 0),m;if(typeof c==="number")if(c===0)m=i.jsx("div",{className:(h||(h=b("stylex")))(j.noneStatus)});else{var n;if(typeof c==="number")switch(c){case 0:n=null;break;case 1:n=i.jsx(b("MWMessageDeliveryStatusIcons.bs").Sending.make,{size:1,xstyle:j.icon});break;case 2:n=i.jsx(b("MWMessageDeliveryStatusIcons.bs").Sent.make,{size:1,xstyle:j.icon});break;case 3:n=i.jsx(b("MWMessageDeliveryStatusIcons.bs").Delivered.make,{size:1,xstyle:j.icon});break;case 4:n=i.jsx(b("MWMessageDeliveryStatusIcons.bs").$$Error.make,{size:1,xstyle:j.icon});break}else n=null;m=i.jsx("div",{children:n})}else switch(c.TAG|0){case 0:c=c._0;m=c.imageSrc===""?i.jsx(b("BaseGlimmer.react"),{className:(h||(h=b("stylex")))(j.profilePlaceholder),index:1}):i.jsx("img",{width:"14px",height:"14px",alt:k,"data-testid":"messenger_single_seen_head",className:(h||(h=b("stylex")))(j.image),src:c.imageSrc});break;case 1:m=null;break;case 2:m=i.jsx(b("MWMessageDeliveryStatusIcons.bs").DeliveredAndRead.make,{size:1,xstyle:j.icon});break}c=k!==""?i.jsx(b("MWTooltip.react"),{tooltip:k,align:function(){switch(b("bs_caml_obj").caml_equal(l,1)?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:"above",children:m}):m;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.root,g&&!e?j.mask:!1,d?j.incoming:!1,f),"data-testid":"messenger_delivery_status",id:a,children:c})}c=a;f.styles=j;f.make=c}),null);
__d("MWForwardedContent.bs",["MDSForwardSvgIcon.bs","MWPForwardedContent.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"j83agx80",alignItems:"bp9cbjyn",paddingTop:"jwdofwj8",paddingBottom:"pby63qed"},text:{paddingStart:"hyh9befq",color:"pipptul6",fontSize:"sq6gx45u"}};function a(a){var c=a.message;a=a.outgoing;c=b("MWPForwardedContent.bs").useTitle(c,a);return i.jsxs("div",{className:(h||(h=b("stylex")))(j.container),children:[i.jsx(b("MDSForwardSvgIcon.bs").make,{color:"tertiary",size:"16"}),i.jsx("div",{className:h(j.text),children:c})]})}c=a;f.styles=j;f.make=c}),null);
__d("MWMessageListAttachmentDimensions.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,b){return h.useMemo(function(){var c=b.previewWidthLarge,d=b.previewHeightLarge;return a!==void 0&&c!==void 0&&d!==void 0&&a===1?[c,d]:[b.previewWidth,b.previewHeight]},[a,b])}f.useHook=a}),null);
__d("MWV2MediaViewerContainer.bs",["MessengerBlurpleLogoSvg.bs","XMessengerDotComCometRootControllerRouteBuilder","bs_belt_Option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={buttonContainer:{start:"re5koujm",position:"pmk7jnqg",top:"fcg2cn6m"},actionContainer:{end:"cypi58rs",position:"pmk7jnqg",top:"fcg2cn6m"},container:{alignItems:"gs1a9yip",backgroundColor:"tqsryivl",boxSizing:"rq0escxv",display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",height:"datstx6m",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"l9j0dhe7",userSelect:"abiwlrkh",":focus":{outline:"iqfcb0g7"}}};function a(a){var c=a.children,d=a.shouldShowMessengerLogo;a=a.actions;return i.jsxs("div",{className:(h||(h=b("stylex")))(j.container),children:[c,i.jsx("div",{className:h(j.buttonContainer),children:b("bs_belt_Option").getWithDefault(d,!1)?i.jsx("a",{"aria-label":"Messenger",href:b("XMessengerDotComCometRootControllerRouteBuilder").buildURL(),children:i.jsx(b("MessengerBlurpleLogoSvg.bs").make,{width:"40",height:"40"})}):null}),i.jsx("div",{className:h(j.actionContainer),children:a})]})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2MediaViewerShowDialog.bs",["JSResourceForInteraction","MWV2MediaViewerFallback.bs","bs_curry","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){return h.jsx(b("MWV2MediaViewerFallback.bs").make,{onClose:a})}function a(a){var c=b("useCometLazyDialog")(b("JSResourceForInteraction")("MWV2MediaViewer.react",{name:"MWV2MediaViewer","class":"fluid"}).__setRef("MWV2MediaViewerShowDialog.bs"),i),d=c[1];h.useEffect(function(){a||b("bs_curry")._1(d,void 0)},[d,a]);return[c[0],d]}f.useHook=a}),null);
__d("MWV2ChatImage.bs",["fbt","LSAuthorityLevel.bs","LsTargetType.bs","MWChatImageInsetShadow.bs","MWInboxInfoSharedContentQPLLogger.bs","MWLSThreadDisplayContext.bs","MWMessageListAttachmentDimensions.bs","MWMessageListMediaPressableContainer.bs","MWPStableImage.bs","MWV2AttachmentProgressBar.bs","MWV2LogMessageClick.bs","MWV2MediaViewerShowDialog.bs","MWV2UseFocusRowAfterClosingPushView.bs","MWV2UseMediaViewerURL.bs","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={container:{display:"j83agx80",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},content:{display:"j83agx80",flexDirection:"cbu4d94t",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",position:"l9j0dhe7"},standalone:{borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze"},withAppAttribution:{borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"mrjvor2e",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"jinzq4gt"},appIcon:{width:"hhz5lgdu",height:"gl3lb2sf",marginEnd:"fv0vnmcu",objectFit:"r0294ipz",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},appAttr:{paddingTop:"ecm0bbzt",paddingEnd:"p8fzw8mz",paddingBottom:"e5nlhep0",paddingStart:"pcp91wgn",display:"j83agx80",alignItems:"bp9cbjyn",borderBottomStartRadius:"qmr60zad",borderBottomEndRadius:"inkptoze",lineHeight:"dfwzkoeu"},appText:{fontSize:"e9vueds3",color:"oo9gr5id",wordBreak:"qv66sw1b"},incoming_connect_top:{borderTopStartRadius:"jk6sbkaj"},outgoing_connect_top:{borderTopEndRadius:"kdgqqoy6"},incoming_connect_bottom:{borderBottomStartRadius:"qttc61fc"},outgoing_connect_bottom:{borderBottomEndRadius:"ihh4hy1g"}};function l(a){a=a.attachment;var c=a.attributionAppName;if(c===void 0)return null;a=a.attributionAppIcon;return j.jsxs("div",{className:(i||(i=b("stylex")))(k.appAttr),children:[a!==void 0?j.jsx("img",{role:"presentation",src:a,className:(i||(i=b("stylex")))(k.appIcon)}):null,j.jsx("span",{className:i(k.appText),children:c})]})}c={make:l};function a(a){var c=a.message,d=a.attachment,e=a.getPreviewUrl,f=a.connectTop,h=a.connectBottom,m=a.outgoing;a=a.navigateToRouteForMediaViewer;h=h!==void 0?h:!1;var n=a!==void 0?a:!0;a=b("MWLSThreadDisplayContext.bs").useHook(void 0);var o=d.attributionAppName!==void 0;a=b("MWMessageListAttachmentDimensions.bs").useHook(a,d);var p=a[1];a=a[0];var q=b("MWV2UseMediaViewerURL.bs").useHook(d);f=f?m?k.outgoing_connect_top:k.incoming_connect_top:!1;h=h?m?k.outgoing_connect_bottom:k.incoming_connect_bottom:!1;m=b("gkx")("1924962");var r=b("MWV2UseFocusRowAfterClosingPushView.bs").useHook(void 0),s=b("MWV2MediaViewerShowDialog.bs").useHook(n),t=s[1],u=s[0];s=b("bs_curry")._1(e,d);if(s===void 0)return null;e=n&&b("bs_caml").i64_gt(c.authorityLevel,b("LSAuthorityLevel.bs").clientPartial)?{passthroughProps:{origSrc:s},url:q}:void 0;q=d.titleText;a={attachment:d,onPress:function(a){b("MWV2LogMessageClick.bs").log(c,b("LsTargetType.bs").attachmentImage,void 0,void 0);b("MWInboxInfoSharedContentQPLLogger.bs").logOpenSharedContentFromThread(0);b("bs_curry")._1(r,function(a){return!0});if(!n)return u({attachment:d},function(a){})},children:[j.jsx(b("MWPStableImage.bs").make,{width:a!==void 0?b("bs_caml_int64").to_float(a):void 0,height:p!==void 0?b("bs_caml_int64").to_float(p):void 0,src:s,alt:q!==void 0&&m?q:g._(/*FBT_CALL*/"Open photo"/*FBT_CALL*/),maxHeight:200,maxWidth:480,className:(i||(i=b("stylex")))(k.content,o?k.withAppAttribution:k.standalone,f,h),children:j.jsx(l,{attachment:d})}),b("bs_caml").i64_le(c.authorityLevel,b("LSAuthorityLevel.bs").clientPartial)?j.jsx(b("MWV2AttachmentProgressBar.bs").make,{attachment:d}):null,j.jsx(b("MWChatImageInsetShadow.bs").make,{xstyle:[f,h]})],xstyle:[k.container,k.standalone,f,h],testid:"chat-image",onHoverIn:function(a){if(!n)return b("bs_curry")._1(t,void 0)},disabled:b("bs_caml").i64_le(c.authorityLevel,b("LSAuthorityLevel.bs").clientPartial)};e!==void 0&&(a.linkProps_=b("bs_caml_option").valFromOption(e));return j.jsxs(b("MWMessageListMediaPressableContainer.bs").make,a,d.attachmentFbid)}d=a;f.styles=k;f.AppAttribution=c;f.make=d}),null);
__d("MWResponsiveVideo.bs",["BaseGlimmer.react","CometObjectFitContainer.react","CometPlaceholder.react","LSThreadCapabilityBitOffset.bs","MWLSThreadDisplayContext.bs","MWThreadCapabilitiesContext.bs","bs_caml_option","bs_curry","deferredLoadComponentForReason","gkx","react","requireDeferredForDisplay","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{maxWidth:"d2edcug0",position:"l9j0dhe7",minWidth:"fc1w0g64",minHeight:"on1dxsw4",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},fill:{position:"pmk7jnqg",top:"kr520xx4",left:"j34wkznp",right:"kwrap0ej",bottom:"i09qtzwb",zIndex:"tkr6xdv7"}},k={root:{display:"j83agx80",overflowX:"ni8dbmo4",overflowY:"stjgntxs",height:"datstx6m",width:"k4urcfbm",position:"pmk7jnqg",borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze"},glimmer:{height:"datstx6m",width:"k4urcfbm",position:"pmk7jnqg"}};function l(a){a=a.xstyle;return i.jsx("div",{className:(h||(h=b("stylex")))(k.root,a),children:i.jsx(b("BaseGlimmer.react"),{className:h(k.glimmer),index:0})})}c={styles:k,make:l};var m=b("requireDeferredForDisplay")("MWChatVideoPlayer.bs").__setRef("MWResponsiveVideo.bs");function n(a,c,d,e,f,g,h,i,j,k){k={fbid:c,sdSrc:f,originalHeight:g,originalWidth:h,hideExpandButton:i,controls:j};a!==void 0&&(k.autoPlaySetting=b("bs_caml_option").valFromOption(a));d!==void 0&&(k.hdSrc=d);e!==void 0&&(k.initalForceHD=e);return k}function o(a){return i.createElement(b("deferredLoadComponentForReason")(m).make,a)}d={makeProps:n,make:o};function p(a){if(a===1)return[240,140];else return[180,140]}function a(a){var c=a.width,d=a.height,e=a.src,f=a.maxHeight,g=a.maxWidth,k=a.connectTopStyles;a=a.fbid;var m=b("MWLSThreadDisplayContext.bs").useHook(void 0),q=i.useMemo(function(){var a=c!==void 0?d!==void 0?[c,d]:[500,300]:[500,300];return a[0]/a[1]},[c,d]),r=b("MWThreadCapabilitiesContext.bs").useHook(void 0),s=b("gkx")("1581")&&b("bs_curry")._1(r,b("LSThreadCapabilityBitOffset.bs").blurMedia);r=i.useMemo(function(){var a=c!==void 0?c:500,b=p(m);return{maxHeight:f.toString()+"px",minHeight:s?b[1].toString(10)+"px":"",minWidth:s?b[0].toString(10)+"px":"",width:Math.min(a,g).toString()+"px"}},[f,c,g,s,m]);return i.jsxs("div",{className:(h||(h=b("stylex")))(j.container),style:r,children:[i.jsx("div",{className:h(j.fill),children:i.jsx(b("CometPlaceholder.react"),{children:i.jsx(o,n(s?"off":void 0,a,void 0,void 0,e,d!==void 0?d|0:300,c!==void 0?c|0:500,!0,"mwchat",void 0)),fallback:i.jsx(l,{xstyle:k})})}),i.jsx(b("CometObjectFitContainer.react"),{contentAspectRatio:q,children:null,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO"})]})}e=a;f.styles=j;f.VideoLoader=c;f.$MWChatVideoPlayer$DeferredForDisplay=m;f.MWChatVideoPlayerLazy=d;f.getMinDimensionsForProtectedVideo=p;f.make=e}),null);
__d("MWV2ChatVideo.bs",["fbt","FBID.bs","LSAuthorityLevel.bs","LsTargetType.bs","MWChatImageInsetShadow.bs","MWLSThreadDisplayContext.bs","MWMessageListMediaPressableContainer.bs","MWResponsiveVideo.bs","MWV2AttachmentProgressBar.bs","MWV2LogMessageClick.bs","MWV2MediaViewerShowDialog.bs","MWV2UseFocusRowAfterClosingPushView.bs","MWV2UseMediaViewerURL.bs","bs_caml","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={root:{display:"a8c37x1j",position:"l9j0dhe7",maxWidth:"d2edcug0",backgroundColor:"nred35xi",borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",backfaceVisibility:"efwgsih4",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},incoming_connect_top:{borderTopStartRadius:"jk6sbkaj"},outgoing_connect_top:{borderTopEndRadius:"kdgqqoy6"}};function a(a){var c=a.message,d=a.attachment,e=a.getPreviewUrl,f=a.connectTop,h=a.outgoing;a=a.navigateToRouteForMediaViewer;var k=a!==void 0?a:!0;a=b("MWV2UseMediaViewerURL.bs").useHook(d);f=f?h?j.outgoing_connect_top:j.incoming_connect_top:!1;var l=b("MWV2UseFocusRowAfterClosingPushView.bs").useHook(void 0);h=b("MWLSThreadDisplayContext.bs").useHook(void 0);var m=b("MWV2MediaViewerShowDialog.bs").useHook(k),n=m[1],o=m[0];m=b("bs_curry")._1(e,d);if(m===void 0)return null;e=k&&b("bs_caml").i64_gt(c.authorityLevel,b("LSAuthorityLevel.bs").clientPartial)?{passthroughProps:{origSrc:m},url:a}:void 0;a=d.previewWidth;var p=d.previewHeight;a={attachment:d,onPress:function(a){b("MWV2LogMessageClick.bs").log(c,b("LsTargetType.bs").attachmentVideo,void 0,void 0);b("bs_curry")._1(l,function(a){return!0});if(!k)return o({attachment:d},function(a){})},children:[i.jsx(b("MWResponsiveVideo.bs").make,{width:a!==void 0?b("bs_caml_int64").to_float(a):void 0,height:p!==void 0?b("bs_caml_int64").to_float(p):void 0,src:m,maxHeight:200,maxWidth:b("bs_caml_obj").caml_equal(h,1)?500:167,connectTopStyles:f,fbid:b("FBID.bs").ofStringExn(d.attachmentFbid)}),b("bs_caml").i64_le(c.authorityLevel,b("LSAuthorityLevel.bs").clientPartial)?i.jsx(b("MWV2AttachmentProgressBar.bs").make,{attachment:d}):null,i.jsx(b("MWChatImageInsetShadow.bs").make,{xstyle:[f]})],xstyle:[j.root,f],overlayDisabled:!0,testid:"chat-video",ariaLabel:g._(/*FBT_CALL*/"Expand video"/*FBT_CALL*/),onHoverIn:function(a){if(!k)return b("bs_curry")._1(n,void 0)},disabled:b("bs_caml").i64_le(c.authorityLevel,b("LSAuthorityLevel.bs").clientPartial)};e!==void 0&&(a.linkProps_=b("bs_caml_option").valFromOption(e));return i.jsxs(b("MWMessageListMediaPressableContainer.bs").make,a)}c=a;f.styles=j;f.make=c}),null);
__d("MWMessageListAttachment.bs",["fbt","LSMediaUrl.bs","MWAudioPlayer.bs","MWLSThreadDisplayContext.bs","MWV2ChatImage.bs","MWV2ChatVideo.bs","MWV2Sticker.bs","MWV2TombstonedMessage.bs","bs_caml_option","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");function a(a){var c=a.xstyle,d=a.connectTop;a=a.connectBottom;c=c!==void 0?b("bs_caml_option").valFromOption(c):!1;return j.jsx("div",{className:(i||(i=b("stylex")))(c),children:j.jsx(b("MWV2TombstonedMessage.bs").make,{children:g._(/*FBT_CALL*/"Error rendering media"/*FBT_CALL*/),connectTop:d,connectBottom:a})})}a={make:a};function c(a){var c=a.attachment,d=a.message,e=a.connectTop;a=a.outgoing;var f=j.useCallback(function(a){return b("LSMediaUrl.bs").Attachment.playableUrl(a)});return j.jsx(b("MWV2ChatVideo.bs").make,{message:d,attachment:c,getPreviewUrl:f,connectTop:e,outgoing:a})}c={make:c};function d(a){var c=a.attachment;a=a.outgoing;var d=j.useCallback(function(a){return b("LSMediaUrl.bs").Attachment.playableUrl(a)},[c]);return j.jsx(b("MWAudioPlayer.bs").make,{attachment:c,getPlayableUrl:d,outgoing:a})}d={make:d};function e(a){var c=a.message,d=a.attachment,e=a.connectTop,f=a.connectBottom;a=a.outgoing;var g=b("MWLSThreadDisplayContext.bs").useHook(void 0),h=j.useCallback(function(a){var c=a.previewUrlLarge;if(c!==void 0&&g===1)return c;else return b("LSMediaUrl.bs").Attachment.previewUrl(a)},[g]),i=function(a){return b("LSMediaUrl.bs").Attachment.playableUrl(a)};return j.jsx(b("MWV2ChatImage.bs").make,{message:c,attachment:d,getPreviewUrl:h,getPlayableUrl:i,connectTop:e,connectBottom:f,outgoing:a})}e={make:e};function k(a){a=a.attachment;var c=j.useCallback(function(a){var c=b("LSMediaUrl.bs").Attachment.playableUrl(a);if(c!==void 0)return c;c=b("LSMediaUrl.bs").Attachment.previewUrl(a);if(c!==void 0)return c;else{b("recoverableViolation")("Sticker Attachment has no preview_url or playable_url: "+a.attachmentFbid,"messenger_privacy_web");return}});return j.jsx(b("MWV2Sticker.bs").make,{attachment:a,getPreviewUrl:c})}k={make:k};f.$$Error=a;f.Video=c;f.$$Audio=d;f.$$Image=e;f.Sticker=k}),null);
__d("MWPMessageListColumn.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{alignSelf:"ns4p8fja",display:"j83agx80",flexDirection:"cbu4d94t",alignItems:"a6sixzi8",justifyContent:"bkfpd7mw",maxWidth:"d2edcug0"},shrinkwrap:{flexGrow:"kb5gq1qc"},grow:{flexGrow:"buofh1pr"},paint:{backgroundColor:"nred35xi"},profile:{paddingStart:"jy3qco62",paddingEnd:"dflh9lhu"},withGutters:{paddingEnd:"akiltmtj",paddingStart:"l3s49flk"},makeSpaceForActions:{maxWidth:"a1xu1aao"},centered:{alignItems:"bp9cbjyn"}};function k(a){var c=a.children,d=a.grow,e=a.shrinkwrap,f=a.paint,g=a.profile,k=a.withGutters,l=a.makeSpaceForActions;a=a.centered;d=d!==void 0?d:!1;e=e!==void 0?e:!1;f=f!==void 0?f:!1;g=g!==void 0?g:!1;k=k!==void 0?k:!1;l=l!==void 0?l:!1;a=a!==void 0?a:!1;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.root,d?j.grow:!1,e?j.shrinkwrap:!1,f?j.paint:!1,g?j.profile:!1,k?j.withGutters:!1,l?j.makeSpaceForActions:!1,a?j.centered:!1),children:c})}var l={styles:j,make:k};function a(a){var b=a.children,c=a.shrinkwrap;a=a.grow;c=c!==void 0?c:!1;a=a!==void 0?a:!1;return i.jsx(k,{children:b,grow:a,shrinkwrap:c,paint:!0,withGutters:!0})}a={make:a};function c(a){a=a.children;return i.jsx(k,{children:a,shrinkwrap:!0,paint:!0,profile:!0})}c={make:c};function d(a){var b=a.children,c=a.paint;a=a.centered;c=c!==void 0?c:!0;a=a!==void 0?a:!1;return i.jsx(k,{children:b,shrinkwrap:!0,paint:c,centered:a})}d={make:d};function e(a){a=a.children;return i.jsx(k,{children:a,grow:!0,paint:!0})}e={make:e};function m(a){var b=a.children,c=a.paint;a=a.makeSpaceForActions;return i.jsx(k,{children:b,paint:c,makeSpaceForActions:a})}m={make:m};var n={spacer:{flexGrow:"buofh1pr",flexBasis:"rj1gh0hx"}};function o(a){return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(n.spacer)})}o={styles:n,make:o};var p={vr:{backgroundColor:"nred35xi",width:"k4urcfbm"}};function q(a){a=a.height;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(p.vr),style:{height:""+a+"px"}})}q={styles:p,make:q};f.BaseColumn=l;f.WithGutters=a;f.Profile=c;f.Shrinkwrap=d;f.Grow=e;f.Bubble=m;f.HorizontalSpacer=o;f.VerticalRhythm=q}),null);
__d("MWPMessageWithAttachmentHasPoll.bs",["LSMessageContentType.bs","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("bs_caml_int64").to_int32(b("bs_caml_int64").and_(b("LSMessageContentType.bs").admin,a.displayedContentTypes))!==0}f.make=a}),null);
__d("MWV2MessageHasReply.bs",["LSMessageReplySourceTypeV2.bs","bs_caml"],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.replySourceTypeV2;if(a!==void 0&&b("bs_caml").i64_neq(a,b("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}f.make=a}),null);
__d("MWV2MessageHasXMA.bs",["LSMessageContentType.bs","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a){return[b("bs_caml_int64").and_(b("LSMessageContentType.bs").singleXma,a.displayedContentTypes),b("bs_caml_int64").and_(b("LSMessageContentType.bs").hscrollXma,a.displayedContentTypes)].some(function(a){return b("bs_caml_int64").to_int32(a)!==0})}f.make=a}),null);
__d("MWPMessageListAttachment.bs",["LSInt64.bs","LSThreadCapabilityBitOffset.bs","MWPMessageListColumn.bs","MWPMessageWithAttachmentHasPoll.bs","MWThreadCapabilitiesContext.bs","MWV2MessageHasReply.bs","MWV2MessageHasXMA.bs","MWVerticalRhythm.bs","MessagingAttachmentType.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_option","bs_curry","gkx","react","stylex","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={vr:{backgroundColor:"nred35xi",height:"p3ovkuyr",width:"k4urcfbm"},container:{maxWidth:"d2edcug0",position:"l9j0dhe7",zIndex:"tkr6xdv7"},container_for_xma:{width:"k4urcfbm"},container_for_poll:{alignItems:"bp9cbjyn",display:"j83agx80",flexDirection:"cbu4d94t",width:"k4urcfbm"},file:{paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso"}};function k(a){var c=a.children,d=a.message,e=a.connectTop,f=a.paint;a=a.renderEmphasisRing;f=f!==void 0?f:!0;var g=b("MWV2MessageHasXMA.bs").make(d),k=b("MWV2MessageHasReply.bs").make(d);d=b("MWPMessageWithAttachmentHasPoll.bs").make(d);d=i.jsx("div",{className:(h||(h=b("stylex")))(j.container,g?j.container_for_xma:!1,d?j.container_for_poll:!1),children:c});return i.jsxs(i.Fragment,{children:[e&&!g?i.jsx("div",{className:(h||(h=b("stylex")))(j.vr)}):null,i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:a!==void 0?b("bs_curry")._2(a,g,d):d,paint:!k&&f})]})}c={make:k};function l(a){return b("bs_caml").i64_eq(a.attachmentType,b("MessagingAttachmentType.bs").image)}function m(a,c){return b("LSInt64.bs").compare(a.attachmentIndex,c.attachmentIndex)}function a(a){var c=a.message,d=a.connectTop,e=a.connectBottom,f=a.renderFileAttachment,g=a.renderImageAttachment,h=a.renderUnsupportedAttachment,j=a.renderUnsupportedMultipleAttachments,n=a.renderVideoAttachment,o=a.renderAudioAttachment,p=a.renderStickerAttachment,q=a.renderImageGrid,r=a.renderXMAAttachment,s=a.renderEphemeralMediaAttachment,t=a.renderEmphasisRing,u=b("useReStore")(),v=c.messageId,w=c.threadKey,x=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(u.table("attachments")),{hd:w,tl:{hd:v,tl:0}})},[u,v,JSON.stringify(w)])).sort(m);a=b("MWThreadCapabilitiesContext.bs").useHook(void 0);a=b("gkx")("1581")&&b("bs_curry")._1(a,b("LSThreadCapabilityBitOffset.bs").blurMedia);if(x.length!==1){if(!(x.length>1&&x.every(l)))if(j!==void 0)return b("bs_curry")._1(j,x);else return null;if(a)return x.map(function(a,e){var f={children:b("bs_curry")._3(g,a,e!==0,e!==(x.length-1|0)),message:c,connectTop:d};t!==void 0&&(f.renderEmphasisRing=b("bs_caml_option").valFromOption(t));return i.jsxs(i.Fragment,{children:[e!==0?i.jsx(b("MWVerticalRhythm.bs").make,{height:2}):null,i.jsx(k,f)]},a.attachmentFbid)});j={children:b("bs_curry")._1(q,x),message:c,connectTop:d};t!==void 0&&(j.renderEmphasisRing=b("bs_caml_option").valFromOption(t));return i.jsx(k,j)}a=x[0];q=a.attachmentType;j=b("bs_caml").i64_eq(q,b("MessagingAttachmentType.bs").audio)?!1:!0;q=a.attachmentType;e={children:b("bs_caml").i64_eq(q,b("MessagingAttachmentType.bs").image)||b("bs_caml").i64_eq(q,b("MessagingAttachmentType.bs").animatedImage)?b("bs_curry")._3(g,a,d,e):b("bs_caml").i64_eq(q,b("MessagingAttachmentType.bs").video)?b("bs_curry")._1(n,a):b("bs_caml").i64_eq(q,b("MessagingAttachmentType.bs").audio)?b("bs_curry")._1(o,a):b("bs_caml").i64_eq(q,b("MessagingAttachmentType.bs").sticker)?b("bs_curry")._1(p,a):b("bs_caml").i64_eq(q,b("MessagingAttachmentType.bs").xma)?b("bs_curry")._1(r,a):b("bs_caml").i64_eq(q,b("MessagingAttachmentType.bs").file)?b("bs_curry")._1(f,a):b("bs_caml").i64_eq(q,b("MessagingAttachmentType.bs").ephemeralImage)||b("bs_caml").i64_eq(q,b("MessagingAttachmentType.bs").ephemeralVideo)?b("bs_curry")._1(s,a):b("bs_curry")._1(h,a),message:c,connectTop:d,paint:j};t!==void 0&&(e.renderEmphasisRing=b("bs_caml_option").valFromOption(t));return i.jsx(k,e)}d=a;f.styles=j;f.Container=c;f.isImage=l;f.orderByUserSelection=m;f.make=d}),null);
__d("MWV2ChatImagesGrid.bs",["fbt","CometImageCover.react","CometPhotoGrid.react","CometPressable.react","LSMediaUrl.bs","MWLSThreadDisplayContext.bs","MWV2UseMediaViewerURL.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{maxWidth:"d2edcug0"},small:{width:"b654a4as"},large:{width:"r59w251j"},pressable:{display:"a8c37x1j",height:"datstx6m",overflowX:"ni8dbmo4",overflowY:"stjgntxs",borderTopStartRadius:"jk6sbkaj",borderTopEndRadius:"kdgqqoy6",borderBottomEndRadius:"ihh4hy1g",borderBottomStartRadius:"qttc61fc",width:"k4urcfbm"}};function l(a){var c=b("MWLSThreadDisplayContext.bs").useHook(void 0);return j.useMemo(function(){var d=a.previewUrlLarge;if(d!==void 0&&c===1)return d;else return b("LSMediaUrl.bs").Attachment.previewUrl(a)},[a,c])}function m(a){a=a.attachment;var c=l(a);a=b("MWV2UseMediaViewerURL.bs").useHook(a);if(c!==void 0)return j.jsx(b("CometPressable.react"),{"aria-label":g._(/*FBT_CALL*/"Open photo"/*FBT_CALL*/),linkProps:{passthroughProps:{origSrc:c},url:a},overlayRadius:4,xstyle:function(a){return[k.pressable]},children:j.jsx(b("CometImageCover.react"),{src:c})});else return null}c={make:m};function a(a){a=a.attachments;var c=b("MWLSThreadDisplayContext.bs").useHook(void 0);return j.jsx("div",{className:(i||(i=b("stylex")))(k.root,c===1?k.large:k.small),children:j.jsx(b("CometPhotoGrid.react"),{children:a.map(function(a){return j.jsx(m,{attachment:a},a.attachmentFbid)})})})}d=a;f.styles=k;f.usePreviewUrl=l;f.$$Image=c;f.make=d}),null);
__d("MDSCautionTriangleSvgIcon.bs",["MDSSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.747 8.027c-.764-1.367-2.73-1.367-3.494 0L6.757 25.025C6.012 26.358 6.977 28 8.504 28h18.992c1.528 0 2.492-1.642 1.747-2.975L19.747 8.027zm-3.159 5.97a1.414 1.414 0 112.824 0l-.353 6.005a1.06 1.06 0 01-2.118 0l-.353-6.005zm2.662 9.753a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z"})})}c=a;f.make=c}),null);
__d("MWV2UnsupportedAttachment.bs",["fbt","MDSCautionTriangleSvgIcon.bs","MDSText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{display:"j83agx80",alignItems:"bp9cbjyn",userSelect:"abiwlrkh",paddingTop:"ecm0bbzt",paddingBottom:"e5nlhep0"},content:{flexGrow:"buofh1pr",color:"oo9gr5id",fontWeight:"lrazzd5p",wordBreak:"qv66sw1b"},descriptionText:{paddingTop:"jktsbyx5"}},l={icon:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus",marginEnd:"o3lre8g0",backgroundColor:"ktb7bhlx",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"}};function m(a){return j.jsx("div",{className:(i||(i=b("stylex")))(l.icon),children:j.jsx(b("MDSCautionTriangleSvgIcon.bs").make,{color:"primary",size:"24"})})}c={styles:l,make:m};function a(a){a=a.attachment;a=a.descriptionText;return j.jsxs("div",{className:(i||(i=b("stylex")))(k.root),children:[j.jsx(m,{}),j.jsxs("div",{className:i(k.content),children:[j.jsx(b("MDSText.react"),{type:"headline4",children:g._(/*FBT_CALL*/"Unsupported attachment"/*FBT_CALL*/)}),a!==void 0?j.jsx("div",{className:(i||(i=b("stylex")))(k.descriptionText),children:j.jsx(b("MDSText.react"),{color:"secondary",type:"body4",children:a})}):null]})]})}d=a;f.styles=k;f.Icon=c;f.make=d}),null);
__d("MNLSXMALayoutType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,4];b=[0,5];f.single=a;f.hscroll=c;f.xcenter=d;f.portrait=e;f.layered=b}),null);
__d("LsDidTapCallToActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743852");c=b("FalcoLoggerInternal").create("ls_did_tap_call_to_action",a);e.exports=c}),null);
__d("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1746398");c=b("FalcoLoggerInternal").create("ctm_multi_photo_carousel_msgr_multi_photo_carousel_click",a);e.exports=c}),null);
__d("PiiActionFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744182");c=b("FalcoLoggerInternal").create("pii_action_flow",a);e.exports=c}),null);
__d("MWChatPIIFormNuxQuery",["CometRelay","MWChatPIIFormNuxQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f){a=d("CometRelay").fetchQuery(a,j,{}).toPromise().then(function(a){a&&(c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_success",extra_data:"",form_id:b,page_id:e}}),a.messenger_pii_nux==null?f({description:"",seen:!0,title:"",url:"",url_text:""}):f({description:a.messenger_pii_nux.description,seen:!1,title:a.messenger_pii_nux.title,url:a.messenger_pii_nux.url,url_text:a.messenger_pii_nux.url_text}))},function(a){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_failure",extra_data:a.message,form_id:b,page_id:e}})});c("promiseDone")(a)},j=h!==void 0?h:h=b("MWChatPIIFormNuxQuery.graphql");a=function(a,b,c,d){i(a,b,c,function(a){return d(a)})};g.fetch=a}),98);
__d("MWChatPIIFormScreenQuery",["CometRelay","MWChatPIIFormScreenQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f,g){f=d("CometRelay").fetchQuery(f,j,{formID:a,screenIndex:e}).toPromise().then(function(d){if(d){d=d.messenger_pii_form_single_screen.screen;var e=d.questions.map(function(a){return{format:a.format,id:a.id,length:a.length,mask:a.mask,placeholder:a.placeholder,subtitle:a.subtitle,title:a.title,type:a.type}}),f={question_list_size:d.questions.length};c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_success",extra_data:JSON.stringify(f),form_id:a,page_id:b}});g({questions:e,screen_title:d.screen_title})}},function(d){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_failure",extra_data:d.message,form_id:a,page_id:b}})});c("promiseDone")(f)},j=h!==void 0?h:h=b("MWChatPIIFormScreenQuery.graphql");a=function(a,b,c,d,e){i(a,b,c,d,function(a){return e(a)})};g.fetch=a}),98);
__d("MWChatPIIFormStateQuery",["CometRelay","MWChatPIIFormStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e(a.messenger_pii_form_state.state)});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatPIIFormStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatReceiptDataQuery",["CometRelay","CometRelayEnvironment","MWChatReceiptDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(c("CometRelayEnvironment"),j,{messageID:b,receiptID:a}).toPromise().then(function(a){if(a){a=a.receipt_data;var b=a.items?a.items.map(function(a){return{description:a.description,name:a.name,price:a.price,quantity:a.quantity,thumb_url:a.thumb_url}}):[],c=a.adjustments?a.adjustments.map(function(a){return{adjustment_type:a.adjustment_type,display_adjustment_amount:a.display_adjustment_amount}}):[];e({address_line_1:a.address_line_1,address_line_2:a.address_line_2,address_line_3:a.address_line_3,adjustments:c,cancellation_url:a.cancellation_url,items:b,merchant_name:a.merchant_name,order_id:a.order_id,order_time:a.order_time,order_url:a.order_url,payment_method:a.payment_method,recipient_name:a.recipient_name,shipping_cost:a.shipping_cost,subtotal:a.subtotal,total_cost:a.total_cost,total_tax:a.total_tax})}});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatReceiptDataQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWP2PPaymentMethodAdd.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentMethodAddDialog.react").__setRef("MWP2PPaymentMethodAdd.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentMethodAdd=a}),null);
__d("MWP2PPaymentRequestCancel.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentRequestCancelDialog.react").__setRef("MWP2PPaymentRequestCancel.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentRequestCancel=a}),null);
__d("MWP2PPaymentRequestConfirm.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentRequestConfirmDialog.react").__setRef("MWP2PPaymentRequestConfirm.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentRequestConfirm=a}),null);
__d("MWP2PPaymentRequestDecline.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentRequestDeclineDialog.react").__setRef("MWP2PPaymentRequestDecline.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentRequestDecline=a}),null);
__d("MWP2PPaymentTransactionDecline.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentTransactionDeclineDialog.react").__setRef("MWP2PPaymentTransactionDecline.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentTransactionDecline=a}),null);
__d("MWP2PPaymentTransactionInformationVerify.bs",["JSResource","XP2PVerificationDialogBaseControllerRouteBuilder","bs_belt_Option","bs_caml_option","gkx","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("CometCompatModal.react").__setRef("MWP2PPaymentTransactionInformationVerify.bs"));var c=a[0];a=b("useCometLazyDialog")(b("JSResource")("CometP2PPaymentIDVFlow.react").__setRef("MWP2PPaymentTransactionInformationVerify.bs"));var d=a[0];return h.useCallback(function(a){a=a.id;if(b("gkx")("94"))return d({transferId:b("bs_belt_Option").getExn(a==null?void 0:b("bs_caml_option").some(a))},function(a){});else return c({params:{rel:"dialog-post",uri:b("XP2PVerificationDialogBaseControllerRouteBuilder").buildURL({is_sender_flow:!1,id:b("bs_belt_Option").getExn(a==null?void 0:b("bs_caml_option").some(a))})}},function(a){})},[c])}f.useP2PPaymentTransactionInformationVerify=a}),null);
__d("MWUIOpenStaticLocationDialog.bs",["cr:618"],(function(a,b,c,d,e,f){"use strict";a=b("cr:618").useHook;f.$MWLSOpenStaticLocationDialog$OR$WorkplaceMSOpenStaticLocationDialog$requireCond=b("cr:618");f.useHook=a}),null);
__d("MWUIShowPaymentDetails.bs",["bs_curry","cr:1573776"],(function(a,b,c,d,e,f){"use strict";function a(){if(b("cr:1573776")==null)return function(a){};else return b("bs_curry")._1(b("cr:1573776").useHook,void 0)}f.$MWLSShowPaymentDetails$OR$null$requireCond=b("cr:1573776");f.useHook=a}),null);
__d("MakeRoomRingbackCommon.bs",["cr:9972"],(function(a,b,c,d,e,f){"use strict";a=b("cr:9972").useHook;f.$WorkPlaceMakeRoomRingback$OR$MakeRoomRingback$requireCond=b("cr:9972");f.useHook=a}),null);
__d("MentorshipClientSideEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActorID=function(a){this.$1.actor_id=a;return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setAppVersion=function(a){this.$1.app_version=a;return this};c.setApplicationID=function(a){this.$1.application_id=a;return this};c.setApplicationProfileID=function(a){this.$1.application_profile_id=a;return this};c.setCohortGroupOrPageID=function(a){this.$1.cohort_group_or_page_id=a;return this};c.setCohortID=function(a){this.$1.cohort_id=a;return this};c.setContainerType=function(a){this.$1.container_type=a;return this};c.setDestinationContainerType=function(a){this.$1.destination_container_type=a;return this};c.setDestinationUnitType=function(a){this.$1.destination_unit_type=a;return this};c.setDisplayName=function(a){this.$1.display_name=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExplicitActorType=function(a){this.$1.explicit_actor_type=a;return this};c.setPairCreationType=function(a){this.$1.pair_creation_type=a;return this};c.setProgramGroupID=function(a){this.$1.program_group_id=a;return this};c.setProgramID=function(a){this.$1.program_id=a;return this};c.setProgramThreadID=function(a){this.$1.program_thread_id=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setSourceContainerType=function(a){this.$1.source_container_type=a;return this};c.setSourceUnitType=function(a){this.$1.source_unit_type=a;return this};c.setUnitType=function(a){this.$1.unit_type=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={actor_id:!0,app_id:!0,app_version:!0,application_id:!0,application_profile_id:!0,cohort_group_or_page_id:!0,cohort_id:!0,container_type:!0,destination_container_type:!0,destination_unit_type:!0,display_name:!0,event:!0,explicit_actor_type:!0,pair_creation_type:!0,program_group_id:!0,program_id:!0,program_thread_id:!0,session_id:!0,source_container_type:!0,source_unit_type:!0,unit_type:!0};f["default"]=a}),66);
__d("MentorshipMessengerLoggingUtils",["CurrentUser","MentorshipClientSideEventsTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=new(c("MentorshipClientSideEventsTypedLogger"))().setEvent(a.event).setActorID(c("CurrentUser").getID()).setProgramID(a.programID).setDisplayName(a.displayName).updateExtraData(a.extraData).setContainerType("messenger_thread").setUnitType(a.unit);a.event=="click_unit"&&b.setDestinationContainerType(a.destContainer).setDestinationUnitType(a.destUnit);b.log()}g.logMessengerEvent=a}),98);
__d("MWChatXmaThirdPartyActionHandler.bs",["fbt","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometRelay","CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent","JSResource","MWChatCustomerFeedbackFormDataQuery","MWChatCustomerFeedbackStateQuery","MWChatPIIFormNuxQuery","MWChatPIIFormScreenQuery","MWChatPIIFormStateQuery","MWChatReceiptDataQuery","MWP2PPaymentMethodAdd.bs","MWP2PPaymentRequestCancel.bs","MWP2PPaymentRequestConfirm.bs","MWP2PPaymentRequestDecline.bs","MWP2PPaymentTransactionDecline.bs","MWP2PPaymentTransactionInformationVerify.bs","MWUIOpenStaticLocationDialog.bs","MWUIShowPaymentDetails.bs","MakeRoomRingbackCommon.bs","MarketplaceCometReviewOffersDialog.entrypoint","MentorshipMessengerLoggingUtils","Popup","RTWebLoggingComponentConvert.bs","RTWebLoggingSurfaceConvert.bs","bs_caml_option","bs_curry","cr:11076","cr:1761102","react","requireDeferred","useCometDynamicEntryPointDialog","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatReceiptModal.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){var d=a.receiptId;if(d!==void 0){b("MWChatReceiptDataQuery").fetch(d,a.messageId,function(a){var b=g._(/*FBT_CALL*/"Order confirmation"/*FBT_CALL*/);return c({title:b,receipt:a},function(a){})});return}},[c])}function k(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatCustomerFeedbackDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0],d=b("CometRelay").useRelayEnvironment();return i.useCallback(function(a){var e=a.feedbackFormId;b("MWChatCustomerFeedbackStateQuery").fetch(e,d,function(a){b("MWChatCustomerFeedbackFormDataQuery").fetch(e,d,function(b){return c({firstScreen:b.firstScreen,privacy:b.privacy,formId:b.formId,pageId:b.pageId,state:a},function(a){})})})},[c])}function l(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatCustomerFeedbackDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0],d=b("CometRelay").useRelayEnvironment();return i.useCallback(function(a){var e=a.pageId,f=a.formId,g=a.privacy,h=a.firstScreen;b("MWChatCustomerFeedbackStateQuery").fetch(f,d,function(a){return c({firstScreen:h,privacy:g,formId:f,pageId:e,state:a},function(a){})})},[c])}function m(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatPIIFormDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0],d=b("CometRelay").useRelayEnvironment();return i.useCallback(function(a){var e=a.pageId,f=a.color,g=a.numScreens,h=a.currentIndex,i=a.formId,j=a.firstScreen;b("MWChatPIIFormStateQuery").fetch(i,d,function(a){b("MWChatPIIFormNuxQuery").fetch(d,i,e,function(k){if(g>1){b("MWChatPIIFormScreenQuery").fetch(i,e,1,d,function(d){return c({firstScreen:j,secondScreen:b("bs_caml_option").some(d),formId:i,currentIndex:h,numScreens:g,color:f,state:a,nuxData:k,pageId:e},function(a){})});return}else return c({firstScreen:j,secondScreen:void 0,formId:i,currentIndex:h,numScreens:g,color:f,state:a,nuxData:k,pageId:e},function(a){})})})},[c])}function n(a){a=b("useCometLazyDialog")(b("JSResource")("MessengerCometBookingDetailsModal.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({pageID:a.pageId,requestID:a.requestId},function(a){})},[c])}function o(a){a=b("useCometLazyDialog")(b("JSResource")("MWFbpayOfferDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({offerId:a.offerId,title:a.title},function(a){})},[c])}function p(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatLiveLocationDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({titleString:a.titleString,messageId:a.messageId},function(a){})},[c])}function q(a){var c=b("bs_curry")._1(b("MWUIOpenStaticLocationDialog.bs").useHook,void 0);return i.useCallback(function(a){return b("bs_curry")._1(c,a.msgId)},[c])}function r(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatBusinessBoardingPassDetail.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({boardingPassDetail:a},function(a){})},[c])}function s(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatBusinessItineraryDetail.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({itineraryPayload:a},function(a){})},[c])}function t(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatBusinessMessengerExtension.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({actionLink:a.actionLink,pageID:a.pageID,threadID:a.pageID,userID:a.userID,title:a.sourceTitle},function(a){})},[c])}var u=b("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWChatXmaThirdPartyActionHandler.bs");function v(a){return i.useCallback(function(c){u.onReady(function(a){return b("bs_curry")._1(a.logClick,{component:b("bs_curry")._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,"start_call_button"),surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,"admin_message")})});return b("bs_curry")._3(a,c.hasVideo,c.threadId,c.trigger)},[a])}function w(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatGuestChatHistoryModal.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({pageID:a.pageId,guestID:a.guestId},function(a){})},[c])}c=b("cr:11076")==null?void 0:b("bs_caml_option").some(b("cr:11076"));function x(a){return i.useCallback(function(a){if(!(b("cr:11076")==null))return b("bs_curry")._2(b("cr:11076").$$process,a.ctaId,a.messageId)},[])}function y(a){b("Popup").open(a,1024,500)}function z(a){a=b("useCometLazyDialog")(b("JSResource")("MentorshipLeaveSurveyDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){var d=a.programID;b("MentorshipMessengerLoggingUtils").logMessengerEvent({event:"click_unit",unit:"prompt_unit",destUnit:"leave_survey",destContainer:"messenger_thread",extraData:{prompt_type:"MENTORSHIP_MESSENGER_LEAVE_PROMPT",content_id:a.promptID},displayName:"End Program",programID:d});return c({programID:d},function(a){})},[c])}function A(a){a=b("useCometLazyDialog")(b("JSResource")("CometJoinRoomFromPortalDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({linkUrl:a.linkUrl},function(a){})},[c])}function B(a){if(b("cr:1761102")==null)return function(a,b,c,d){};else return b("bs_curry")._1(b("cr:1761102").useMarketplaceXmaCallFunctionCtaHandler,void 0)}function C(a){var c=b("useCometDynamicEntryPointDialog")(b("MarketplaceCometReviewOffersDialog.entrypoint"));return i.useCallback(function(a){return c({listingId:a},void 0,function(a){})},[c])}function D(a){var c=b("useCometDynamicEntryPointDialog")(b("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"));return i.useCallback(function(a){return c({threadId:a},{threadId:a},function(a){})},[c])}function a(a,c){var d=j(void 0),e=l(void 0),f=k(void 0),g=x(void 0),h=m(void 0),i=o(void 0),u=p(void 0),E=q(void 0),F=n(void 0),G=r(void 0),H=w(void 0),I=s(void 0),J=t(void 0),K=b("MWP2PPaymentRequestCancel.bs").useP2PPaymentRequestCancel(void 0),L=b("MWP2PPaymentRequestConfirm.bs").useP2PPaymentRequestConfirm(void 0),M=b("MWP2PPaymentRequestDecline.bs").useP2PPaymentRequestDecline(void 0),N=b("MWP2PPaymentTransactionDecline.bs").useP2PPaymentTransactionDecline(void 0),O=b("MWP2PPaymentMethodAdd.bs").useP2PPaymentMethodAdd(void 0),P=b("MWP2PPaymentTransactionInformationVerify.bs").useP2PPaymentTransactionInformationVerify(void 0),Q=v(c),R=b("bs_curry")._1(b("MakeRoomRingbackCommon.bs").useHook,void 0),S=A(void 0),T=z(void 0),U=b("MWUIShowPaymentDetails.bs").useHook(),V=B(void 0),W=C(void 0),X=D(void 0);return function(c){var j=c.NAME;if(j==="P2PPaymentTransactionInformationVerify")return b("bs_curry")._1(P,c.VAL);if(j==="P2PPaymentTransactionDecline")return b("bs_curry")._2(N,void 0,c.VAL);if(j==="MakeWorkJoinableCallInvite"||j==="MakeRoomRingback")return b("bs_curry")._1(R,c.VAL);if(j==="ShowCustomerFeedback")return b("bs_curry")._1(e,c.VAL);if(j==="ShowFbpayOfferDetails")return b("bs_curry")._1(i,c.VAL);if(j==="P2PPaymentRequestCancel")return b("bs_curry")._2(K,void 0,c.VAL);if(j==="SendImagePostback"){var k=c.VAL,l=k.loggingDetails;l!==void 0&&b("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent").log(function(a){return{consumer_id:l.consumer_id,event_data:{ad_id:l.ad_id,index:l.index,cta:"button"},event_location:"unknown",page_id:l.page_id}});return b("bs_curry")._3(a,k.message,k.platformToken,k.image)}if(j==="ShowMessengerExtensions")return b("bs_curry")._1(J,c.VAL);if(j==="ShowPIIForm")return b("bs_curry")._1(h,c.VAL);if(j==="OpenAccountLink")return b("bs_curry")._1(g,c.VAL);if(j==="P2PPaymentTransactionReceiveMoney")return b("bs_curry")._2(O,void 0,c.VAL);if(j==="ShowBoardingPass")return b("bs_curry")._1(G,c.VAL);if(j==="ShowStaticLocationDetails")return b("bs_curry")._1(E,c.VAL);if(j==="P2PPaymentTransactionDetails")return U(c.VAL.id);if(j==="P2PPaymentRequestDecline")return b("bs_curry")._2(M,void 0,c.VAL);if(j==="ShowMentorshipDialog")return b("bs_curry")._1(T,c.VAL);if(j==="ShowBookingDetails")return b("bs_curry")._1(F,c.VAL);if(j==="ShowOrderConfirmation")return b("bs_curry")._1(d,c.VAL);if(j==="ShowCustomerFeedbackForm")return b("bs_curry")._1(f,c.VAL);if(j==="ShowItinerary")return b("bs_curry")._1(I,c.VAL);if(j==="OpenAccountLinkUrl")return y(c.VAL);if(j==="MakeJoinRoomFromPortal")return b("bs_curry")._1(S,c.VAL);if(j==="P2PPaymentRequestConfirm")return b("bs_curry")._2(L,void 0,c.VAL);if(j==="MakeRtcCall")return b("bs_curry")._1(Q,c.VAL);if(j==="ProcessMarketplaceCallFunction"){k=c.VAL;return b("bs_curry")._4(V,k.messageId,k.attachmentFbid,k.targetId,k.actionType)}if(j==="ShowLiveLocationDetails")return b("bs_curry")._1(u,c.VAL);if(j==="ShowGuestChatHistory")return b("bs_curry")._1(H,c.VAL);k=c.VAL;j=k.threadId;c=k.listingId;switch(k.ctaType){case"SHIPPED_DECLINED_OFFER_SEND_ANOTHER_PRICE":case"SHIPPED_EXPIRED_OFFER_SEND_ANOTHER_PRICE":if(j!==void 0)return b("bs_curry")._1(X,b("bs_caml_option").valFromOption(j));else return;case"SHIPPED_OFFER_CANCEL":if(c!==void 0)return b("bs_curry")._1(W,b("bs_caml_option").valFromOption(c));else return;default:return}}}f.useShowOrderConfirmation=j;f.useShowCustomerFeedback=k;f.useShowCustomerSatisfaction=l;f.useShowPIIForm=m;f.useShowBookingDetails=n;f.useShowFbpayOfferDetails=o;f.useShowLiveLocationDetails=p;f.useShowStaticLocationDetails=q;f.useShowBoardingPass=r;f.useShowItinerary=s;f.useShowMessengerExtensions=t;f.$ZenonUserActionLoggerCommon$Deferred=u;f.useMakeRTCCall=v;f.useGuestMessageThreadDetails=w;f.$null$OR$MNCommerceCTAProcessor$requireCond=b("cr:11076");f.mnCommerceCTAProcessor=c;f.useOpenAccountLink=x;f.openAccountLinkUrl=y;f.useShowMentorshipDialog=z;f.useMakeJoinRoomFromPortal=A;f.$MWLSMarketplaceXmaCallFunctionCtaHandler$requireCond=b("cr:1761102");f.processMarketplaceCallFunction=B;f.useShowReviewOffersDialog=C;f.useShowCreateDiscountedPriceDialog=D;f.useHandler=a}),null);
__d("MWXMACtaRegistry.bs",["ConstUriUtils","FBID.bs","LSMessagingInitiatingSourceHook.bs","LsActionType.bs","MWChatPollXMAActionHandler.bs","MWChatXmaThirdPartyActionHandler.bs","MWLSImagePostbackCtaHandler.bs","MWLSPostbackCtaHandler.bs","MWLSStartPhoneCall.bs","MWLSWebUrlCtaHandler.bs","URI","XCometMessengerControllerRouteBuilder","bs_belt_Option","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","bs_js_dict","bs_js_json","bs_js_null_undefined","gkx"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){a=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0);a=b("MWLSImagePostbackCtaHandler.bs").usePostbackCtaHandler("inboxInThread",a);var c=b("MWLSStartPhoneCall.bs").useMakeRTCCall(void 0),d=b("MWChatXmaThirdPartyActionHandler.bs").useHandler(a,c[0]),e=b("MWLSPostbackCtaHandler.bs").usePostbackCtaHandler(void 0),f=b("MWChatPollXMAActionHandler.bs").useHandler(void 0),h=b("MWLSWebUrlCtaHandler.bs").useShowWebViewDialog(void 0);return function(a){var c,i,j=a.actionUrl,k=a.platformToken,l=a.type_,m=a.title,n=a.messageId,o=a.threadKey,p=a.attachmentFbid,q=0,r=0,s=0,t=0,u=0,v=0;if(l==="xma_rtc_audio"||l==="xma_rtc_missed_audio"||l==="xma_rtc_ended_audio")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"MakeRtcCall",VAL:{threadId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(o)),hasVideo:!1,trigger:l}})},_1:void 0};if(l==="xma_rtc_video"||l==="xma_rtc_new_video_default"||l==="xma_rtc_new_video_from_fb_share"||l==="xma_rtc_new_video_from_fb_video_share"||l==="xma_rtc_missed_video"||l==="xma_rtc_ended_video")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"MakeRtcCall",VAL:{threadId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(o)),hasVideo:!0,trigger:l}})},_1:void 0};if(l==="xma_postback")return{TAG:0,_0:function(a){return b("bs_curry")._2(e,k,m)},_1:[b("bs_int64").to_string(o),31]};if(j!==void 0){if(l==="xma_open_dialog"){var w=new(g||(g=b("URI")))(j).getQueryData(),x=w.page_id,y=w.guest_id;return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowGuestChatHistory",VAL:{pageId:x,guestId:y}})},_1:void 0}}w=8}else w=8;if(w===8){var z=a.targetId;if(l==="xma_open_dialog")return{TAG:3,_0:"Expected an open dialog url but didn't get any",_1:"messenger_business_core_product"};if(z!==void 0){if(l==="xma_p2p_payment_details"||l==="xma_p2p_request_pay"||l==="xma_p2p_payment_details_receive_money"||l==="xma_p2p_verify_info")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"P2PPaymentTransactionDetails",VAL:{id:b("bs_js_null_undefined").fromOption(b("FBID.bs").ofString(b("bs_int64").to_string(z))),currentStatus:null}})},_1:void 0};v=7}else v=7}if(v===7)if(j!==void 0){if(l==="xma_join_from_portal")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"MakeJoinRoomFromPortal",VAL:{linkUrl:j}})},_1:void 0};u=6}else u=6;if(u===6){w=0;if(l==="xma_p2p_payment_details"||l==="xma_p2p_request_pay"||l==="xma_p2p_payment_details_receive_money"||l==="xma_p2p_verify_info")return{TAG:3,_0:"P2P Transaction encounterd without txn id",_1:"messenger_privacy_web"};if(a.nativeUrl!==void 0)v=8;else{if(l==="xma_live_location_sharing"&&b("gkx")("1539348"))return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowLiveLocationDetails",VAL:{titleString:m,messageId:n}})},_1:void 0};v=8}if(v===8){var A=a.actionContentBlob,B=a.targetId;if(l==="xma_live_location_sharing"&&b("gkx")("1539348"))return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowStaticLocationDetails",VAL:{msgId:n}})},_1:void 0};if(l==="xma_poll_details_button"||l==="xma_poll_details_card")return{TAG:0,_0:function(a){return b("bs_curry")._2(f,b("bs_belt_Option").getExn(B),b("bs_belt_Option").getExn(A))},_1:void 0};if(l==="xma_p2m_checkout"||l==="xma_p2m_payment_details")return{TAG:1,_0:b("XCometMessengerControllerRouteBuilder").buildURL({thread_key:b("bs_int64").to_string(o)}),_1:void 0};if(A!==void 0){if(l==="xma_direct_send")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowPIIForm",VAL:JSON.parse(A)})},_1:[b("bs_int64").to_string(o),b("bs_caml_int64").to_int32(b("LsActionType.bs").piiWebview)]};u=9}else u=9;if(u===9){if(l==="xma_direct_send")return{TAG:3,_0:"Expected pii_form data but didn't get any",_1:"mb_apix"};if(A!==void 0){if(l==="xma_feedback_send")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowCustomerFeedbackForm",VAL:{feedbackFormId:A}})},_1:[b("bs_int64").to_string(o),69]};w=7}else w=7}}if(w===7){if(l==="xma_feedback_send")return{TAG:3,_0:"Expected Feedback info but didn't get any",_1:"mb_apix"};if(j!==void 0){if(l==="xma_account_link")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"OpenAccountLinkUrl",VAL:j})},_1:[b("bs_int64").to_string(o),b("bs_caml_int64").to_int32(b("LsActionType.bs").accountLink)]};t=5}else t=5}}if(t===5){var C=a.actionContentBlob;if(l==="xma_account_link")return{TAG:3,_0:"Expected an account link url but didn't get any",_1:"mb_apix"};if(l==="xma_open_joinable_call_invite_url")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"MakeWorkJoinableCallInvite",VAL:{linkUrl:b("bs_belt_Option").getExn(j)}})},_1:void 0};if(l==="xma_montage_share")return 0;if(C!==void 0){if(l==="marketplace_xma_call_function"){var D=a.targetId;return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ProcessMarketplaceCallFunction",VAL:{messageId:n,attachmentFbid:p,targetId:b("bs_belt_Option").getExn(D),actionType:C}})},_1:void 0}}v=6}else v=6;if(v===6){if(l==="marketplace_xma_call_function")return 0;if(j!==void 0){var E=a.actionContentBlob;if(E!==void 0){if(l==="marketplace_xma_open_dialog"){u=b("ConstUriUtils").getUri(j);if(u===void 0)return{TAG:3,_0:"Found invalid url when creating CTA",_1:"messenger_business_core_product"};var F=b("bs_caml_option").valFromOption(u).getQueryParam("listingID");return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"OpenMarketplaceDialog",VAL:{ctaType:E,listingId:b("FBID.bs").ofString(F),threadId:b("FBID.bs").ofString(b("bs_int64").to_string(o))}})},_1:void 0}}s=4}else s=4}else s=4}}if(s===4){w=a.nativeUrl;t=0;v=a.actionContentBlob;if(l==="marketplace_xma_open_dialog")return{TAG:3,_0:"Expected an open dialog url and actionContentBlob but didn't get any",_1:"messenger_business_core_product"};if(v!==void 0&&l==="xma_ctm_in_thread_multiphoto_reply_image"){try{u=b("bs_caml_option").some(JSON.parse(v))}catch(a){u=void 0}if(u===void 0)return 0;s=b("bs_js_json").classify(b("bs_caml_option").valFromOption(u));if(typeof s==="number")return 0;if(s.TAG!==2)return 0;var G=s._0;v=b("bs_js_dict").get(G,"action_prefill");u=b("bs_js_dict").get(G,"reply_image_uri");if(v===void 0)return 0;if(u===void 0)return 0;var H=b("bs_js_json").decodeString(b("bs_caml_option").valFromOption(v)),I=b("bs_js_json").decodeString(b("bs_caml_option").valFromOption(u));if(H===void 0)return 0;if(I===void 0)return 0;var J='{"in_thread_multiphoto_xma_reply": true}';return{TAG:0,_0:function(a){a=b("bs_js_dict").get(G,"ad_id");if(a!==void 0){a=b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(a));a=a!==void 0?b("FBID.bs").ofString(a.toString()):void 0}else a=void 0;var e=b("bs_js_dict").get(G,"customer_id");if(e!==void 0){e=b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(e));e=e!==void 0?b("FBID.bs").ofString(e.toString()):void 0}else e=void 0;var f=b("bs_js_dict").get(G,"index"),c=b("bs_js_dict").get(G,"page_id");if(c!==void 0){c=b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(c));c=c!==void 0?b("FBID.bs").ofString(c.toString()):void 0}else c=void 0;return b("bs_curry")._1(d,{NAME:"SendImagePostback",VAL:{message:H,image:I,platformToken:k!==void 0&&k!==""?k:J,loggingDetails:{ad_id:a,consumer_id:e,index:f!==void 0?b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(f)):void 0,page_id:c}}})},_1:void 0}}else s=6;if(s===6){if(l==="xma_ctm_in_thread_multiphoto_reply_image")return 0;if(w!==void 0){if(l==="xma_open_native"&&w.startsWith("fb-messenger://user-thread/")){v=w.substr("fb-messenger://user-thread/".length);return{TAG:2,_0:{threadKey:b("bs_caml_format").caml_int64_of_string(v),loggingDetails:[b("bs_int64").to_string(o),b("bs_caml_int64").to_int32(b("LsActionType.bs").openNative)]}}}t=5}else t=5}if(t===5){var K=a.actionContentBlob;if(K!==void 0){if(l==="xma_open_native")return{TAG:0,_0:function(a){return b("bs_curry")._1(h,K)},_1:void 0};r=3}else r=3}}if(r===3)if(j!==void 0){if(l==="xma_open_native")return{TAG:1,_0:j,_1:[b("bs_int64").to_string(o),b("bs_caml_int64").to_int32(b("LsActionType.bs").openNative)]};q=2}else q=2;if(q===2){var L=a.actionContentBlob;if(l==="xma_open_native"){u=["Title: "+m,"Type: "+l,"PlatformTokenPresent: "+b("bs_belt_Option").mapWithDefault(k,"false",function(a){return"true"}),"ActionUrlPresent: "+b("bs_belt_Option").mapWithDefault(j,"false",function(a){return"true"}),"actionContentBlobPresent: "+b("bs_belt_Option").mapWithDefault(L,"false",function(a){return"true"})].join(", ");return{TAG:3,_0:"No Url found while parsing Open Native XMA "+u,_1:"messenger_privacy_web"}}if(L!==void 0)return{TAG:0,_0:function(a){return b("bs_curry")._1(h,L)},_1:void 0};if(j!==void 0){s=a.enableExtensions;if(s!==void 0){if(s)return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowMessengerExtensions",VAL:{actionLink:j,pageID:b("bs_int64").to_string(o),userID:b("FBID.bs").ofString(b("bs_int64").to_string(o)),sourceTitle:b("bs_js_null_undefined").fromOption(m)}})},_1:[b("bs_int64").to_string(o),33]};c=o;i=j}else c=o,i=j}else{w=["Title: "+m,"Type: "+l,"PlatformTokenPresent: "+b("bs_belt_Option").mapWithDefault(k,"false",function(a){return"true"}),"ActionUrlPresent: "+b("bs_belt_Option").mapWithDefault(j,"false",function(a){return"true"}),"actionContentBlobPresent: "+b("bs_belt_Option").mapWithDefault(a.actionContentBlob,"false",function(a){return"true"})].join(", ");return{TAG:3,_0:"Unknown CTA encountered while parsing XMA. "+w,_1:"messenger_privacy_web"}}}return{TAG:1,_0:i,_1:[b("bs_int64").to_string(c),32]}}}f.useHook=a}),null);
__d("MWPXMAIconParser.bs",["ConstUriUtils","bs_caml_option","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a){if(a==="clear"||a==="staticWhite"||a==="white"||a==="white70"||a==="black"||a==="black50"||a==="black34"||a==="black20"||a==="black12"||a==="black6"||a==="black4"||a==="bluegrey75"||a==="bluegrey50"||a==="placeholder-icon")return"gray";else if(a==="red")return"cherry";else if(a==="green")return"lime";else if(a==="blue"||a==="purple"||a==="gray"||a==="background"||a==="scarlet"||a==="steel"||a==="coregreen"||a==="coral"||a==="sky")return"gray";else if(a==="honey")return"lemon";else if(a==="emerald")return"gray";else{b("recoverableViolation")("Unknown Icon color: "+a,"messenger_web_product");return"gray"}}function a(a){if(a===void 0)return;if(a.startsWith("https"))return{TAG:1,_0:a};if(!a.startsWith("ls"))return;a=a.replace("ls","http");a=b("ConstUriUtils").getUri(a);if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);var c=a.getQueryParam("icon");a=g(a.getQueryParam("circleColor"));return{TAG:0,_0:[c,a]}}f.parse=a}),null);
__d("MWXmaIconParser.bs",["ix","MWPXMAIconParser.bs","bs_caml_option","fbicon","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==="airplane")return b("bs_caml_option").some(b("fbicon")._(g("571771"),20));else if(a==="calendar-add")return b("bs_caml_option").some(b("fbicon")._(g("640913"),20));else if(a==="camcorder")return b("bs_caml_option").some(b("fbicon")._(g("493174"),20));else if(a==="camcorder-incoming")return b("bs_caml_option").some(b("fbicon")._(g("1096148"),20));else if(a==="camcorder-missed")return b("bs_caml_option").some(b("fbicon")._(g("662989"),20));else if(a==="camcorder-outgoing")return b("bs_caml_option").some(b("fbicon")._(g("1096150"),20));else if(a==="camcorder-plus")return b("bs_caml_option").some(b("fbicon")._(g("662993"),20));else if(a==="checkmark-circle")return b("bs_caml_option").some(b("fbicon")._(g("498146"),20));else if(a==="currency-peso")return b("bs_caml_option").some(b("fbicon")._(g("1174630"),20));else if(a==="currency-pound")return b("bs_caml_option").some(b("fbicon")._(g("1174587"),20));else if(a==="currency-taka")return b("bs_caml_option").some(b("fbicon")._(g("182108"),20));else if(a==="currency-thai-baht")return b("bs_caml_option").some(b("fbicon")._(g("876716"),20));else if(a==="currency-usd")return b("bs_caml_option").some(b("fbicon")._(g("847056"),20));else if(a==="document-complete")return b("bs_caml_option").some(b("fbicon")._(g("728245"),20));else if(a==="phone")return b("bs_caml_option").some(b("fbicon")._(g("558161"),20));else if(a==="phone-incoming")return b("bs_caml_option").some(b("fbicon")._(g("1096151"),20));else if(a==="phone-missed")return b("bs_caml_option").some(b("fbicon")._(g("847457"),20));else if(a==="phone-outgoing")return b("bs_caml_option").some(b("fbicon")._(g("1096154"),20));else if(a==="tag")return b("bs_caml_option").some(b("fbicon")._(g("502473"),20));else if(a==="group")return b("bs_caml_option").some(b("fbicon")._(g("485091"),20));else{b("recoverableViolation")("Unknown XMA Icon: "+a,"messenger_web_product");return}}function a(a){a=b("MWPXMAIconParser.bs").parse(a);if(a===void 0)return;if(a.TAG!==0)return{TAG:1,_0:a._0};a=a._0;var c=h(a[0]);if(c!==void 0)return{TAG:0,_0:{icon:b("bs_caml_option").valFromOption(c),color:a[1]}}}f.getIcon=h;f.parse=a}),null);
__d("MWXMAAttachmentItem.bs",["BaseGlimmer.react","CometImageCover.react","CometLink.react","CometObjectFitContainer.react","CometPlaceholder.react","CometPressable.react","CometSkittleIcon.react","FBID.bs","LSMediaUrl.bs","LSThreadAttributionStore.bs","LSThreadCapabilityBitOffset.bs","LsDidTapCallToActionFalcoEvent","MDSText.react","MDSTextPairing.react","MWChatOpenTabByThreadKey.bs","MWChatPollFacepile.bs","MWInboxRouteBuilder.bs","MWLSThreadDisplayContext.bs","MWPBaseXMAAttachmentItem.bs","MWPThreadTheme.bs","MWThreadCapabilitiesContext.bs","MWTooltip.react","MWV2ColorUtils.bs","MWXMACtaRegistry.bs","MWXmaIconParser.bs","RTWebLoggingSurfaceConvert.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","TetraButton.react","UseBlockedUserInterstitial.bs","bs_belt_Option","bs_caml_array","bs_caml_int64","bs_caml_option","bs_caml_splice_call","bs_curry","bs_int64","deferredLoadComponentForReason","gkx","qex","react","recoverableViolation","requireDeferred","requireDeferredForDisplay","stylex","useCometRouterDispatcher","useReStore","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a,c,d){if(d===void 0)return;var e=d[1],f=d[0];b("LsDidTapCallToActionFalcoEvent").log(function(d){return{action:{id:b("bs_int64").to_string(a.ctaId),name:"",source:c,type:e},message:{id:a.messageId},page:{id:f},target:{id:f},thread:{id:f}}})}function k(a){var c=b("UseBlockedUserInterstitial.bs").useHook(a),d=b("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),e=b("useCometRouterDispatcher")(),f=b("MWChatOpenTabByThreadKey.bs").useHook(a,"chatInThread");return i.useCallback(function(g){return function(h){if(d)return b("bs_curry")._2(c,function(a){a=h.metaKey||h.ctrlKey||h.shiftKey;if(!a)return b("bs_curry")._1(f,void 0)},"chatInThread");else if(!(e==null))return b("bs_curry")._2(c,function(c){b("LSThreadAttributionStore.bs").setSource(b("bs_int64").to_string(a),"chatInThread"),e.go(g)},"chatInThread");else return}},[c,d,f,e])}var l={appIcon:{width:"hhz5lgdu",height:"gl3lb2sf",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},appAttr:{paddingTop:"ecm0bbzt",paddingEnd:"p8fzw8mz",paddingBottom:"e5nlhep0",paddingStart:"pcp91wgn",display:"j83agx80",alignItems:"bp9cbjyn",borderBottomStartRadius:"qmr60zad",borderBottomEndRadius:"inkptoze",lineHeight:"dfwzkoeu"},appText:{fontSize:"e9vueds3",marginStart:"ggphbty4",color:"oo9gr5id",wordBreak:"qv66sw1b"}};function m(a){a=a.attachment;var c=a.attributionAppIcon;a=a.attributionAppName;if(c!==void 0&&a!==void 0)return i.jsxs("div",{className:(h||(h=b("stylex")))(l.appAttr),children:[i.jsx("img",{src:c,className:h(l.appIcon)}),i.jsx("span",{className:h(l.appText),children:a})]});else return null}c={radius:18,styles:l,make:m};var n={root:{display:"j83agx80",overflowX:"ni8dbmo4",overflowY:"stjgntxs",height:"datstx6m",width:"k4urcfbm",position:"pmk7jnqg"},glimmer:{height:"datstx6m",width:"k4urcfbm",position:"pmk7jnqg"}};function o(a){return i.jsx("div",{className:(h||(h=b("stylex")))(n.root),children:i.jsx(b("BaseGlimmer.react"),{className:h(n.glimmer),index:0})})}d={styles:n,make:o};function p(a){var c=a.attachmentItem;a=a.children;var d=b("bs_belt_Option").mapWithDefault(c.previewWidth,0,b("bs_caml_int64").to_int32);c=b("bs_belt_Option").mapWithDefault(c.previewHeight,0,b("bs_caml_int64").to_int32);d=d!==0?c!==0?d/c:0:0;c=c>250&&d<.8;return i.jsx(b("CometObjectFitContainer.react"),{contentAspectRatio:c?.8:d,children:i.jsx(b("CometPlaceholder.react"),{children:a,fallback:i.jsx(o,{})})})}e={make:p};var q=b("requireDeferredForDisplay")("MWChatVideoPlayer.bs").__setRef("MWXMAAttachmentItem.bs");function r(a,c,d,e,f,g,h,i,j,k){k={fbid:c,sdSrc:f,originalHeight:g,originalWidth:h,hideExpandButton:i,controls:j};a!==void 0&&(k.autoPlaySetting=b("bs_caml_option").valFromOption(a));d!==void 0&&(k.hdSrc=d);e!==void 0&&(k.initalForceHD=e);return k}function s(a){return i.createElement(b("deferredLoadComponentForReason")(q).make,a)}var t={makeProps:r,make:s},u={photo:{width:"k4urcfbm",display:"j83agx80",position:"l9j0dhe7"},square:{height:"sgwjjusx"},horizontal:{height:"q2356yug"},notExpanded:{height:"ajpb0j6l"}};function v(a){var c=a.attachmentItem,d=a.isStandalone;a=a.previewUrl;var e=b("bs_belt_Option").mapWithDefault(c.previewWidth,0,b("bs_caml_int64").to_int32),f=b("bs_belt_Option").mapWithDefault(c.previewHeight,0,b("bs_caml_int64").to_int32);d=b("bs_belt_Option").isNone(c.imageUrl)?d:e===f;e=e!==0?f!==0?e/f:0:0;if(!d)return i.jsx("div",{className:(h||(h=b("stylex")))(u.photo,e===1?u.square:e===0?u.notExpanded:u.horizontal),children:i.jsx(b("CometImageCover.react"),{alt:"",src:a,style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}})});f=c.previewWidth;d=c.previewHeight;return i.jsx("div",{className:(h||(h=b("stylex")))(u.photo),children:i.jsx("img",{src:a,alt:"",width:f!==void 0?b("bs_int64").to_string(f):"",height:d!==void 0?b("bs_int64").to_string(d):"",style:{height:"auto",maxWidth:"100%",objectFit:"cover",flexGrow:"1"}})})}var w={styles:u,make:v};function x(a){var c=a.attachment,d=a.attachmentItem;a=a.isStandalone;var e=b("MWLSThreadDisplayContext.bs").useHook(void 0),f=b("bs_belt_Option").getWithDefault(c.shouldAutoplayVideo,!1);e=e===1;e=b("MWPBaseXMAAttachmentItem.bs").usePreview(e,c,d);if(typeof e==="number")return null;if(e.TAG!==0)return i.jsx(v,{attachmentItem:d,isStandalone:a,previewUrl:e._0});a=b("bs_belt_Option").mapWithDefault(d.previewWidth,0,b("bs_caml_int64").to_int32);var g=b("bs_belt_Option").mapWithDefault(d.previewHeight,0,b("bs_caml_int64").to_int32);return i.jsxs(i.Fragment,{children:[i.jsx(p,{attachment:c,attachmentItem:d,children:i.jsx(s,r(void 0,b("FBID.bs").ofStringExn(d.attachmentFbid),void 0,void 0,e._0,g,a,!1,f?"none":"mwchat",void 0))}),f?i.jsx(m,{attachment:c}):null]})}var y={make:x},z={root:{width:"k4urcfbm",maxWidth:"d2edcug0",whiteSpace:"ii04i59q"},hscroll:{paddingStart:"pcp91wgn",paddingEnd:"p8fzw8mz"},withIcon:{paddingTop:"linoseic",paddingBottom:"pby63qed"},description:{paddingTop:"jktsbyx5"}};function A(a){var c=a.attachmentItem,d=a.title,e=a.subtitleText;a=a.isHscroll;c=b("bs_belt_Option").flatMap(b("LSMediaUrl.bs").AttachmentItem.faviconUrl(c),b("MWXmaIconParser.bs").parse);var f;if(d!==""){var g=b("qex")._("1501"),j=0;g==null||g!==13?j=1:f=i.jsx(b("MDSText.react"),{type:"bodyLink4",children:d});j===1&&(f=i.jsx(b("MDSTextPairing.react"),{headline:d,level:4,headlineLineLimit:3}))}else f=null;if(e!==""){g=b("qex")._("1501");var k;j=0;g==null||g!==13?j=1:k=i.jsx(b("MDSText.react"),{type:"meta4",children:e});j===1&&(k=i.jsx(b("MDSTextPairing.react"),{body:e,level:4,bodyLineLimit:3,bodyColor:"secondary"}));d=i.jsx("div",{className:(h||(h=b("stylex")))(z.description),children:k})}else d=null;return i.jsxs("div",{className:(h||(h=b("stylex")))(z.root,c===void 0?a?z.hscroll:!1:z.withIcon),children:[f,d]})}var B={styles:z,make:A},C={root:{marginEnd:"tvfksri0",display:"j83agx80",alignItems:"bp9cbjyn",height:"datstx6m"}};function D(a){a=a.icon;if(a===void 0)return null;if(a.TAG!==0)return i.jsx("div",{className:(h||(h=b("stylex")))(C.root),children:i.jsx(b("CometImageCover.react"),{alt:"Icon for this message",src:a._0,style:{height:"36px",width:"36px",borderRadius:"50%"}})});a=a._0;return i.jsx("div",{className:(h||(h=b("stylex")))(C.root),children:i.jsx(b("CometSkittleIcon.react"),{color:a.color,size:36,icon:a.icon})})}var aa={styles:C,make:D};function E(a){var c=a.children;a=a.threadKey;return b("bs_curry")._1(c,k(a))}var ba={make:E},F=b("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWXMAAttachmentItem.bs"),G={button:{flexBasis:"lrurydbf",flexGrow:"buofh1pr",flexShrink:"g5gj957u",paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus"}};function H(a){var c=a.type_,d=a.title,e=a.ctaId;a=b("MWXMACtaRegistry.bs").useHook(void 0);var f=b("useReStore")(),g=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(f.table("attachment_ctas")),{hd:e,tl:0})},[f,JSON.stringify(e)]));i.useEffect(function(){var a=["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_ended_audio","xma_rtc_video","xma_rtc_missed_video","xma_rtc_ended_video"].find(function(a){return a===c});a!==void 0&&F.onReady(function(a){return b("bs_curry")._1(a.logImpression,{surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,"admin_message")})})},[]);var k=b("gkx")("1845815");if(!k&&(c==="xma_poll_details_button"||c==="xma_poll_details_card"))return null;if(g===void 0)return null;k=b("bs_curry")._1(a,g);var l;if(typeof k==="number")l=null;else switch(k.TAG|0){case 0:var m=k._1,n=k._0;l=i.jsx(b("MWTooltip.react"),{tooltip:d,children:i.jsx(b("TetraButton.react"),{label:d,type:"secondary",onPress:function(a){j(g,2,m);return b("bs_curry")._1(n,void 0)}})});break;case 1:var o=k._1;l=i.jsx(b("MWTooltip.react"),{tooltip:d,children:i.jsx(b("TetraButton.react"),{label:d,type:"secondary",onPress:function(a){return j(g,2,o)},linkProps:{target:"_blank",url:k._0}})});break;case 2:a=k._0;var p=a.loggingDetails;a=a.threadKey;var q=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildURL,{thread_key:b("bs_int64").to_string(a)});l=i.jsx(b("MWTooltip.react"),{tooltip:d,children:i.jsx(E,{threadKey:a,children:function(a){return i.jsx(b("TetraButton.react"),{label:d,type:"secondary",onPress:function(c){b("bs_curry")._2(a,q,c);return j(g,2,p)},linkProps:{preventLocalNavigation:!0,url:q}})}})});break;case 3:b("recoverableViolation")(k._0,k._1);l=null;break}return i.jsx("div",{className:(h||(h=b("stylex")))(G.button),children:l})}var ca={styles:G,make:H},I={link:{":hover":{textDecoration:"p8dawk7l"}}};function J(a){var c=a.attachmentItem,d=a.children,e=b("useReStore")(),f=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=c.defaultCtaId;if(a!==void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("attachment_ctas")),{hd:a,tl:0});else return b("SortedAsyncIterable.bs").empty(void 0)},[e,JSON.stringify(c.defaultCtaId)]));a=b("MWXMACtaRegistry.bs").useHook(void 0);if(f===void 0)return d;a=b("bs_curry")._1(a,f);if(typeof a==="number")return d;switch(a.TAG|0){case 0:var g=a._1,h=a._0;return i.jsx(b("CometPressable.react"),{"aria-label":b("bs_belt_Option").getWithDefault(c.titleText,""),onPress:function(a){j(f,1,g);return b("bs_curry")._1(h,void 0)},children:d});case 1:var k=a._0;if(!(k.startsWith("http")||k.startsWith("/")))return d;var l=a._1;return i.jsx(b("CometLink.react"),{href:k,target:"_blank",children:d,onClick:function(a){return j(f,1,l)},xstyle:[I.link]});case 2:k=a._0;var m=k.loggingDetails;k=k.threadKey;var n=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildURL,{thread_key:b("bs_int64").to_string(k)});return i.jsx(E,{threadKey:k,children:function(a){return i.jsx(b("CometLink.react"),{href:n,children:d,onClick:function(c){b("bs_curry")._2(a,n,c);return j(f,1,m)},xstyle:[I.link],preventLocalNavigation:!0})}});case 3:b("recoverableViolation")(a._0,a._1);return d}}var da={styles:I,make:J};function K(a){var b=a.attachmentItem,c=a.isPressable;a=a.children;if(c)return i.jsx(J,{attachmentItem:b,children:a});else return a}var ea={make:K},L={root:{flexGrow:"buofh1pr",display:"j83agx80",flexDirection:"btwxx1t3",marginEnd:"cgat1ltu",justifyContent:"taijpn5t"}};function M(a){a=a.listItemsDescriptionText;return i.jsx("div",{className:(h||(h=b("stylex")))(L.root),children:i.jsx(b("MDSTextPairing.react"),{headline:a,level:4,headlineLineLimit:3})})}var fa={styles:L,make:M},N={item:{marginTop:"n1l5q3vz",paddingTop:"pybr56ya",paddingBottom:"f10w8fjw",borderTop:"kzizifcz",borderBottom:"ccq6eem2"},titleText:{marginTop:"aov4n071",marginStart:"kkf49tns"}},O={item:{marginTop:"n1l5q3vz"},header:{display:"j83agx80",justifyContent:"i1fnvgqd"},progressBar:{backgroundColor:"g6srhlxm",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",height:"t6na6p9t",marginTop:"aov4n071",marginBottom:"n851cfcs"},progressBarInner:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",height:"t6na6p9t"},facepile:{marginStart:"h676nmdw"}};function P(a){a=a.attachment;var c=b("MWPThreadTheme.bs").useHook(void 0),d=c.threadTheme.fallbackColor,e=b("MWLSThreadDisplayContext.bs").useHook(void 0);c=b("bs_caml_splice_call").spliceObjApply([],"concat",[[[a.listItemId1,a.listItemTitleText1,b("LSMediaUrl.bs").Attachment.listItemContactUrlList1(a),a.listItemProgressBarFilledPercentage1,a.listItemContactUrlExpirationTimestampList1,a.listItemContactUrlFallbackList1],[a.listItemId2,a.listItemTitleText2,b("LSMediaUrl.bs").Attachment.listItemContactUrlList2(a),a.listItemProgressBarFilledPercentage2,a.listItemContactUrlExpirationTimestampList2,a.listItemContactUrlFallbackList2],[a.listItemId3,a.listItemTitleText3,b("LSMediaUrl.bs").Attachment.listItemContactUrlList3(a),a.listItemProgressBarFilledPercentage3,a.listItemContactUrlExpirationTimestampList3,a.listItemContactUrlFallbackList3]].map(function(a){var c=a[0];if(c===void 0)return[];var d=b("bs_belt_Option").mapWithDefault(a[2],[],function(a){return a.split(",")}),e=b("bs_belt_Option").mapWithDefault(a[4],[],function(a){return a.split(",")}),f=b("bs_belt_Option").mapWithDefault(a[5],[],function(a){return a.split(",")});return[{id:c,titleText:a[1],contacts:d.map(function(a,c){return{url:a,urlExpirationTimestamp:b("bs_caml_array").get(e,c),urlFallback:b("bs_caml_array").get(f,c)}}),progressBarFilledPercentage:a[3]}]})]);return i.jsx("ul",{children:c.map(function(a,c){var f=a.progressBarFilledPercentage;if(f!==void 0){var g=a.titleText;return i.jsxs("li",{className:(h||(h=b("stylex")))(O.item),children:[i.jsxs("div",{className:h(O.header),children:[g!==void 0?i.jsx(b("MDSText.react"),{type:"headline4",numberOfLines:e===1?3:1,children:g}):null,i.jsx("div",{className:h(O.facepile),children:i.jsx(b("MWChatPollFacepile.bs").make,{contacts:a.contacts.map(function(a){return{profile_picture_url:a.url,name:void 0}}),size:"small",gap:"negative",direction:"reversed",optionId:a.id})})]}),i.jsx("div",{className:h(O.progressBar),children:i.jsx("div",{className:h(O.progressBarInner),style:{backgroundColor:b("MWV2ColorUtils.bs").int64ToHex(d),width:b("bs_int64").to_string(f)+"%"}})})]},String(c))}g=a.titleText;return i.jsx("li",{className:(h||(h=b("stylex")))(N.item),children:i.jsxs("div",{children:[i.jsx(b("MWChatPollFacepile.bs").make,{contacts:a.contacts.map(function(a){return{profile_picture_url:a.url,name:void 0}}),size:"large",limit:9,contactWithBorder:!1,overflowStyle:"overlayLastPhoto",optionId:a.id}),g!==void 0?i.jsx("div",{className:(h||(h=b("stylex")))(N.titleText),children:i.jsx(b("MDSText.react"),{color:"secondary",type:"body4",numberOfLines:2,children:g})}):null]})},String(c))})})}var ga={stylesDefault:N,stylesWithProgress:O,make:P},Q={root:{marginBottom:"n851cfcs"}};function R(a){a=a.listItemsSecondaryDescriptionText;return i.jsx("div",{className:(h||(h=b("stylex")))(Q.root),children:i.jsx(b("MDSTextPairing.react"),{body:a,level:4,bodyLineLimit:3,bodyColor:"secondary"})})}var ha={styles:Q,make:R},S={root:{display:"j83agx80",justifyContent:"taijpn5t",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",minHeight:"cehpxlet",marginTop:"n1l5q3vz",marginEnd:"tvfksri0",marginBottom:"n851cfcs",marginStart:"ozuftl9m"},rootWithHeaderAndNoMedia:{marginTop:"kvgmc6g5"},description:{flexGrow:"buofh1pr",display:"j83agx80",flexDirection:"btwxx1t3",marginEnd:"cgat1ltu"},hasFavicon:{paddingStart:"a8nywdso",paddingEnd:"rz4wbd8a"},buttonsWrapper:{marginTop:"n1l5q3vz",justifySelf:"g8xlbnay"},buttonsOnly:{marginTop:"kvgmc6g5"}};function T(a){var c=a.attachment,d=a.attachmentItem,e=a.isHscroll,f=a.isPressable;a=a.isStandalone;var g=b("LSMediaUrl.bs").AttachmentItem.faviconUrl(d),j=b("LSMediaUrl.bs").Attachment.faviconUrl(c);g=g!==void 0?b("MWXmaIconParser.bs").parse(g):j!==void 0?b("MWXmaIconParser.bs").parse(j):void 0;j=b("bs_belt_Option").getWithDefault(d.titleText,"")===""&&b("bs_belt_Option").getWithDefault(d.subtitleText,"")===""&&g===void 0;var k=d.titleText;k=b("bs_belt_Option").getWithDefault(k!==void 0||!a?k:c.titleText,"");var l=d.subtitleText;l=b("bs_belt_Option").getWithDefault(l!==void 0||!a?l:c.subtitleText,"");var m,n=0;k===""&&l===""?m=[]:n=1;if(n===1){n=i.jsxs("div",{className:(h||(h=b("stylex")))(S.description,g===void 0?!1:S.hasFavicon),children:[i.jsx(D,{icon:g}),i.jsx(A,{attachment:c,attachmentItem:d,title:k,subtitleText:l,isHscroll:e,isStandalone:a})]});m=[i.jsx(K,{attachmentItem:d,isPressable:f,children:n})]}g=c.listItemsDescriptionText;k=c.listItemId1;l=c.listItemsSecondaryDescriptionText;e=d.cta1Type;a=d.cta1Title;f=d.attachmentCta1Id;if(e!==void 0)if(a!==void 0)if(f!==void 0){n=c.messageId;var o=c.threadKey,p=d.cta2Type,q=d.cta2Title,r=d.attachmentCta2Id;if(p!==void 0&&q!==void 0&&r!==void 0){var s=d.cta3Type,t=d.cta3Title,u=d.attachmentCta3Id;p=i.jsxs(i.Fragment,{children:[i.jsx(H,{type_:p,title:q,ctaId:r,threadKey:o,messageId:n}),s!==void 0&&t!==void 0&&u!==void 0?i.jsx(H,{type_:s,title:t,ctaId:u,threadKey:o,messageId:n}):null]})}else p=null;q=[i.jsx("div",{className:(h||(h=b("stylex")))(S.buttonsWrapper,j?S.buttonsOnly:!1),children:i.jsxs(i.Fragment,{children:[i.jsx(H,{type_:e,title:a,ctaId:f,threadKey:o,messageId:n}),p]})})]}else q=[];else q=[];else q=[];r=[m,g!==void 0?[i.jsx(M,{listItemsDescriptionText:g})]:[],k!==void 0?[i.jsx(P,{attachment:c})]:[],l!==void 0?[i.jsx(R,{listItemsSecondaryDescriptionText:l})]:[],q].reduce(function(a,b){return a.concat(b)},[]);s=b("LSMediaUrl.bs").Attachment.previewUrl(c)!==void 0||b("LSMediaUrl.bs").AttachmentItem.previewUrl(d)!==void 0||b("LSMediaUrl.bs").AttachmentItem.playableUrl(d)!==void 0;if(r.length===0)return null;else return i.jsx("div",{className:(h||(h=b("stylex")))(S.root,!s&&c.headerTitle!==void 0?S.rootWithHeaderAndNoMedia:!1),children:r.map(function(a,b){return i.jsx(i.Fragment,{children:a},String(b))})})}var ia={styles:S,make:T},U={root:{marginEnd:"tvfksri0",display:"j83agx80",alignItems:"bp9cbjyn",height:"datstx6m"}};function V(a){a=a.icon;if(a===void 0)return null;if(a.TAG!==0)return i.jsx("div",{className:(h||(h=b("stylex")))(U.root),children:i.jsx(b("CometImageCover.react"),{alt:"Icon for this message's header",src:a._0,style:{height:"32px",width:"32px",borderRadius:"50%"}})});a=a._0;return i.jsx("div",{className:(h||(h=b("stylex")))(U.root),children:i.jsx(b("CometSkittleIcon.react"),{color:a.color,size:36,icon:a.icon})})}var ja={styles:U,make:V},W={root:{alignItems:"bp9cbjyn",display:"j83agx80",marginTop:"n1l5q3vz",marginEnd:"tvfksri0",marginBottom:"n851cfcs",marginStart:"ozuftl9m"}};function X(a){a=a.attachment;var c=a.headerTitle;if(c!==void 0)return i.jsxs("div",{className:(h||(h=b("stylex")))(W.root),children:[i.jsx(V,{icon:b("bs_belt_Option").flatMap(b("LSMediaUrl.bs").Attachment.headerImageUrl(a),b("MWXmaIconParser.bs").parse)}),i.jsx(b("MDSText.react"),{type:"bodyLink3",children:c})]});else return null}var ka={styles:W,make:X},Y={root:{display:"j83agx80",flexDirection:"cbu4d94t",height:"datstx6m"},withBorder:{borderTop:"opwvks06",borderEnd:"hop1g133",borderBottom:"linmgsc8",borderStart:"t63ysoy8"}},Z=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),$=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]);function a(a){var c=a.attachment,d=a.attachmentItem,e=a.isHscroll;a=a.isStandalone;var f=b("MWThreadCapabilitiesContext.bs").useHook(void 0),g=b("bs_curry")._1(f,b("LSThreadCapabilityBitOffset.bs").rtcVoiceCall);f=b("bs_curry")._1(f,b("LSThreadCapabilityBitOffset.bs").rtcVideoCall);var j=c.defaultCtaType;g=j!==void 0?$.has(j)&&!g||Z.has(j)&&!f:!1;j=b("bs_belt_Option").getWithDefault(c.shouldAutoplayVideo,!1);f=j&&c.attributionAppIcon!==void 0&&c.attributionAppName!==void 0;j=(h||(h=b("stylex")))(Y.root,f?Y.withBorder:!1);f=b("bs_belt_Option").isSome(d.attachmentCta1Id);return i.jsx(K,{attachmentItem:d,isPressable:!f&&!g,children:i.jsxs("div",{className:j,"data-testid":"mwxma_attachment_item",children:[i.jsx(X,{attachment:c}),i.jsx(K,{attachmentItem:d,isPressable:f&&!g,children:i.jsx(x,{attachment:c,attachmentItem:d,isStandalone:a})}),i.jsx(T,{attachment:c,attachmentItem:d,isHscroll:e,isPressable:f&&!g,isStandalone:a})]})})}a=a;f.logCtaClicked=j;f.useMaybeOpenChatTab=k;f.Attribution=c;f.VideoLoader=d;f.VideoContainer=e;f.$MWChatVideoPlayer$DeferredForDisplay=q;f.MWChatVideoPlayerLazy=t;f.$$Image=w;f.Preview=y;f.MainText=B;f.Icon=aa;f.WithOpenChatTab=ba;f.$ZenonUserActionLoggerCommon$Deferred=F;f.CtaButton=ca;f.DefaultActionTrigger=da;f.DefaultActionTriggerContainer=ea;f.ListItemsDescriptionText=fa;f.ListItems=ga;f.ListItemsSecondaryDescriptionText=ha;f.Body=ia;f.HeaderIcon=ja;f.Header=ka;f.styles=Y;f.videoXmaRtcTypes=Z;f.audioXmaRtcTypes=$;f.make=a}),null);
__d("MWXMAAttachment.bs",["fbt","CometHScroll.react","CurrentEnvironment","MNLSXMALayoutType.bs","MWLSThreadDisplayContext.bs","MWXMAAttachmentItem.bs","ReQL.bs","ReQLSubscription.bs","ReactStyle.bs","bs_belt_Option","bs_caml","bs_int64","qex","react","recoverableViolation","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");function k(a){return{attachmentFbid:a.attachmentFbid,attachmentIndex:a.attachmentIndex,threadKey:a.threadKey,messageId:a.messageId,originalPageSenderId:a.originalPageSenderId,titleText:a.titleText,subtitleText:a.subtitleText,playableUrl:a.playableUrl,playableUrlFallback:a.playableUrlFallback,playableUrlExpirationTimestampMs:a.playableUrlExpirationTimestampMs,playableUrlMimeType:a.playableUrlMimeType,dashManifest:a.dashManifest,previewUrl:a.previewUrl,previewUrlFallback:a.previewUrlFallback,previewUrlExpirationTimestampMs:a.previewUrlExpirationTimestampMs,previewUrlMimeType:a.previewUrlMimeType,previewWidth:a.previewWidth,previewHeight:a.previewHeight,imageUrl:a.imageUrl,defaultCtaId:a.defaultCtaId,defaultCtaTitle:a.defaultCtaTitle,defaultCtaType:a.defaultCtaType,defaultButtonType:void 0,defaultActionUrl:void 0,defaultActionEnableExtensions:!1,defaultWebviewHeightRatio:void 0,attachmentCta1Id:a.attachmentCta1Id,cta1Title:a.cta1Title,cta1Type:a.cta1Type,attachmentCta2Id:a.attachmentCta2Id,cta2Title:a.cta2Title,cta2Type:a.cta2Type,attachmentCta3Id:a.attachmentCta3Id,cta3Title:a.cta3Title,cta3Type:a.cta3Type,faviconUrl:a.faviconUrl,faviconUrlFallback:a.faviconUrlFallback,faviconUrlExpirationTimestampMs:a.faviconUrlExpirationTimestampMs,previewUrlLarge:a.previewUrlLarge}}var l={root:{maxWidth:"nqmqzb3c",width:"k4urcfbm"},rootForHScrollInChatTab:{maxWidth:"r2nqfv2r"},card:{verticalAlign:"sf5mxxl7",overflowX:"ni8dbmo4",overflowY:"stjgntxs",height:"datstx6m",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad"},card_opaque:{backgroundColor:"b3i9ofy5"},incoming:{borderTopStartRadius:"monazrh9",borderBottomStartRadius:"mrjvor2e"},connect_top:{borderTopStartRadius:"monazrh9",borderTopEndRadius:"h905i5nu"},incoming_connect_bot:{borderBottomStartRadius:"qttc61fc"},outgoing_connect_bot:{borderBottomEndRadius:"ihh4hy1g"},centered:{marginTop:"km676qkl",marginEnd:"ad2k81qe",marginBottom:"myj7ivm5",marginStart:"f9o22wc5"},hasText:{borderTopStartRadius:"monazrh9",borderTopEndRadius:"h905i5nu"}},m=284,n={flexibleContainer:{"@media (max-width: 1439px)":{maxWidth:"hhu87qg3"},"@media (min-width: 1440px)":{maxWidth:"scoao9yg"}},scroller:{position:"l9j0dhe7",start:"cvthrh62",width:"bsget9wy",marginBottom:"quq7zyon"},scrollerThinTab:{width:"k4urcfbm"},cardWrapper:{backgroundColor:"hybvsw6c",height:"datstx6m",width:"k4urcfbm"},spacer:{marginTop:"pcgkmkmd"}};function o(a){var c=a.items,d=a.hasText,e=a.cardWidth;a=a.fullWidthContainer;a=a!==void 0?a:!1;var f=j.useMemo(function(){if(b("CurrentEnvironment").messengerdotcom)return b("ReactStyle.bs").unsafeAddProp({},"--secondary-button-background","#e4e6eb");else return{}},[]);return j.jsx("div",{style:f,className:(i||(i=b("stylex")))(a?!1:n.flexibleContainer,b("qex")._("1499")===!0?n.scrollerThinTab:!1),children:j.jsx(b("CometHScroll.react").Container,{cardWidth:e!==void 0?{type:"fixed",width:e}:{type:"responsive",minWidth:m},accessibilityLabel:g._(/*FBT_CALL*/"Message containing multiple sub messages"/*FBT_CALL*/),children:c.map(function(a,c){var e=c===0;return j.jsx(b("CometHScroll.react").Child,{children:j.jsx("div",{className:(i||(i=b("stylex")))(n.cardWrapper),children:j.jsx("div",{className:i(l.card,l.card_opaque,e&&d?l.hasText:!1,d?n.spacer:!1),children:a})}),expanding:!0},c.toString())}),gap:8})})}c={cardMinWidth:m,styles:n,make:o};function p(a){var c=a.outgoing,d=a.connectTop,e=a.connectBottom,f=a.children,g=a.centered;a=a.isBorderless;g=g!==void 0?g:!1;a=a!==void 0?a:!1;var h=j.useMemo(function(){if(b("CurrentEnvironment").messengerdotcom)return b("ReactStyle.bs").unsafeAddProp({},"--secondary-button-background","#e4e6eb");else return{}},[]);return j.jsx("div",{style:h,className:(i||(i=b("stylex")))(l.card,a?!1:l.card_opaque,d?l.connect_top:!1,e?c?l.outgoing_connect_bot:l.incoming_connect_bot:!1,g?l.centered:!1),children:f})}d={make:p};function a(a){var c=a.attachment,d=a.connectTop,e=a.connectBottom,f=a.hasText,g=a.outgoing,h=a.xstyle,m=a.cardWidth;a=a.fullWidthContainer;f=f!==void 0?f:!1;a=a!==void 0?a:!1;var n=b("useReStore")(),q=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(n.table("attachment_items")),{hd:c.attachmentFbid,tl:0})},[n,JSON.stringify(c.attachmentFbid)])),r=j.useMemo(function(){var a=c.xmaLayoutType;if(a!==void 0)return b("bs_caml").i64_eq(a,b("MNLSXMALayoutType.bs").hscroll);else return!1},[c]),s=j.useMemo(function(){var a=c.xmaLayoutType;if(a!==void 0)return b("bs_caml").i64_eq(a,b("MNLSXMALayoutType.bs").xcenter);else return!1},[c]),t=b("MWLSThreadDisplayContext.bs").useHook(void 0),u=c.xmaLayoutType,v,w=0;if(u!==void 0)if(b("bs_caml").i64_eq(u,b("MNLSXMALayoutType.bs").hscroll))v=j.jsx(o,{items:q.map(function(a,d){return j.jsx(b("MWXMAAttachmentItem.bs").make,{attachment:c,attachmentItem:a,isHscroll:r,isStandalone:!1},d.toString())}),hasText:f,cardWidth:m,fullWidthContainer:a});else if(q.length!==1)w=1;else{f=q[0];b("bs_caml").i64_eq(u,b("MNLSXMALayoutType.bs").xcenter)?v=j.jsx(p,{outgoing:g,connectTop:d,connectBottom:e,children:j.jsx(b("MWXMAAttachmentItem.bs").make,{attachment:c,attachmentItem:f,isHscroll:r,isStandalone:!0}),centered:!0}):w=1}else w=1;if(w===1){m=q.length;if(m!==1)if(m!==0){a="n Attachment Items: "+String(q.length);u="Layout: "+b("bs_belt_Option").mapWithDefault(c.xmaLayoutType,"na",b("bs_int64").to_string);f="Attachment Type: "+b("bs_int64").to_string(c.attachmentType);w=[a,u,f].join(", ");b("recoverableViolation")("Unknown combination of XMA items and layout. "+w,"messenger_privacy_web");v=null}else v=j.jsx(p,{outgoing:g,connectTop:d,connectBottom:e,children:j.jsx(b("MWXMAAttachmentItem.bs").make,{attachment:c,attachmentItem:k(c),isHscroll:r,isStandalone:!0}),isBorderless:b("bs_belt_Option").getWithDefault(c.isBorderless,!1)});else{m=q[0];v=j.jsx(p,{outgoing:g,connectTop:d,connectBottom:e,children:j.jsx(b("MWXMAAttachmentItem.bs").make,{attachment:c,attachmentItem:m,isHscroll:r,isStandalone:!0})})}}return j.jsx("div",{className:(i||(i=b("stylex")))(r?t===0?l.rootForHScrollInChatTab:!1:s?!1:l.root,b("bs_belt_Option").getWithDefault(h,!1)),children:v})}e=a;f.HorizontalLayout=c;f.VerticalLayout=d;f.make=e}),null);
__d("MWMessageListAttachmentContainer.bs",["CometErrorBoundary.re","MWChatAttachmentMediaPreview.bs","MWMessageListAttachment.bs","MWPMessageListAttachment.bs","MWPSolidMessageBubble.bs","MWV2ChatBubble.bs","MWV2ChatEphemeralButton.bs","MWV2ChatFileCommon.bs","MWV2ChatImagesGrid.bs","MWV2UnsupportedAttachment.bs","MWXMAAttachment.bs","RavenMessagingState.bs","bs_caml","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={file:{paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso"}};function a(a){var c=a.message,d=a.connectTop,e=a.connectBottom,f=a.hasText,g=a.outgoing,j=a.xstyle;a=a.hasEmphasisRing;var k=f!==void 0?f:!1;f=a!==void 0?a:!1;a={message:c,connectTop:d,connectBottom:e,outgoing:g,renderFileAttachment:function(a){return h.jsx(b("MWPSolidMessageBubble.bs").make,{children:h.jsx(b("MWV2ChatFileCommon.bs").make,{attachment:a}),style:{backgroundColor:"var(--comment-background)"},connectTop:d,connectBottom:e,outgoing:g,xstyle:i.file})},renderImageAttachment:function(e,a,d){return h.jsx(b("MWMessageListAttachment.bs").$$Image.make,{message:c,attachment:e,connectTop:a,connectBottom:d,outgoing:g})},renderUnsupportedAttachment:function(a){return h.jsx(b("MWPSolidMessageBubble.bs").make,{children:h.jsx(b("MWV2UnsupportedAttachment.bs").make,{attachment:a}),style:{backgroundColor:"var(--comment-background)"},connectTop:d,connectBottom:e,outgoing:g})},renderVideoAttachment:function(a){return h.jsx(b("MWMessageListAttachment.bs").Video.make,{attachment:a,message:c,connectTop:d,outgoing:g})},renderAudioAttachment:function(a){return h.jsx(b("MWMessageListAttachment.bs").$$Audio.make,{attachment:a,outgoing:g})},renderStickerAttachment:function(a){return h.jsx(b("MWMessageListAttachment.bs").Sticker.make,{attachment:a})},renderImageGrid:function(a){return h.jsx(b("MWV2ChatImagesGrid.bs").make,{attachments:a})},renderXMAAttachment:function(a){a={attachment:a,connectTop:d,connectBottom:e,hasText:k,outgoing:g};j!==void 0&&(a.xstyle=b("bs_caml_option").valFromOption(j));return h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){a={connectTop:d,connectBottom:e};j!==void 0&&(a.xstyle=b("bs_caml_option").valFromOption(j));return h.jsx(b("MWMessageListAttachment.bs").$$Error.make,a)},children:h.jsx(b("MWXMAAttachment.bs").make,a)})},renderEphemeralMediaAttachment:function(a){var c=a.ephemeralMediaState;if(c!==void 0)if(b("bs_caml").i64_eq(c,b("RavenMessagingState.bs").permanent))return h.jsx(b("MWChatAttachmentMediaPreview.bs").make,{attachment:a});else return h.jsx(b("MWV2ChatEphemeralButton.bs").make,{attachment:a,connectTop:d,connectBottom:e,outgoing:g});else return null}};f=f?function(a,c){return h.jsx(b("MWV2ChatBubble.bs").EmphasisRing.make,{children:c,shouldConnectTop:d,shouldConnectBottom:!1,isBeforeXMA:!1,hasXMA:a,isOutgoing:g})}:void 0;f!==void 0&&(a.renderEmphasisRing=b("bs_caml_option").valFromOption(f));return h.jsx(b("MWPMessageListAttachment.bs").make,a)}c=h.memo(a);f.styles=i;f.make=c}),null);
__d("MWV2ChatReactionsTooltip.bs",["fbt","ReQL.bs","ReQLSubscription.bs","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.reactions,d=a.threadKey,e=a.messageId,f=b("useReStore")();a=b("ReQLSubscription.bs").useArray(i.useMemo(function(){var a;return(a=b("ReQL.bs")).leftJoin(a.getKeyRange(a.fromTableAscending(f.table("reactions")),{hd:d,tl:{hd:e,tl:0}}),a.fromTableAscending(f.table("contacts")))},[JSON.stringify(d),f,e]));var h=new Map(a.map(function(a){var c=a[1];return[b("bs_int64").to_string(a[0].actorId),c!==void 0?c.name:g._(/*FBT_CALL*/"Facebook user"/*FBT_CALL*/)]}));a=i.useMemo(function(){var a=c.map(function(a){a=h.get(b("bs_int64").to_string(a.actorId));if(a==null)return"";else return a}).filter(function(a){return a!==""}),d=a.length;a=a.slice(0,9);if(d>9){d=d-9|0;a.push(g._(/*FBT_CALL*/{"*":"and {count} others","_1":"and {count} other"}/*FBT_CALL*/,[g._plural(d),g._param("count",String(d))]))}return a},[c,a]);a=a.map(function(a,b){return i.jsx("div",{children:a},String(b))});return i.jsx("div",{children:a})}c=9;d=a;f.maxExplicitNames=c;f.make=d}),null);
__d("MWMessageReactionsContainer.bs",["MWChatReactionEmoji.bs","MWChatReactionsUtils.bs","MWTooltip.react","MWV2ChatReactionsTooltip.bs","bs_caml_array","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={emojiRow:{paddingTop:"ggysqto6",paddingEnd:"exrn9cbp",paddingBottom:"ojkyduve",paddingStart:"abpf7j7b",textAlign:"ftzlm3b6",backgroundColor:"hybvsw6c",borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem",boxShadow:"tlilfck6",display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t"},emoji:{alignItems:"bp9cbjyn",backgroundColor:"hybvsw6c",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",lineHeight:"soycq5t1",cursor:"nhd2j8a9"},emojiMargin:{marginEnd:"o9f14d3k"},emojiNum:{width:"fhvfysw3",textAlign:"oqcyycmt",fontSize:"r9r71o1u",lineHeight:"soycq5t1",color:"m9osqain"},scaleHeartEmoji:{transform:"gb8c02s1"}};function a(a){var c=a.count,d=a.emojis,e=a.messageId,f=a.reactions;a=a.threadKey;var g=c>1,k=d.map(function(a,c){var e=g||c!==(d.length-1|0),f=b("bs_curry")._1(b("MWChatReactionsUtils.bs").isHeart,b("bs_caml_array").get(a,0));return i.jsx("div",{className:(h||(h=b("stylex")))(j.emoji,e?j.emojiMargin:!1),children:i.jsx("div",{className:h(f?j.scaleHeartEmoji:!1),children:i.jsx(b("MWChatReactionEmoji.bs").make,{emoji:a,size:16,testid:"messenger_reaction_emoji_"+b("bs_caml_array").get(a,0)})})},String(c))});return i.jsx(b("MWTooltip.react"),{tooltip:i.jsx(b("MWV2ChatReactionsTooltip.bs").make,{reactions:f,threadKey:a,messageId:e}),align:"middle",position:"above",children:i.jsxs("div",{role:"none",className:(h||(h=b("stylex")))(j.emojiRow),children:[k,g?i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.emojiNum),children:String(c)}):null]})})}c=a;f.styles=j;f.make=c}),null);
__d("MDSReplySvgIcon.bs",["MDSSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.005 24.4c0 1.278-1.336 2.04-2.334 1.332l-9.007-6.399c-.891-.633-.89-2.028 0-2.661l9.007-6.398c.998-.71 2.334.053 2.334 1.33l.001 3.397c7.14 0 11.997 3.226 11.998 10.987 0 .594-.411 1.012-1.033 1.012-.46 0-.845-.265-1.115-1.083-1.147-3.464-4.54-4.917-9.85-4.917v3.4z"})})}c=a;f.make=c}),null);
__d("BaseHeadingContextWrapper.re",["BaseHeadingContextWrapper.react"],(function(a,b,c,d,e,f){a=b("BaseHeadingContextWrapper.react");f.makeTypeChecked=a;c=a;f.make=c}),null);
__d("MWPMessageLoggingWrapper.bs",["CometHeroInteractionWithDiv.react","MWChatInteraction.bs","bs_belt_Option","bs_caml_splice_call","bs_js_null_undefined","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function a(a){var c=a.messageId,d=a.offlineThreadingId,e=a.children;a=a.xstyle;c=b("MWChatInteraction.bs").get(c);d=b("MWChatInteraction.bs").get(d);d=c==null?d==null?void 0:d:d==null?c:void 0;if(b("bs_belt_Option").isNone(d))return i.jsx("div",{className:b("bs_caml_splice_call").spliceApply(h||(h=b("stylex")),[a]),children:e});else return i.jsx(b("CometHeroInteractionWithDiv.react"),{children:e,interactionUUID:b("bs_js_null_undefined").fromOption(d),interactionDesc:"MESSAGE_RENDER",pageletName:"Message",excludeFromMainVC:!1,xstyle:a})}c=a;f.make=c}),null);
__d("LSReplyMessageAttachmentType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9];f.other=a;f.photo=c;f.video=d;f.gif=e;f.sticker=b;f.link=g;f.multiphoto=h;f.permanentRavenPhoto=i;f.permanentRavenVideo=j;f.soundBite=k}),null);
__d("LSReplyMessageStatus.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];f.unknown=a;f.valid=c;f.deleted=d;f.temporaryUnavailable=e;f.expired=b}),null);
__d("MWV2JumpToRepliedMessageLogger.bs",["CometHeroLogging","LSMessagingInitiatingSource.bs","MWChatInteraction.bs","bs_caml","bs_curry","bs_int64","bs_js_dict"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){var f=b("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(b("bs_curry")._1(a.getTraceId,void 0),null);b("MWChatInteraction.bs").set(c,f);d!==void 0&&(b("bs_caml").i64_eq(d,b("LSMessagingInitiatingSource.bs").facebookChat)?a.addMetadata("entrypoint","chat"):b("bs_caml").i64_eq(d,b("LSMessagingInitiatingSource.bs").facebookInbox)&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",b("bs_int64").to_string(e));return a.onComplete(function(a){return b("bs_js_dict").unsafeDeleteKey(b("MWChatInteraction.bs").interactions,c)})}f.startHeroInteractionTrace=a}),null);
__d("MWV2JumpToRepliedMessage.bs",["LSMessagingInitiatingSourceHook.bs","MWV2JumpToRepliedMessageLogger.bs","MWVersion.bs","MWVisibleMessageContext.bs","bs_curry","qpl","react","useCometInteractionTracing"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("MWVisibleMessageContext.bs").useHook(void 0),e=d.setVisibleMessage,f=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0),g=b("useCometInteractionTracing")(b("qpl")._(25301087,"7779"),"fast","INTERACTION");return h.useCallback(function(d){return g(function(d){b("bs_curry")._1(e,function(b){return{timestamp:c,messageId:a,highlights:[],contextLine:"",source:1}});return b("MWV2JumpToRepliedMessageLogger.bs").startHeroInteractionTrace(d,a,f,b("MWVersion.bs").v2)})},[a,c,e,g,f])}f.useHook=a}),null);
__d("MWV2RepliedMessageBubbleWrapper.bs",["CometPressable.react","MWV2JumpToRepliedMessage.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={root:{display:"a8c37x1j"}};function a(a){var c=a.messageId,d=a.timestampMs;a=a.children;var e=b("MWV2JumpToRepliedMessage.bs").useHook(c,d);return h.jsx(b("CometPressable.react"),{onPress:function(a){return b("bs_curry")._1(e,void 0)},overlayDisabled:!0,xstyle:function(a){return[i.root]},children:a})}c=a;f.styles=i;f.make=c}),null);
__d("MWReply.bs",["MWPBaseReply.bs","MWReplies.bs","MWV2RepliedMessageBubbleWrapper.bs","MWV2ReplyTo.bs","qex","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={elevate:{maxWidth:"d2edcug0",position:"l9j0dhe7",zIndex:"tkr6xdv7"}};function a(a){var c=a.message,d=a.outgoing;a=a.isSecureThread;var e=a!==void 0?a:!1;a=i.jsx(b("MWPBaseReply.bs").make,{message:c,outgoing:d,renderRemovedMessage:function(a){return i.jsx(b("MWReplies.bs").Removed.make,{outgoing:a})},renderExpiredMessage:function(a){return i.jsx(b("MWReplies.bs").Expired.make,{outgoing:a})},renderStory:function(a,c){return i.jsx(b("MWReplies.bs").Story.make,{message:a,outgoing:c})},renderAttachment:function(a,c){return i.jsx(b("MWReplies.bs").Attachment.make,{outgoing:c})},renderMedia:function(a,c){return i.jsx(b("MWReplies.bs").Media.make,{message:a,outgoing:c,isSecureThread:e})},renderSticker:function(a,c){return i.jsx(b("MWReplies.bs").Sticker.make,{message:a,outgoing:c,isSecureThread:e})},renderTextMessage:function(c,a){return i.jsx(b("MWV2ReplyTo.bs").make,{children:i.jsx(b("MWReplies.bs").$$Text.make,{text:c}),outgoing:a})}});d=c.replySourceTimestampMs;c=c.replySourceId;var f=b("qex")._("1511");f=c!==void 0&&d!==void 0&&!(f==null||f!=="enabled")?i.jsx(b("MWV2RepliedMessageBubbleWrapper.bs").make,{messageId:c,timestampMs:d,children:a}):a;return i.jsx("div",{className:(h||(h=b("stylex")))(j.elevate),children:f})}c=a;f.styles=j;f.make=c}),null);
__d("MWReplySnippet.bs",["LSMessageReplySourceTypeV2.bs","MDSForwardSvgIcon.bs","MDSReplySvgIcon.bs","bs_caml","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"j83agx80",alignItems:"bp9cbjyn",paddingTop:"jwdofwj8",paddingBottom:"pby63qed"},text:{paddingStart:"hyh9befq",color:"pipptul6",fontSize:"sq6gx45u"}};function k(a){a=a.message;a=a.replySourceTypeV2;if(a!==void 0)if(b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").message)||b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").story))return i.jsx(b("MDSReplySvgIcon.bs").make,{color:"tertiary",size:"16"});else if(b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").forward)||b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").igStoryShare)||b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").fbStoryShare))return i.jsx(b("MDSForwardSvgIcon.bs").make,{color:"tertiary",size:"16"});else return null;else return null}c={make:k};function a(a){a=a.message;var c=a.replySnippet;if(c!==void 0)return i.jsxs("div",{className:(h||(h=b("stylex")))(j.container),"data-testid":"reply_snippet",children:[i.jsx(k,{message:a}),i.jsx("div",{className:h(j.text),children:c})]});else return null}d=a;f.styles=j;f.Icon=c;f.make=d}),null);
__d("MessageProfileRangeType.bs",["MessageProfileRangeType"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="p")return b("MessageProfileRangeType").PROFILE;else if(a==="thread")return b("MessageProfileRangeType").THREAD;else if(a==="thread_active")return b("MessageProfileRangeType").THREAD_ACTIVE;else return b("MessageProfileRangeType").NONE}f.ofString=a}),null);
__d("URLScraper",["ArbiterMixin","DataStore","Event","URLMatcher","mixin"],(function(a,b,c,d,e,f,g){var h="scraperLastPermissiveMatch";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.input=b;d.enable();d.getValueFn=c;return d}var e=b.prototype;e.reset=function(){d("DataStore").set(this.input,h,null)};e.enable=function(){if(this.events)return;var a=function(a){window.setTimeout(this.check.bind(this,a),30)};this.events=c("Event").listen(this.input,{paste:a.bind(this,!1),keydown:a.bind(this,!0)})};e.disable=function(){if(!this.events)return;for(var a in this.events)this.events[a].remove();this.events=null};e.check=function(a){var c=this.getValueFn?this.getValueFn():this.input.value;if(a&&b.trigger(c))return;a=b.match(c);c=d("URLMatcher").permissiveMatch(c);c&&c!=d("DataStore").get(this.input,h)&&(d("DataStore").set(this.input,h,c),this.inform("match",{url:a||c,alt_url:c}))};return b}(c("mixin")(c("ArbiterMixin")));Object.assign(a,d("URLMatcher"));g["default"]=a}),98);
__d("getURLRanges",["URI","URLScraper","UnicodeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],e=0;while(!0){var f=d("UnicodeUtils").substr(a,e),g=c("URLScraper").match(f);if(!g)break;if(!c("URI").isValidURI(g))break;var h=g;/^[a-z][a-z0-9\-+.]+:\/\//i.test(g)||(h="http://"+g);var i=f.indexOf(g);f=d("UnicodeUtils").strlen(f.substr(0,i));e+=f;i=g.length;b.push({offset:e,length:g.length,entity:{url:h}});e+=i}return b}g["default"]=a}),98);
__d("MWV2ChatText.bs",["MWPMessageListText.bs","MWUseTextRenderers.bs","MWV2ChatTextParserUtils.bs","MWVisibleMessageContext.bs","bs_curry","cr:385","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){var d=c.mentionIds,e=c.mentionLengths,f=c.mentionOffsets;c=c.mentionTypes;if(d!==void 0)if(e!==void 0)if(f!==void 0)if(c!==void 0)return b("MWV2ChatTextParserUtils.bs").findRangesForMentions(a,d,e,f,c);else return[];else return[];else return[];else return[]}function j(a,b,c){if(a===void 0)return[];if(a.messageId!==c)return[];var d=b.indexOf(a.contextLine);if(d>-1)return a.highlights.map(function(a){return{offset:a.matchOffset+d|0,length:a.matchLength,entity:{__typename:"Highlight"}}});else return[]}function k(a){var c=b("useReStore")(),d=b("MWVisibleMessageContext.bs").useHook(void 0),e=d.visibleMessage;return h.useMemo(function(){var d=a.text;d=d!==void 0&&d!==""?d:void 0;if(d===void 0)return[];if(b("MWV2ChatTextParserUtils.bs").isEmojiOnlyMessage(d))return[];d=b("cr:385")==null?d:b("bs_curry")._1(b("cr:385").unvault,d);var f=i(c,a);f=f.concat(b("MWV2ChatTextParserUtils.bs").findRanges(d));return f.concat(j(e,d,a.messageId))},[a,c,e])}function a(a){var c=a.message,d=a.outgoing;a=a.isSecureThread;a=a!==void 0?a:!1;var e=k(c);a=b("MWUseTextRenderers.bs").useHook(a,void 0);var f=c.text;f=!(b("cr:385")==null)&&f!==void 0?b("bs_curry")._1(b("cr:385").unvault,f):f;return h.jsx(b("MWPMessageListText.bs").make,{message:c,text:f,outgoing:d,ranges:e,renderers:a})}c=a;f.useRanges=k;f.$MAWVault$requireCond=b("cr:385");f.make=c}),null);
__d("MWV2MessageProfilePhoto.bs",["BaseGlimmer.react","CometImageCover.react","CometLazyPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","LSMediaUrl.bs","MWPMessageAuthor.bs","MWTooltip.react","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{width:"ciadx1gn"}};function k(a){return i.jsx("div",{className:(h||(h=b("stylex")))(j.root)})}c={styles:j,make:k};var l={profile:{flexShrink:"pfnyh3mw",width:"ciadx1gn",height:"mudddibn",alignItems:"aovydwv3",display:"j83agx80"},glimmer:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",width:"ciadx1gn",height:"mudddibn"}};function a(a){var c=a.message,d=a.isLastMessageInGroup,e=a.isGroupThread;a=i.useContext(b("MWPMessageAuthor.bs").ctx);var f=a.nickname,g=a.contact,j={borderRadius:"50%"};if(!d)return i.jsx(k,{});var m;a=0;if(g!==void 0&&b("LSMediaUrl.bs").Contact.profilePictureUrl(g)!==""){d=f!==void 0?f+" ("+g.name+")":g.name;m=i.jsx(b("MWTooltip.react"),{tooltip:d,align:"middle",position:"start",children:b("gkx")("4185")?i.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResourceForInteraction")("MWV2MessageProfilePhotoMenu").__setRef("MWV2MessageProfilePhoto.bs"),popoverProps:{message:c},children:function(a,c,d,f,h,k,m){if(e)return i.jsx(b("CometPressable.react"),{ref:a,onPress:function(a){return b("bs_curry")._1(c,void 0)},overlayRadius:"50%",xstyle:function(a){return[l.profile]},children:i.jsx(b("CometImageCover.react"),{alt:g.name,src:b("LSMediaUrl.bs").Contact.profilePictureUrl(g),style:j})});else return i.jsx(b("CometImageCover.react"),{alt:g.name,src:b("LSMediaUrl.bs").Contact.profilePictureUrl(g),style:j})}}):i.jsx(b("CometImageCover.react"),{alt:g.name,src:b("LSMediaUrl.bs").Contact.profilePictureUrl(g),style:j})})}else a=1;a===1&&(m=i.jsx(b("BaseGlimmer.react"),{index:1,xstyle:l.glimmer}));return i.jsx("div",{className:(h||(h=b("stylex")))(l.profile),children:m})}d=a;f.NoProfilePhoto=c;f.styles=l;f.make=d}),null);
__d("WorkChatDateBreak.bs",["BaseHeading.react","CometTimestamp.react","MWTheme.bs","formatDate","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{textAlign:"oqcyycmt",color:"pipptul6",fontSize:"r9r71o1u",fontWeight:"lrazzd5p"},mask:{backgroundColor:"nred35xi"},accessibleElem:{clip:"q45zohi1",clipPath:"ema1e40h",height:"do00u71z",overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"ttbfdpzt"}};function a(a){a=a.timestamp;var c=b("MWTheme.bs").useTheme(void 0);return i.jsxs(b("BaseHeading.react"),{children:[i.jsx("div",{className:(h||(h=b("stylex")))(j.accessibleElem),children:i.jsx(b("CometTimestamp.react"),{date:new Date(a)})}),i.jsx("div",{className:h(j.root,b("MWTheme.bs").isGradient(c)?j.mask:!1),"data-scope":"date_break","aria-hidden":!0,children:b("formatDate")(new Date(a),{today:"g:ia",thisYear:"M jS, g:ia",withinWeek:"D g:ia",older:"m/d/Y g:ia",future:"g:ia"})})],testid:"mw-chat-date-break"})}c=a;f.styles=j;f.make=c}),null);
__d("MWMessageRow.bs",["CometErrorBoundary.re","MWChatGutterItem.bs","MWForwardedContent.bs","MWLSActor.bs","MWLSThreadDisplayContext.bs","MWMessageListAttachmentContainer.bs","MWMessageReactionsContainer.bs","MWMessageRowActions.bs","MWPBaseMessage.bs","MWPBaseMessageListRow.bs","MWPBaseMessageRowHeader.bs","MWPMessageFooter.react","MWPMessageListColumn.bs","MWPMessageListRowWithKeyboardInteractions.bs","MWPMessageLoggingWrapper.bs","MWPMessageParsingUtils.bs","MWPMessageReactions.bs","MWPMessageSenderName.bs","MWReply.bs","MWReplySnippet.bs","MWV2ChatAdminMessage.bs","MWV2ChatBubble.bs","MWV2ChatEmoji.bs","MWV2ChatErrorBubble.bs","MWV2ChatText.bs","MWV2ChatUnsentMessage.bs","MWV2MessageEndOfGroupContent.bs","MWV2MessageHasReply.bs","MWV2MessageProfilePhoto.bs","MWV2MessageRowSimple.bs","MWV2MessageStartOfGroupContent.bs","MWV2MessageTimestampTooltip.bs","MWV2ReplyError.bs","MWV2SeenHead.bs","bs_caml","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","cr:4443","gkx","react","stylex","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={alignEnd:{alignItems:"aovydwv3"},adminMessageAttachment:{boxSizing:"rq0escxv",paddingTop:"jwdofwj8",paddingBottom:"hwnh5xvq",paddingEnd:"gl4o1x5y",paddingStart:"lt9micmv",minWidth:"fli3ptqi",maxWidth:"f2fs36ck","@supports(max-width: min(100%, 500px))":{maxWidth:"cj3kdmfp"}},gutter:{overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"odw8uiq3"},reply:{display:"j83agx80",alignItems:"ll8tlv6m",flexDirection:"cbu4d94t"},replyMargin:{marginBottom:"dglbbz69"}},k=b("cr:4443")==null?void 0:b("bs_caml_option").some(b("cr:4443"));function a(a){var c=a.message,d=a.isFirstMessageInGroup,e=a.isLastMessageInGroup,f=a.outgoing,g=a.isSecureThread,h=a.reactions,j=a.renderAttachment,k=a.hasMessageEmphasisRing,l=a.prevMessage;a=a.nextMessage;return i.jsx(b("MWPBaseMessage.bs").make,{message:c,reactions:h,isFirstMessageInGroup:d,isLastMessageInGroup:e,outgoing:f,isSecureThread:g,renderAttachment:function(a,d,e,f,g,c,h){if(j!==void 0)return b("bs_curry")._4(j,a,d,e,c);else return i.jsx(b("MWMessageListAttachmentContainer.bs").make,{message:a,connectTop:f,connectBottom:g,hasText:h,outgoing:c,hasEmphasisRing:k})},renderMessageFooter:function(a,d,c){return i.jsx(b("MWPMessageFooter.react").MWPMessageFooter,{children:d.length>0?i.jsx(b("MWPMessageReactions.bs").make,{message:a,outgoing:c,reactions:d,children:function(c,d,a,e,f){return i.jsx(b("MWMessageReactionsContainer.bs").make,{count:d,emojis:c,messageId:e,reactions:a,threadKey:f})}}):null,outgoing:c})},renderUnsentMessage:function(a,c){return i.jsx(b("MWV2MessageTimestampTooltip.bs").make,{message:a,children:i.jsx(b("MWV2ChatUnsentMessage.bs").make,{message:a,outgoing:c,isSecureThread:g})})},renderEmoji:function(a){return i.jsx(b("MWV2ChatEmoji.bs").make,{message:a,hasEmphasisRing:k})},renderMessageBubble:function(a,d,e,f,c){return i.jsx(b("MWV2ChatBubble.bs").make,{children:i.jsx(b("MWV2ChatText.bs").make,{message:a,outgoing:c,isSecureThread:g}),connectTop:d,connectBottom:e,precedesXMA:f,outgoing:c,message:a,hasEmphasisRing:k})},renderMessageContainer:function(a,d){return i.jsx(b("MWPMessageLoggingWrapper.bs").make,{messageId:c.messageId,offlineThreadingId:c.offlineThreadingId,children:i.jsx(b("MWV2MessageTimestampTooltip.bs").make,{message:c,children:a}),xstyle:d})},prevMessage:l,nextMessage:a})}var l=i.memo(a);d={make:l};function m(a){var c=b("MWLSThreadDisplayContext.bs").useHook(void 0);return i.useMemo(function(){var a=b("gkx")("571")?"12px":b("bs_caml_obj").caml_equal(c,1)?"16px":"8px";return{light:{"mwp-message-list-profile-start-padding":a},dark:{"mwp-message-list-profile-start-padding":a},type:"VARIABLES"}},[c])}function c(a){var c=a.prevMessage,d=a.message,e=a.nextMessage,f=a.status,g=a.isGroupThread,n=a.isSecureThread,o=a.isModal,p=a.stopHoveringRef,q=a.domElementRef,r=a.hasMessageEmphasisRing;a=a.renderAttachment;var s=b("MWLSActor.bs").useActor(void 0),t=b("MWPMessageParsingUtils.bs").isStartOfGroup(d,c),u=b("MWPMessageParsingUtils.bs").isEndOfGroup(d,e),v=b("bs_caml").i64_eq(d.senderId,s);s=b("MWPMessageReactions.bs").useReactions(d);var w=i.useState(function(){return!1}),x=w[0],y=i.useState(function(){return!1}),z=y[0],A=b("useCometUniqueID")(),B=i.useState(function(){return!1}),C=B[0],D=!v;D=D&&g;var E=b("MWV2MessageHasReply.bs").make(d),F=s.length>0,G=d.replySourceId,H=d.replyMediaExpirationTimestampMs;G=G!==void 0?H!==void 0?b("bs_caml").i64_gt(H,b("bs_caml_int64").zero):!0:!1;H=m(void 0);A=d.isAdminMessage?i.jsx(b("MWV2MessageRowSimple.bs").make,{children:i.jsxs(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:[i.jsx(b("MWV2ChatAdminMessage.bs").make,{prevMessage:c,message:d,nextMessage:e}),i.jsx(b("MWMessageListAttachmentContainer.bs").make,{message:d,connectTop:!1,connectBottom:!1,outgoing:v,xstyle:j.adminMessageAttachment})],centered:!0})}):i.jsxs(i.Fragment,{children:[t?i.jsx(b("MWV2MessageStartOfGroupContent.bs").make,{message:d,prevMessage:c}):null,i.jsxs(b("MWPMessageListRowWithKeyboardInteractions.bs").make,{message:d,prevMessage:c,nextMessage:e,messageDomID:A,outgoing:v,stopHoveringRef:p,setFocused:w[1],setHovered:y[1],children:[i.jsx(b("MWPBaseMessageRowHeader.bs").make,{isFirstMessageInGroup:t,message:d,outgoing:v,renderSenderName:function(a){return i.jsx(b("MWPMessageSenderName.bs").make,{message:a})},renderForwardSnippet:function(a,c){return i.jsx(b("MWForwardedContent.bs").make,{message:a,outgoing:c})},renderReplySnippet:function(a,c){return i.jsx(b("MWReplySnippet.bs").make,{message:a,outgoing:c})},isGroupThread:g}),i.jsxs(i.Fragment,{children:[t&&!D?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:2}):null,E?i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.reply,v?j.alignEnd:!1,G?j.replyMargin:!1),children:i.jsx(b("MWPMessageListColumn.bs").WithGutters.make,{children:i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return i.jsx(b("MWV2ReplyError.bs").make,{outgoing:v})},children:i.jsx(b("MWReply.bs").make,{message:d,outgoing:v,isSecureThread:n})}),grow:!0})}):null,i.jsx(b("MWPBaseMessageListRow.bs").Body.make,{children:i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return i.jsx(b("MWV2ChatErrorBubble.bs").make,{hasReply:E})},children:i.jsx(l,{message:d,isFirstMessageInGroup:t,isLastMessageInGroup:u,outgoing:v,isSecureThread:n,reactions:s,renderAttachment:a,hasMessageEmphasisRing:r,prevMessage:c,nextMessage:e})}),message:d,renderProfile:function(a){return i.jsx(b("MWV2MessageProfilePhoto.bs").make,{message:d,isLastMessageInGroup:u,isGroupThread:g})},renderMessageActions:function(a){return i.jsx(b("MWMessageRowActions.bs").make,{message:d,focused:x||C,hovered:z,hasReactions:F,outgoing:v,ariaHidden:o===!1})},renderGutterItem:function(a){return i.jsx(i.Fragment,{children:i.jsx(b("MWChatGutterItem.bs").make,{status:f,incoming:!1,xstyle:j.gutter})})},hasReactions:F}),u?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:7}):null]}),i.jsx(b("MWPBaseMessageListRow.bs").Footer.make,{message:d,nextMessage:e,children:function(a){a=typeof f==="number"||f.TAG!==1?b("MWV2SeenHead.bs").noSeenHeads:f._0;return i.jsx(b("MWV2MessageEndOfGroupContent.bs").make,{message:d,seenHeads:a})}})],isModal:o,isDialogOpened:C,setIsDialogOpened:B[1],domElementRef:q,isFocused:x,theme:H})]});return i.jsxs(i.Fragment,{children:[A,b("cr:4443")==null?null:i.jsx(k.make,{})]})}e=i.memo(c);f.styles=j;f.$MWRenderCounter$requireCond=b("cr:4443");f.Message=d;f.useTheme=m;f.make=e}),null);
__d("MWPOneToOneThreadBlockedContext.bs",["LSContactBlockedByViewerStatus.bs","MWV2OneToOneThreadBlockedContext.bs","MessagingThreadType.bs","bs_caml","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread,d=a.participants;a=a.children;var e=h.useMemo(function(){if(!(b("bs_caml").i64_eq(c.threadType,b("MessagingThreadType.bs").oneToOne)||b("bs_caml").i64_eq(c.threadType,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)))return!1;var a={contents:!1};d.forEach(function(c,d,e){if(b("bs_caml").i64_neq(c[1].blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").unblocked)){a.contents=!0;return}});return a.contents},[JSON.stringify(c.threadType),d]);return h.jsx(b("MWV2OneToOneThreadBlockedContext.bs").make,{children:a,blocked:e})}c=a;f.make=c}),null);
__d("MWPBaseMessageList.bs",["BaseHeadingContextWrapper.re","MWLSActor.bs","MWPMessageAuthor.bs","MWPOneToOneThreadBlockedContext.bs","MWV2SeenHead.bs","bs_caml_array","bs_curry","bs_int64","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{zIndex:"du4w35lb"}};function a(a){var c=a.thread,d=a.messages,e=a.participants,f=a.children,g=a.renderRow;a=a.isSecureGroupThread;a=a!==void 0?a:!1;var k=b("MWLSActor.bs").useActor(void 0),l=b("MWV2SeenHead.bs").calculateMaxDeliveredTimestamp(e,k),m=b("MWV2SeenHead.bs").makeExistingSeenHeads(k),n=[];for(var o=d.length-1|0;o>=0;--o){var p=o===0?void 0:b("bs_caml_array").get(d,o-1|0),q=o>=(d.length-1|0)?void 0:b("bs_caml_array").get(d,o+1|0),r=b("bs_caml_array").get(d,o),s=b("MWV2SeenHead.bs").deliveryStatusForMessage(r,e,m,l,k,a),t=e.get(b("bs_int64").to_string(r.senderId));t=t==null?[void 0,void 0]:[t[1],t[0].nickname];n.push(i.jsx(b("MWPMessageAuthor.bs").make,{children:b("bs_curry")._1(g,{message:r,nextMessage:q,prevMessage:p,status:s}),contactId:r.senderId,contact:t[0],nickname:t[1]},r.offlineThreadingId))}if(n.length===0)return null;else return i.jsx(b("BaseHeadingContextWrapper.re").make,{children:i.jsx("div",{className:(h||(h=b("stylex")))(j.container),children:i.jsx(b("MWPOneToOneThreadBlockedContext.bs").make,{thread:c,participants:e,children:b("bs_curry")._1(f,n.reverse())})})})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2ChatTypingIndicators.bs",["fbt","BaseTheme.react","CometScreenReaderText.react","LSMediaUrl.bs","MWBaseTheme.bs","MWChatProfile.bs","MWChatTypingIndicator.bs","MWPMessageListColumn.bs","MWPSolidMessageBubble.bs","MWTooltip.react","MWV2MessageRowSimple.bs","ReQL.bs","ReQLSubscription.bs","ServerTime","bs_caml_int64","bs_curry","bs_int64","clearTimeout","react","setTimeout","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{alignItems:"aovydwv3",display:"j83agx80",paddingTop:"jwdofwj8",flexShrink:"pfnyh3mw",paddingBottom:"e5nlhep0"}};function l(a,b){a=a.nickname;if(a!==void 0)return a;a=b.firstName;if(a!==void 0)return a;else return b.name}function m(a,c){var d=b("useReStore")(),e=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("typing_indicator")),{hd:c,tl:0}),function(a){return b("ServerTime").getMillis()<b("bs_caml_int64").to_float(a.expirationTimestampMs)})},[d,a,b("bs_int64").to_string(c)]));return j.useMemo(function(){var c=[];e.forEach(function(d){var e=a.get(b("bs_int64").to_string(d.senderId));if(!(e==null)){c.push([e[0],e[1],d]);return}});return c},[e])}function n(a){return j.useMemo(function(){var b=a.length;if(b!==1)if(b!==0)return g._(/*FBT_CALL*/"Multiple participants are typing"/*FBT_CALL*/);else return"";b=a[0];return g._(/*FBT_CALL*/"{The participants name} is typing"/*FBT_CALL*/,[g._param("The participants name",l(b[0],b[1]))])},[a])}function o(a,b){j.useEffect(function(){if(a!==void 0&&a.scrollPositionRef.current===0&&b.length>0){var c=a.scrollerRef.current;c==null||c.scrollToBottom()}},[b,a])}function p(a){var c=a.contact,d=a.participant,e=a.typingIndicator;a=j.useState(function(){return b("ServerTime").getMillis()<b("bs_caml_int64").to_float(e.expirationTimestampMs)});var f=a[1],g=j.useMemo(function(){return l(d,c)},[d,c]);j.useEffect(function(){b("bs_curry")._1(f,function(a){return b("ServerTime").getMillis()<b("bs_caml_int64").to_float(e.expirationTimestampMs)});var a=b("bs_caml_int64").to_float(e.expirationTimestampMs)-b("ServerTime").getMillis(),c=b("setTimeout")(function(a){return b("bs_curry")._1(f,function(a){return!1})},a);return function(a){b("clearTimeout")(c)}},[e,f]);if(a[0])return j.jsxs("div",{"aria-hidden":!0,className:(i||(i=b("stylex")))(k.root),children:[j.jsx(b("MWPMessageListColumn.bs").Profile.make,{children:j.jsx(b("MWTooltip.react"),{tooltip:g,align:"middle",position:"start",children:j.jsx(b("MWChatProfile.bs").make,{size:28,src:b("LSMediaUrl.bs").Contact.profilePictureUrl(c),alt:g})})}),j.jsx(b("MWPSolidMessageBubble.bs").make,{children:j.jsx(b("MWChatTypingIndicator.bs").make,{}),style:{backgroundColor:"var(--wash)"},connectTop:!1,connectBottom:!1,precedesXMA:!1,outgoing:!1})]});else return null}c={make:p};function a(a){var c=a.threadKey,d=a.scrollerRefs,e=a.participants;a=a.theme;a=a!==void 0?a:b("MWBaseTheme.bs").empty;e=m(e,c);c=n(e);o(d,e);if(e.length>0)return j.jsx(b("BaseTheme.react"),{config:a,children:j.jsx(b("MWV2MessageRowSimple.bs").make,{children:j.jsxs(b("MWPMessageListColumn.bs").Grow.make,{children:[j.jsx("div",{"aria-live":"polite",children:j.jsx(b("CometScreenReaderText.react"),{text:c})}),e.map(function(a){var c=a[1];return j.jsx(p,{contact:c,participant:a[0],typingIndicator:a[2]},b("bs_int64").to_string(c.id))})]})})});else return null}d=a;f.styles=k;f.getNameForContact=l;f.useTypingParticipants=m;f.useAccessibilityText=n;f.useScrollToBottomIfTheScrollPositionIsBottom=o;f.TypingIndicator=c;f.make=d}),null);
__d("MWMessageList.bs",["CometPagelet.react","LSMessagingThreadTypeUtil.bs","MWChatViewerChatVisibilityHook","MWLSActor.bs","MWMessageRow.bs","MWPAriaLabelForMessageListGrid.bs","MWPBaseMessageList.bs","MWPMessageListFocusTable.bs","MWThreadCapabilitiesContext.bs","MWV2ChatTypingIndicators.bs","MWV2MessageActionsVisibility.bs","MWVisibleMessageContext.bs","ReQL.bs","ReQLSubscription.bs","bs_caml_option","bs_curry","bs_int64","cr:4242","react","useCometUniqueID","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){return new Map(b("ReQLSubscription.bs").useArray(h.useMemo(function(){var d;return(d=b("ReQL.bs")).map(d.mergeJoin(d.getKeyRange(d.fromTableAscending(c.table("participants")),{hd:a.threadKey,tl:0}),d.fromTableAscending(c.table("contacts"))),function(a){var c=a[1];return[b("bs_int64").to_string(c.id),[a[0],c]]})},[c,JSON.stringify(a.threadKey)])))}var j=b("cr:4242")==null?void 0:b("bs_caml_option").some(b("cr:4242"));function a(a){var c=a.messages,d=a.thread,e=a.messageElementRefs,f=a.scrollerRefs,g=a.renderAttachment;a=b("useReStore")();var k=b("MWLSActor.bs").useActor(void 0),l=i(d,a),m=b("LSMessagingThreadTypeUtil.bs").isGroup(d.threadType),n=b("LSMessagingThreadTypeUtil.bs").isSecure(d.threadType),o=n&&m,p=b("MWPAriaLabelForMessageListGrid.bs").useHook(d,l);a=b("MWVisibleMessageContext.bs").useHook(void 0);var q=a.visibleMessage,r=b("MWMessageRow.bs").useTheme(void 0),s=b("MWV2MessageActionsVisibility.bs").useStopHoveringRef(void 0),t=b("MWChatViewerChatVisibilityHook")();a=h.useState(function(){return""});var u=a[1],v=a[0],w={contents:!1},x=b("useCometUniqueID")();return h.jsx(b("MWPBaseMessageList.bs").make,{thread:d,messages:c,participants:l,children:function(a){a=h.jsxs(h.Fragment,{children:[a,t?h.jsx(b("MWV2ChatTypingIndicators.bs").make,{threadKey:d.threadKey,scrollerRefs:f,participants:l,theme:r}):null]});return h.jsx("div",{"data-testid":"mw_message_list",id:x,children:h.jsx(b("CometPagelet.react").Placeholder,{fallback:null,name:"MWV2MessageList",children:h.jsx(b("MWThreadCapabilitiesContext.bs").Provider.make,{children:h.jsx(b("MWPMessageListFocusTable.bs").make,{modal:v,setModal:u,children:b("cr:4242")==null?a:h.jsx(j.make,{children:a,id:x}),ariaLabel:p}),thread:d})})})},renderRow:function(a){var c=a.status,d=a.message,f=b("bs_int64").equal(d.senderId,k);f=o&&!d.isAdminMessage&&typeof c!=="number"?!w.contents&&f?(w.contents=!0,c):0:c;c={prevMessage:a.prevMessage,message:d,nextMessage:a.nextMessage,status:f,isGroupThread:m,isSecureThread:n,isModal:v===d.messageId,stopHoveringRef:s,domElementRef:b("bs_curry")._1(e.set,d.messageId),hasMessageEmphasisRing:q!==void 0?q.messageId===d.messageId&&q.source===1:!1};g!==void 0&&(c.renderAttachment=b("bs_caml_option").valFromOption(g));return h.jsx(b("MWMessageRow.bs").make,c)},isSecureGroupThread:o})}c=a;f.$MWMessageListKeyboardCommandContext$OR$null$requireCond=b("cr:4242");f.make=c}),null);
__d("MWV2ConversationScrollerRefs.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var b=h.useRef(null),c=h.useRef(0);return h.useMemo(function(){return{scrollerRef:b,scrollPositionRef:c}},[])}f.useHook=a}),null);
__d("MWV2JumpToMostRecentMessage.bs",["MWVisibleMessageContext.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWVisibleMessageContext.bs").useHook(void 0),d=c.visibleMessage,e=c.setVisibleMessage,f=h.useCallback(function(b){b=a.current;if(!(b==null))return b.scrollToBottom()},[a]);return h.useCallback(function(a){if(d!==void 0)return b("bs_curry")._1(e,function(a){});else return b("bs_curry")._1(f,void 0)},[f,d,e])}f.useHook=a}),null);
__d("MWV2JumpToMostRecentMessageButton.bs",["fbt","CurrentUser","MWPThreadTheme.bs","MWV2ColorUtils.bs","MWV2JumpToMostRecentMessage.bs","ODS","TetraCircleButton.react","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{position:"l9j0dhe7",width:"k4urcfbm",height:"do00u71z"},button:{position:"pmk7jnqg",bottom:"i09qtzwb",start:"kfkz5moi",marginStart:"pg7hd1hw",backgroundColor:"nred35xi",transform:"n9g6laej",transitionProperty:"flx89l3n",transitionDuration:"kmdw4o4n",transitionTimingFunction:"heur4gxb",zIndex:"tghn160j",boxShadow:"oyvrxjdn",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},visible:{transform:"amx3n8jj"}};function a(a){var c=a.scrollerRefs,d=a.visible;a=b("MWPThreadTheme.bs").useHook(void 0);var e=a.threadTheme,f=b("MWV2JumpToMostRecentMessage.bs").useHook(c.scrollerRef);return j.useMemo(function(){return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx("div",{className:i(k.button,d?k.visible:!1),children:j.jsx(b("TetraCircleButton.react"),{color:"white",disabled:!d,icon:function(a){a=b("MWV2ColorUtils.bs").int64ToHex(e.fallbackColor);return j.jsx("svg",{width:"18",height:"18",viewBox:"7 7 22 22",fill:"none",children:j.jsx("path",{d:"M24.616 18.366a1.25 1.25 0 011.768 1.768l-7.5 7.5a1.25 1.25 0 01-1.768 0l-7.5-7.5a1.25 1.25 0 011.768-1.768l4.94 4.94a.25.25 0 00.426-.177V9.25a1.25 1.25 0 112.5 0v13.879c0 .222.27.334.427.176l4.94-4.939z",fill:a})})},label:g._(/*FBT_CALL*/"Go to most recent message"/*FBT_CALL*/),onPress:function(a){b("bs_curry")._1(f,void 0);a=b("CurrentUser").getAppID();a=a==null?"unknown":a;b("ODS").bumpEntityKey(3185,"mw_jump_to_bottom","app_id."+a)},size:40})})})},[f,d,e])}c=a;f.styles=k;f.make=c}),null);
__d("MWV2FetchMessagesPage.bs",["LS.bs","LSIssueMessagesRangeQuery","LSTransaction.bs","ReQL.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("useReStore")();return h.useCallback(function(e){b("promiseDone")(b("LSTransaction.bs").run(d,function(d){return(c!==void 0?a!==void 0?window.Promise.resolve(a):b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableDescending(d.table("messages_ranges_v2__generated")),{hd:c,tl:0})):window.Promise.resolve(void 0)).then(function(a){if(c!==void 0&&a!==void 0)return b("LSIssueMessagesRangeQuery")(c,a.minTimestampMs,e,b("LS.bs").make(d));else return window.Promise.resolve(void 0)})},"readWrite"),void 0,void 0)},[d,JSON.stringify(c),a])}f.useFetchMessagesPage=a}),null);
__d("MWChatLoadMoreItemsIncrementally.bs",["LSMailboxMessagesRangeQueryDirection.bs","bs_belt_Array","bs_belt_Option","bs_caml","bs_curry","gkx","react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={contents:void 0};function j(a){i.contents===void 0&&(i.contents=window.document.documentElement.style.overflowAnchor!==void 0);return b("bs_belt_Option").getWithDefault(i.contents,!1)}function a(a,c,d,e,f,g){a=a!==void 0?a:!1;var i=c!==void 0?c:!0;c=d!==void 0?d:0;d=a||!j(void 0)||!b("gkx")("1776660");var k=e.length,l=typeof c==="number"?!1:c._0>=200;a=h.useState(function(){if(l)return k;else if(i)if(window.screen.availHeight<1200)return 20;else return 40;else return 10});var m=a[1],n=a[0];c=h.useMemo(function(){return b("bs_belt_Array").sliceToEnd(e,-n|0)},[e,n]);var o=h.useRef(n);a=h.useCallback(function(a){b("bs_caml").i64_neq(a,b("LSMailboxMessagesRangeQueryDirection.bs").before)&&b("unrecoverableViolation")("Message fetch direction must be 'before'","messenger_web_product");if((o.current+15|0)<=k){o.current=o.current+15|0;return b("bs_curry")._1(m,function(a){return o.current})}else{b("bs_curry")._1(f,b("LSMailboxMessagesRangeQueryDirection.bs").before);if(o.current<(k+15|0)){o.current=k+15|0;return b("bs_curry")._1(m,function(a){return o.current})}else return}},[f,k,m]);if(d)return[e,f,g];else return[c,a,g||n<k]}c=15;d=10;e=20;var k=40,l=1200,m=200;f.pageSize=c;f.initialCountSmall=d;f.initialCountDefault=e;f.initialCountTall=k;f.tallWindowHeight=l;f.minScrollPosToMountAll=m;f.useLoadMore=a}),null);
__d("MWChatBusinessQuickReply.bs",["CometImage.react","MDSTextPairing.react","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{alignItems:"bp9cbjyn",backgroundColor:"nred35xi",borderTop:"pmh9v2dz",borderEnd:"do122s91",borderBottom:"gvgeiihk",borderStart:"fntpfh0s",borderTopStartRadius:"emml16de",borderTopEndRadius:"gmcszhul",borderBottomEndRadius:"ols5edhi",borderBottomStartRadius:"gob819ct",boxShadow:"rm35z8s5",boxSizing:"rq0escxv",cursor:"nhd2j8a9",fontFamily:"ihxqhq3m",fontWeight:"ekzkrbhg",justifyContent:"taijpn5t",marginTop:"rs0gx3tq",marginEnd:"oi9244e8",marginBottom:"dicw6rsg",marginStart:"h676nmdw",overflowWrap:"jm1wdb64",paddingBottom:"osnr6wyh",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq",paddingTop:"jktsbyx5",textAlign:"hzawbc8m",wordBreak:"qv66sw1b"},image:{borderTopStartRadius:"ocebsr1h",borderTopEndRadius:"cur7e4n5",borderBottomEndRadius:"nr3idzxk",borderBottomStartRadius:"gsapk3bl","float":"bzsjyuwj",height:"mihw7u13",marginTop:"irj2b8pg",marginEnd:"qq4y78aw",marginBottom:"ew0dbk1b",marginStart:"lq239pai",width:"rgehdy3i"},vertical:{paddingBottom:"f10w8fjw",paddingEnd:"d1544ag0",paddingStart:"c088b7cy"}};function a(a){var c=a.bodyLineLimit,d=a.quickReplyVertical,e=a.onClick,f=a.text;a=a.imageUrl;c=c!==void 0?c:1;d=d!==void 0?d:!1;a=a!==void 0?b("bs_caml_option").valFromOption(a):void 0;return i.jsx("div",{className:(h||(h=b("stylex")))(d?j.vertical:!1),children:i.jsxs("button",{className:h(j.root),onClick:function(a){return b("bs_curry")._1(e,void 0)},children:[a!==void 0?i.jsx(b("CometImage.react"),{src:a,xstyle:[j.image]}):null,i.jsx(b("MDSTextPairing.react"),{body:f,level:3,bodyLineLimit:c})]})})}c=32;d=a;f.mediumHeight=c;f.styles=j;f.make=d}),null);
__d("MWChatBusinessQuickReplyText.bs",["MWChatBusinessQuickReply.bs","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply;a=a.quickReplyVertical;var e=a?3:1,f=function(a){return b("bs_curry")._1(c,d)},g=d.image_url;return h.jsx(b("MWChatBusinessQuickReply.bs").make,{bodyLineLimit:e,quickReplyVertical:a,onClick:f,text:d.title,imageUrl:g!==void 0?b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(g)):void 0})}c=a;f.make=c}),null);
__d("MWChatUserBirthdayQuery",["CometRelay","MWChatUserBirthdayQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i="en-US";function j(a,b,c,d){c=new Date(c,b-1,a);return c.toLocaleDateString(d,{day:"numeric",month:"numeric",year:"numeric"})}a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,k,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.birthdate;if(a){var c=a==null?void 0:a.day,d=a==null?void 0:a.month;a=a==null?void 0:a.year;c&&d&&a&&b(j(c,d,a,i))}});c("promiseDone")(e)}};var k=h!==void 0?h:h=b("MWChatUserBirthdayQuery.graphql");g.useUserBirthdayDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserBirthday.bs",["MWChatBusinessQuickReply.bs","MWChatUserBirthdayQuery","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply,e=a.userID;a=a.quickReplyVertical;var f=b("MWChatUserBirthdayQuery").useUserBirthdayDataQuery(),g=h.useState(function(){}),i=g[1];g=g[0];h.useEffect(function(){f(function(a){return b("bs_curry")._1(i,function(b){return a})})},[e,f,i]);if(g===void 0)return null;e=d.content_type;var j=d.data,k=d.image_url;d=d.payload;var l={content_type:e,data:j,image_url:k,payload:d,title:g};e=function(a){return b("bs_curry")._1(c,l)};return h.jsx(b("MWChatBusinessQuickReply.bs").make,{quickReplyVertical:a,onClick:e,text:g})}c=a;f.make=c}),null);
__d("MWChatUserEmailQuery",["CometRelay","MWChatUserEmailQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.all_emails;if(a&&a.length>0){var c=a.find(function(a){return a.is_primary});c!=null?b(c.display_email):b(a[0].display_email)}});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserEmailQuery.graphql");g.useUserEmailDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserEmail.bs",["MWChatBusinessQuickReply.bs","MWChatUserEmailQuery","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply,e=a.userID;a=a.quickReplyVertical;var f=b("MWChatUserEmailQuery").useUserEmailDataQuery(),g=h.useState(function(){}),i=g[1];g=g[0];h.useEffect(function(){f(function(a){return b("bs_curry")._1(i,function(b){return a})})},[e,f,i]);if(g===void 0)return null;e=d.content_type;var j=d.data,k=d.image_url;d=d.payload;var l={content_type:e,data:j,image_url:k,payload:d,title:g};e=function(a){return b("bs_curry")._1(c,l)};return h.jsx(b("MWChatBusinessQuickReply.bs").make,{quickReplyVertical:a,onClick:e,text:g})}c=a;f.make=c}),null);
__d("MWChatUserPhoneNumberQuery",["CometRelay","MWChatUserPhoneNumberQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.all_phones;if(a&&a.length>0){var c=a.find(function(a){return a.is_preferred});if(c!=null){b((c=c.phone_number)==null?void 0:c.universal_number)}else{b((c=a[0].phone_number)==null?void 0:c.universal_number)}}});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserPhoneNumberQuery.graphql");g.useUserPhoneNumberDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserPhoneNumber.bs",["MWChatBusinessQuickReply.bs","MWChatUserPhoneNumberQuery","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply,e=a.userID;a=a.quickReplyVertical;var f=b("MWChatUserPhoneNumberQuery").useUserPhoneNumberDataQuery(),g=h.useState(function(){}),i=g[1];g=g[0];h.useEffect(function(){f(function(a){return b("bs_curry")._1(i,function(b){return a})})},[e,f,i]);if(g===void 0)return null;e=d.content_type;var j=d.data,k=d.image_url;d=d.payload;var l={content_type:e,data:j,image_url:k,payload:d,title:g};e=function(a){return b("bs_curry")._1(c,l)};return h.jsx(b("MWChatBusinessQuickReply.bs").make,{quickReplyVertical:a,onClick:e,text:g})}c=a;f.make=c}),null);
__d("MWChatUserProfileLocationQuery",["CometRelay","MWChatUserProfileLocationQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer.user.address)==null?void 0:a.region;a!=null&&a!==""&&b(a)});c("promiseDone")(e)}};e=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.address;a=a==null?void 0:a.postal_code;a&&b(a)});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserProfileLocationQuery.graphql");g.useUserProfileStateDataQuery=a;g.useUserProfileZipCodeDataQuery=e}),98);
__d("MWChatBusinessQuickReplyUserState.bs",["MWChatBusinessQuickReply.bs","MWChatUserProfileLocationQuery","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply,e=a.userID;a=a.quickReplyVertical;var f=b("MWChatUserProfileLocationQuery").useUserProfileStateDataQuery(),g=h.useState(function(){}),i=g[1];g=g[0];h.useEffect(function(){f(function(a){return b("bs_curry")._1(i,function(b){return a})})},[e,f,i]);if(g===void 0)return null;e=d.content_type;var j=d.data,k=d.image_url;d=d.payload;var l={content_type:e,data:j,image_url:k,payload:d,title:g};e=function(a){return b("bs_curry")._1(c,l)};return h.jsx(b("MWChatBusinessQuickReply.bs").make,{quickReplyVertical:a,onClick:e,text:g})}c=a;f.make=c}),null);
__d("MWChatBusinessQuickReplyUserZipCode.bs",["MWChatBusinessQuickReply.bs","MWChatUserProfileLocationQuery","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply,e=a.userID;a=a.quickReplyVertical;var f=b("MWChatUserProfileLocationQuery").useUserProfileZipCodeDataQuery(),g=h.useState(function(){}),i=g[1];g=g[0];h.useEffect(function(){f(function(a){return b("bs_curry")._1(i,function(b){return a})})},[e,f,i]);if(g===void 0)return null;e=d.content_type;var j=d.data,k=d.image_url;d=d.payload;var l={content_type:e,data:j,image_url:k,payload:d,title:g};e=function(a){return b("bs_curry")._1(c,l)};return h.jsx(b("MWChatBusinessQuickReply.bs").make,{quickReplyVertical:a,onClick:e,text:g})}c=a;f.make=c}),null);
__d("MWChatBusinessQuickReplyList.bs",["CometScrollableArea.react","CurrentUser","LSQuickReplyType.bs","MWChatBusinessQuickReplyText.bs","MWChatBusinessQuickReplyUserBirthday.bs","MWChatBusinessQuickReplyUserEmail.bs","MWChatBusinessQuickReplyUserPhoneNumber.bs","MWChatBusinessQuickReplyUserState.bs","MWChatBusinessQuickReplyUserZipCode.bs","MWTheme.bs","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","bs_caml","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={mask:{backgroundColor:"nred35xi"},container:{position:"l9j0dhe7",width:"k4urcfbm"},pillContainer:{backgroundColor:"nred35xi",display:"j83agx80",flexDirection:"btwxx1t3",flexWrap:"owycx6da",paddingTop:"jwdofwj8",paddingEnd:"dflh9lhu",paddingBottom:"osnr6wyh",paddingStart:"scb9dxdr"},pillContainerVertical:{backgroundColor:"nred35xi",display:"j83agx80",flexDirection:"cbu4d94t",alignItems:"aovydwv3",paddingTop:"l60d2q6s"}};function a(a){var c=a.arrayQR,d=a.onSend,e=a.id;a=a.quickReplyType;a=a!==void 0?a:b("LSQuickReplyType.bs").none;var f=b("MWTheme.bs").useTheme(void 0),g=b("bs_caml").i64_eq(a,b("LSQuickReplyType.bs").vertical);i.useEffect(function(){b("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:b("MessengerWebEvent").RENDER_QUICK_REPLIES,other_user_fbid:e}})},[e]);return i.jsx("div",{className:(h||(h=b("stylex")))(j.container,b("MWTheme.bs").isGradient(f)?j.mask:!1),children:i.jsx(b("CometScrollableArea.react"),{horizontal:!0,children:i.jsx("div",{className:h(g?j.pillContainerVertical:j.pillContainer),children:c.map(function(a,c){var e=b("CurrentUser").getID(),f=a.content_type;switch(f){case"text":return i.jsx(b("MWChatBusinessQuickReplyText.bs").make,{onSend:d,quickReply:a,quickReplyVertical:g},String(c));case"user_birthday":return i.jsx(b("MWChatBusinessQuickReplyUserBirthday.bs").make,{onSend:d,quickReply:a,userID:e,quickReplyVertical:g},String(c));case"user_email":return i.jsx(b("MWChatBusinessQuickReplyUserEmail.bs").make,{onSend:d,quickReply:a,userID:e,quickReplyVertical:g},String(c));case"user_phone_number":return i.jsx(b("MWChatBusinessQuickReplyUserPhoneNumber.bs").make,{onSend:d,quickReply:a,userID:e,quickReplyVertical:g},String(c));case"user_state":return i.jsx(b("MWChatBusinessQuickReplyUserState.bs").make,{onSend:d,quickReply:a,userID:e,quickReplyVertical:g},String(c));case"user_zip_code":return i.jsx(b("MWChatBusinessQuickReplyUserZipCode.bs").make,{onSend:d,quickReply:a,userID:e,quickReplyVertical:g},String(c));default:return null}})})})})}c=a;f.styles=j;f.make=c}),null);
__d("LsBotComposerQuickReplyTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743837");c=b("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_tapped",a);e.exports=c}),null);
__d("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743846");c=b("FalcoLoggerInternal").create("ls_business_welcome_page_get_started_button_tapped",a);e.exports=c}),null);
__d("MWV2ThreadNullstate.bs",["fbt","CometLink.react","CometPressable.react","CometScrollableArea.react","FBID.bs","LS.bs","LSMailboxType.bs","LSNullstateCTAType.bs","LSOptimisticSendMessage","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSThreadTitle.bs","LSTransaction.bs","LsBotComposerQuickReplyTappedFalcoEvent","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent","LsFalcoEventEntryPoint.bs","MDSText.react","MWLSActor.bs","MWMDotMeReferrerContext.bs","MessageSendClickFalcoEvent","UseCurrentDisplayMode.bs","bs_caml","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","gkx","promiseDone","react","stylex","useCurrentDisplayMode","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={pill:{alignItems:"bp9cbjyn",backgroundColor:"nred35xi",borderTopStartRadius:"emml16de",borderTopEndRadius:"gmcszhul",borderBottomEndRadius:"ols5edhi",borderBottomStartRadius:"gob819ct",boxShadow:"rm35z8s5",boxSizing:"rq0escxv",color:"m70f1s33",display:"pq6dq46d",fontSize:"jq4qci2q",fontWeight:"b1v8xokw",justifyContent:"taijpn5t",marginTop:"rs0gx3tq",marginEnd:"oi9244e8",marginBottom:"dicw6rsg",marginStart:"h676nmdw",overflowWrap:"jm1wdb64",paddingTop:"fdg1wqfs",paddingBottom:"ae35evdt",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq",wordBreak:"qv66sw1b"},dark_mode_legible_text_pill:{alignItems:"bp9cbjyn",backgroundColor:"khkgorpb",borderTopStartRadius:"emml16de",borderTopEndRadius:"gmcszhul",borderBottomEndRadius:"ols5edhi",borderBottomStartRadius:"gob819ct",boxShadow:"rm35z8s5",boxSizing:"rq0escxv",color:"m9osqain",display:"pq6dq46d",fontSize:"jq4qci2q",fontWeight:"b1v8xokw",justifyContent:"taijpn5t",marginTop:"rs0gx3tq",marginEnd:"oi9244e8",marginBottom:"dicw6rsg",marginStart:"h676nmdw",overflowWrap:"jm1wdb64",paddingTop:"fdg1wqfs",paddingBottom:"ae35evdt",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq",wordBreak:"qv66sw1b"}};function l(a){var c=a.onClick;a=a.children;var d=b("useCurrentDisplayMode")()===b("UseCurrentDisplayMode.bs").darkTheme;return j.jsx(b("CometPressable.react"),{onPress:c,overlayDisabled:!0,xstyle:function(a){return[d&&b("gkx")("4144")?k.dark_mode_legible_text_pill:k.pill]},children:a})}c={styles:k,make:l};var m={welcome_text:{paddingBottom:"jfpizvyy",paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"},privacy_text:{paddingBottom:"ofv0k9yr",paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"},privacy_text_offset:{paddingTop:"ecm0bbzt",paddingBottom:"pby63qed"},cta_list:{display:"j83agx80",flexDirection:"cbu4d94t",alignItems:"aovydwv3",justifyContent:"taijpn5t",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x"},cta_list_item:{alignSelf:"o8rfisnq",paddingStart:"tw6a2znq",paddingEnd:"d1544ag0",paddingBottom:"f10w8fjw",textAlign:"oqcyycmt"},cta_list_item_center:{alignSelf:"o8rfisnq",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq"}};function n(a,c,d){var e=b("useReStore")(),f=b("MWLSActor.bs").useActor(void 0),g=b("MWMDotMeReferrerContext.bs").useContext(void 0);return j.useCallback(function(h){return function(i){var j=b("LSThreadAttributionStore.bs").getSource(c,b("bs_int64").to_string(a.threadKey)),k=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(j);j=h!==void 0?b("bs_caml").i64_eq(h.ctaType,b("LSNullstateCTAType.bs").getStarted)&&b("bs_caml_obj").caml_equal(h.ctaId,i.ctaId):!1;var l=j?g:void 0;b("promiseDone")(b("LSTransaction.bs").run(e,function(c){return b("LSOptimisticSendMessage")(f,a.threadKey,a.threadType,b("LSMailboxType.bs").messenger,i.title,void 0,void 0,void 0,void 0,void 0,void 0,k,l!==void 0?b("bs_caml_option").valFromOption(l):void 0,i.platformToken!==void 0?b("bs_caml_option").valFromOption(i.platformToken):void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0,!0,void 0,d!==void 0?b("bs_caml_option").valFromOption(d):void 0,void 0,b("LS.bs").make(c))},"readWrite"),void 0,void 0);var m=b("FBID.bs").ofString(b("bs_int64").to_string(a.threadKey)),n=function(a){if(m===void 0)return;var c=b("bs_caml_option").valFromOption(m);b("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(a){return{page:{id:c}}})},o=function(a){if(m===void 0)return;var c=b("bs_caml_option").valFromOption(m);b("LsBotComposerQuickReplyTappedFalcoEvent").log(function(a){return{page:{id:c},quick_reply:{id:"",type:64},display:void 0}})};j?n(void 0):o(void 0);b("MessageSendClickFalcoEvent").log(function(){return{message_send_source:{entry_point:b("LsFalcoEventEntryPoint.bs").icebreaker}}})}},[e,f,b("bs_int64").to_string(a.threadKey),c,g])}function a(a){var c=a.thread,d=a.nullstate,e=a.nullstateCtas,f=a.lsSource;a=a.initiatingSource;f=f!==void 0?f:"unknown";var h=n(c,f,a);f=g._(/*FBT_CALL*/"Tap to send"/*FBT_CALL*/);a=g._(/*FBT_CALL*/"When you send a message, {name} will see your {= public info link}."/*FBT_CALL*/,[g._param("name",j.jsx(b("LSThreadTitle.bs").make,{thread:c,wrapOutput:function(a,b){return b}})),g._param("= public info link",j.jsx(b("CometLink.react"),{href:"https://www.facebook.com/help/messenger-app/719578818758231",color:"primary",target:"_blank",role:"link",children:j.jsx(b("MDSText.react"),{type:"body4",children:g._(/*FBT_CALL*/"public info"/*FBT_CALL*/)})}))]);c=d.welcomeText;var k=d.privacyText;c=j.jsxs("div",{children:[c!==void 0?e.length!==0?c!==f.toString()?j.jsxs("div",{children:[j.jsx("div",{className:(i||(i=b("stylex")))(m.welcome_text),children:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"headline4",children:c})}),j.jsx("div",{className:(i||(i=b("stylex")))(m.welcome_text),children:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"headline4",children:f})})]}):j.jsx("div",{className:(i||(i=b("stylex")))(m.welcome_text),children:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"headline4",children:f})}):c!==f.toString()?j.jsx("div",{className:(i||(i=b("stylex")))(m.welcome_text),children:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"headline4",children:c})}):null:e.length!==0?j.jsx("div",{className:(i||(i=b("stylex")))(m.welcome_text),children:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"headline4",children:f})}):null,j.jsx("ul",{className:(i||(i=b("stylex")))(m.cta_list),children:e.map(function(a){var c=b("bs_caml").i64_eq(d.ctaType,b("LSNullstateCTAType.bs").getStarted)&&b("bs_caml_obj").caml_equal(d.ctaId,a.ctaId);return j.jsx("li",{className:(i||(i=b("stylex")))(m.cta_list_item,c?m.cta_list_item_center:!1),children:j.jsx(l,{onClick:function(c){return b("bs_curry")._2(h,d,a)},children:a.title})},b("bs_int64").to_string(a.ctaId))})}),k!==void 0?j.jsx("div",{className:(i||(i=b("stylex")))(m.privacy_text),children:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:a})}):null]});if(b("gkx")("4144"))return j.jsx(b("CometScrollableArea.react"),{xstyle:m.privacy_text_offset,children:c});else return c}d=a;f.Pill=c;f.styles=m;f.useSendIcebreakerMessage=n;f.make=d}),null);
__d("MWV2PersistentIcebreakers.bs",["MWChatBusinessQuickReplyList.bs","MWTheme.bs","MWV2ThreadNullstate.bs","bs_caml_int64","bs_curry","bs_int64","gkx","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function a(a,c,d){if(c.length!==0&&((d|0)-b("bs_caml_int64").to_int32(a.lastActivityTimestampMs)|0)>=216e5)return b("gkx")("4144");else return!1}function c(a){var c=a.thread,d=a.nullstateCtas,e=a.lsSource;a=a.initiatingSource;e=e!==void 0?e:"unknown";var f=b("MWV2ThreadNullstate.bs").useSendIcebreakerMessage(c,e,a);c=b("MWTheme.bs").useTheme(void 0);return i.jsx("div",{className:(h||(h=b("stylex")))(b("MWChatBusinessQuickReplyList.bs").styles.container,b("MWTheme.bs").isGradient(c)?b("MWChatBusinessQuickReplyList.bs").styles.mask:!1),children:i.jsx("ul",{className:h(b("MWChatBusinessQuickReplyList.bs").styles.pillContainerVertical),children:d.map(function(a){if(a.ctaType==="nullstate_icebreaker")return i.jsx("li",{className:(h||(h=b("stylex")))(b("MWV2ThreadNullstate.bs").styles.cta_list_item),children:i.jsx(b("MWV2ThreadNullstate.bs").Pill.make,{onClick:function(c){return b("bs_curry")._2(f,void 0,a)},children:a.title})},b("bs_int64").to_string(a.ctaId));else return null})})})}d=c;f.shouldShowPersistentIcebreakers=a;f.make=d}),null);
__d("MWV2QuickReplies.bs",["FBID.bs","LS.bs","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSOptimisticSendMessage","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","MWChatBusinessQuickReplyList.bs","MWLSActor.bs","MWLSThreadDisplayContext.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSubscription.bs","bs_caml_option","bs_int64","bs_js_null_undefined","promiseDone","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){a=b("MWLSThreadDisplayContext.bs").useHook(void 0);if(a===1)return"inboxInThread";else return"chatInThread"}function j(a,b){h.useEffect(function(){if(a!==void 0&&a.scrollPositionRef.current===0&&b.length>0){var c=a.scrollerRef.current;c==null||c.scrollToBottom()}},[a,b.length])}function k(a){var c=a.lastMessageId,d=a.threadKey,e=a.quickReplyType;a=a.scrollerRefs;var f=i(void 0),g=b("useReStore")(),k=b("MWLSActor.bs").useActor(void 0),l=b("ReQLSubscription.bs").useArray(h.useMemo(function(){var a;return(a=b("ReQL.bs")).filter(a.map(a.getKeyRange(a.fromTableAscending(g.table("quick_reply_ctas")),{hd:d,tl:{hd:c,tl:0}}),function(a){var c=a.type_;c=c==="quick_reply_text"?"text":c==="quick_reply_phone"?"user_phone_number":c==="quick_reply_email"?"user_email":(b("recoverableViolation")("Unexpected quick-reply type","messenger_web_produce"),"");return{content_type:c,data:void 0,image_url:b("bs_caml_option").some(b("bs_js_null_undefined").fromOption(a.imageUrl)),payload:b("bs_caml_option").some(a.platformToken),title:a.title}}),function(a){return a.content_type!==""})},[g,c,d]));j(a,l);if(l.length>0)return h.jsx(b("MWChatBusinessQuickReplyList.bs").make,{arrayQR:l,onSend:function(a){var c=b("LSThreadAttributionStore.bs").getSource(f,b("bs_int64").to_string(d)),e=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(c);c=b("LSTransaction.bs").run(g,function(c){var f=a.payload;if(f!==void 0){f=b("bs_caml_option").valFromOption(f);var g=f==null?void 0:b("bs_caml_option").some(f);f=f==null?void 0:g}else f=void 0;return b("LSOptimisticSendMessage")(k,d,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,a.title,void 0,!1,void 0,void 0,void 0,void 0,e,void 0,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,void 0,void 0,!0,!0,void 0,void 0,void 0,b("LS.bs").make(c)).then(function(a){return b("Promise").resolve(a)})},"readWrite");b("promiseDone")(c,void 0,void 0)},id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(k)),quickReplyType:e});else return null}c={make:k};function a(a){var c=a.threadKey,d=a.message;a=a.scrollerRefs;if(d==null)return null;c={lastMessageId:d.messageId,threadKey:c,quickReplyType:d.quickReplyType};a!==void 0&&(c.scrollerRefs=b("bs_caml_option").valFromOption(a));return h.jsx(k,c)}d=a;f.useLsSource=i;f.useScrollToBottomIfTheScrollPositionIsBottom=j;f.Impl=c;f.make=d}),null);
__d("MWChatUnsendNUX.bs",["cr:1799381","cr:1799382","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.senderUnsendNUXEnabled;return h.jsxs(h.Fragment,{children:[b("cr:1799381")==null?null:h.jsx(b("cr:1799381").make,{}),!(b("cr:1799382")==null)&&a?h.jsx(b("cr:1799382").make,{}):null]})}c=b("cr:1799381");d=b("cr:1799382");e=a;f.$MWChatUnsendNUXReceiver$requireCond=b("cr:1799381");f.mwChatUnsendNUXReceiver=c;f.$MWChatUnsendNUXSender$requireCond=b("cr:1799382");f.mwChatUnsendNUXSender=d;f.make=e}),null);
__d("LSNullstateDescriptionType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.default_=a;f.subtext=c;f.titleSmallDefault=d;f.titleSmallSubtext=e}),null);
__d("MWV2ContextBanner.bs",["LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","LSNullstateDescriptionType.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSThreadTitle.bs","MDSText.react","MWThreadPicture.bs","RecoverableViolation.react","bs_caml","bs_caml_int64","bs_caml_option","cr:1574","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("cr:1574")==null?void 0:b("bs_caml_option").some(b("cr:1574")),k={wrapper:{paddingBottom:"f10w8fjw"}};function l(a){var c=a.kind;a=a.text;if(b("bs_caml").i64_eq(c,b("bs_caml_int64").zero)||b("bs_caml").i64_eq(c,b("LSNullstateDescriptionType.bs").subtext)||b("bs_caml").i64_eq(c,b("LSNullstateDescriptionType.bs").titleSmallDefault)||b("bs_caml").i64_eq(c,b("LSNullstateDescriptionType.bs").titleSmallSubtext))return i.jsx("div",{className:(h||(h=b("stylex")))(k.wrapper),children:i.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:a})});else return i.jsx(b("RecoverableViolation.react"),{errorMessage:"Unhandled nullstate description",projectName:"messenger_comet"})}c={styles:k,make:l};var m={container:{paddingTop:"aodizinl",paddingBottom:"f10w8fjw",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq"},image:{display:"j83agx80",justifyContent:"taijpn5t",marginBottom:"n851cfcs"},title:{marginBottom:"n851cfcs"}};function n(a){a=a.thread;var c=a.nullstateDescriptionType3,d=a.nullstateDescriptionText3,e=a.nullstateDescriptionType2,f=a.nullstateDescriptionText2,g=a.nullstateDescriptionType1,k=a.nullstateDescriptionText1;return i.jsxs("div",{className:(h||(h=b("stylex")))(m.container),children:[i.jsx("div",{className:h(m.image),children:i.jsx(b("MWThreadPicture.bs").make,{photoSize:"s_60",badgeSize:14,thread:a})}),i.jsx("div",{className:h(m.title),children:i.jsx(b("MDSText.react"),{align:"center",type:"headlineEmphasized3",children:i.jsx(b("LSThreadTitle.bs").make,{thread:a,wrapOutput:function(a,b){return b}})})}),k!==void 0&&g!==void 0?i.jsx(l,{kind:g,text:k}):null,f!==void 0&&e!==void 0?i.jsx(l,{kind:e,text:f}):null,d!==void 0&&c!==void 0?i.jsx(l,{kind:c,text:d}):null,!(b("cr:1574")==null)&&b("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType)&&b("bs_caml").i64_gt(a.authorityLevel,b("LSAuthorityLevel.bs").serverPartial)?i.jsx(j.make,{thread:a}):null]})}d={styles:m,make:n};function a(a){a=a.thread;var c=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").disableContextBanner,a);if(c)return null;else return i.jsx(n,{thread:a})}e=a;f.$MWContextBannerQuickActions$requireCond=b("cr:1574");f.NullstateDescription=c;f.Impl=d;f.make=e}),null);
__d("MWV2CurrentVisibleMessage.bs",["LS.bs","LSMessagePointQuery","LSTransaction.bs","MWMessageElementRefList.bs","MWVisibleMessageContext.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_caml","bs_caml_obj","bs_curry","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("MWVisibleMessageContext.bs").useHook(void 0),e=d.visibleMessage,f=h.useRef(b("MWMessageElementRefList.bs").make(void 0));d=a!==void 0?a.threadKey:void 0;var g=a!==void 0?a.threadType:void 0,i=h.useRef(void 0),j=b("useReStore")(),k=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(a===void 0)return b("SortedAsyncIterable.bs").empty(void 0);if(e===void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableDescending(j.table("messages_ranges_v2__generated")),{hd:a.threadKey,tl:0});var c=e.timestamp;return b("ReQL.bs").filter(b("ReQL.bs").bounds(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableDescending(j.table("messages_ranges_v2__generated")),{hd:a.threadKey,tl:0}),{NAME:"lessThanOrEqual",VAL:{hd:c,tl:0}}),function(a){if(b("bs_caml").i64_ge(c,a.minTimestampMs))return b("bs_caml").i64_le(c,a.maxTimestampMs);else return!1})},[j,e,JSON.stringify(d)])),l=h.useState(function(){return k}),m=l[1],n=l[0];h.useEffect(function(){i.current=void 0;var a=c.current;e!==void 0||a==null||a.scrollToBottom()},[e]);var o=function(a){var d=c.current;if(!(d==null)){b("setTimeout")(function(b){return d.scrollElementIntoViewIfNeeded(a)},0);return}},p=function(a){if(b("bs_caml_obj").caml_notequal(a,i.current))return b("bs_curry")._2(f.current.get,a,function(b){o(b),i.current=a})};h.useEffect(function(){k!==void 0?b("bs_curry")._1(m,function(a){return k}):e!==void 0||b("bs_curry")._1(m,function(a){})},[e,k,m]);h.useEffect(function(){e!==void 0&&n!==void 0&&p(e.messageId)},[j,e,n,p]);h.useEffect(function(){if(a!==void 0&&k===void 0&&e!==void 0){var c=e.messageId;b("promiseDone")(b("LSTransaction.bs").run(j,function(d){return b("LSMessagePointQuery")(a.threadKey,c,a.threadType,b("LS.bs").make(d))},"readWrite"),void 0,void 0)}},[j,e,k,JSON.stringify(d),JSON.stringify(g)]);return{messageRange:n,messageElementRefs:f,visibleMessage:e}}f.useHook=a}),null);
__d("MWV2OpenThreadDetail.bs",["LS.bs","LSAuthorityLevel.bs","LSMessagingInitiatingSourceHook.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticMarkThreadReadV2","LSTransaction.bs","MWChatLoadMoreItemsIncrementally.bs","MWChatUnsendNUX.bs","MWInboxThreadMessagesSpinner.bs","MWMessageList.bs","MWPMessageListColumn.bs","MWV2ContextBanner.bs","MWV2ConversationScrollerRefs.bs","MWV2CurrentVisibleMessage.bs","MWV2FetchMessagesPage.bs","MWV2JumpToMostRecentMessageButton.bs","MWV2PersistentIcebreakers.bs","MWV2QuickReplies.bs","MWV2ThreadNullstate.bs","ReQL.bs","ReQLSubscription.bs","ServerTime","SortedAsyncIterable.bs","bs_caml","bs_caml_array","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","cr:1374","cr:2796","cr:2797","gkx","promiseDone","qex","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){var d=b("bs_int64").compare(a.primarySortKey,c.primarySortKey);if(d!==0)return d;d=a.secondarySortKey;var e=c.secondarySortKey;if(d===void 0)if(e!==void 0)return-1;else return b("bs_int64").compare(a.timestampMs,c.timestampMs);if(e===void 0)return 1;d=b("bs_int64").compare(d,e);if(d!==0)return d;else return b("bs_int64").compare(a.timestampMs,c.timestampMs)}function j(a,c){var d=b("useReStore")(),e=b("ReQLSubscription.bs").useArray(h.useMemo(function(){var e=b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("messages")),{hd:c.threadKey,tl:0});if(a!==void 0)return b("ReQL.bs").bounds(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("messages")),{hd:c.threadKey,tl:0}),{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:{hd:a.minTimestampMs,tl:0}},{NAME:"lessThanOrEqual",VAL:{hd:a.maxTimestampMs,tl:0}}]});else if(b("bs_caml").i64_lt(c.authorityLevel,b("LSAuthorityLevel.bs").authoritative)||b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType))return e;else return b("SortedAsyncIterable.bs").empty(void 0)},[d,JSON.stringify(c.threadKey),JSON.stringify(c.authorityLevel),JSON.stringify(c.threadType),JSON.stringify(a)]));return h.useMemo(function(){return e.sort(i)},[e])}function k(a){var c=b("useReStore")();return h.useCallback(function(d){if(b("bs_caml").i64_ge(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative)){b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("LSOptimisticMarkThreadReadV2")(a.threadKey,b("bs_caml_int64").of_float(Date.now()),b("LS.bs").make(c))},"readWrite"),void 0,void 0);return}},[JSON.stringify(a.authorityLevel),JSON.stringify(a.threadKey),c])}function l(a){var c=b("useReStore")(),d=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("thread_nullstate")),{hd:a.threadKey,tl:0})},[c,JSON.stringify(a.threadKey)])),e=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexAscending(c.table("thread_nullstate_ctas").index("threadKeyCtaId")),{hd:a.threadKey,tl:0})},[c,JSON.stringify(a.threadKey)]));return[d,e]}function a(a){a=a.thread;var c=h.useState(function(){return b("ServerTime").getMillis()}),d=b("MWV2ConversationScrollerRefs.bs").useHook(void 0),e=h.useState(function(){return!1}),f=e[1],g=b("MWV2CurrentVisibleMessage.bs").useHook(a,d.scrollerRef),i=g.visibleMessage,m=g.messageRange,n=g.messageRange;i=b("MWChatLoadMoreItemsIncrementally.bs").useLoadMore(b("gkx")("5399")||i!==void 0?!0:m!==void 0?m.hasMoreAfter:!1,void 0,void 0,j(g.messageRange,a),b("MWV2FetchMessagesPage.bs").useFetchMessagesPage(g.messageRange,a.threadKey),n!==void 0?n.hasMoreBefore:!1);m=i[2];n=i[0];var o=g.messageRange;o=o!==void 0?o.hasMoreAfter:!1;var p=k(a),q=l(a),r=q[1];q=q[0];var s=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0),t=b("cr:1374")==null?null:h.jsx(b("cr:1374").make,{thread:a});c=b("MWV2PersistentIcebreakers.bs").shouldShowPersistentIcebreakers(a,r,c[0]);var u=b("bs_caml_obj").caml_equal(b("bs_caml_option").nullable_to_opt(b("qex")._("1511")),"enabled"),v={contents:!1},w=u?function(c){var a=d.scrollPositionRef.current;if(a===0){v.contents=!1;return b("bs_curry")._1(f,function(a){return v.contents})}else if(c!==void 0&&!v.contents){v.contents=c>360;return b("bs_curry")._1(f,function(a){return v.contents})}else return}:function(a){};if(q!==void 0&&b("bs_caml").i64_eq(a.lastActivityTimestampMs,b("bs_caml_int64").zero))return h.jsxs(h.Fragment,{children:[t,h.jsx(b("MWV2ContextBanner.bs").make,{thread:a}),h.jsx(b("MWPMessageListColumn.bs").Grow.make,{children:null}),h.jsx(b("MWV2ThreadNullstate.bs").make,{thread:a,nullstate:q,nullstateCtas:r,lsSource:"inboxInThread",initiatingSource:s})]});q=d.scrollerRef.current;return h.jsxs(h.Fragment,{children:[t,h.jsx(b("MWChatUnsendNUX.bs").make,{senderUnsendNUXEnabled:!0}),h.jsxs(b("cr:2796").make,{children:[h.jsxs(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:[h.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:20}),m?h.jsx(b("MWInboxThreadMessagesSpinner.bs").make,{}):h.jsx(b("MWV2ContextBanner.bs").make,{thread:a}),h.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:10})]}),h.jsx(b("MWPMessageListColumn.bs").Grow.make,{children:null}),h.jsx(b("MWMessageList.bs").make,{messages:n,thread:a,messageElementRefs:g.messageElementRefs.current,scrollerRefs:d}),o&&u?h.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:h.jsx(b("MWInboxThreadMessagesSpinner.bs").make,{})}):null,h.jsx(b("MWV2QuickReplies.bs").make,{threadKey:a.threadKey,message:n[n.length-1|0],scrollerRefs:d}),c?h.jsx(b("MWV2PersistentIcebreakers.bs").make,{thread:a,nullstateCtas:r,lsSource:"inboxInThread",initiatingSource:s}):null,!(b("cr:2797")==null)&&!(q==null)&&u?h.jsx(b("cr:2797").make,{scrollerRef:q.getScroller(),setIsVisible:f,tolerance:360}):null],thread:a,fetchMore:i[1],markThreadAsRead:p,lastMessageToCalculateIfThreadIsRead:n.length!==0?b("bs_caml_array").get(n,n.length-1|0):void 0,scrollerRefs:d,hasMoreBefore:m,hasMoreAfter:o,onScroll:w}),u?h.jsx(b("MWV2JumpToMostRecentMessageButton.bs").make,{scrollerRefs:d,visible:e[0]||o}):null]})}c=b("cr:1374");d=b("cr:2796");e=a;f.$MWV2ArmadilloDogfoodingUpsell$requireCondXplat=b("cr:1374");f.mwv2ArmadilloDogfoodingUpsell=c;f.useMessages=j;f.$MWMessageScrollerThatMarksAsRead$OR$MWV2MessageScroller$requireCond=b("cr:2796");f.messageScroller=d;f.$MWJumpToMostRecentMessageVisibilityTrigger$requireCond=b("cr:2797");f.make=e}),null);/*FB_PKG_DELIM*/
__d("MessengerFormattingConfig",[],(function(a,b,c,d,e,f){e.exports={boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"}}}),null);
__d("LSAddMessengerContact",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"add_messenger_contact",[0,308],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssueSendAttachmentMessageTask",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSIssueNewTaskAndGetTaskID","LSPredefineTraceForTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[0]=c.i64.of_int32(a[5].length),c.i64.gt(d[0],[0,0])?c.loopAsync(d[0],function(e){return d[4]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[5],d[4]).then(function(a){return a=a,d[5]=a[0],d[6]=a[1],a})},function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[1],a[3]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===a[3]&&c.i64.eq(b.attachmentIndex,d[4])&&c.i64.eq(b.authorityLevel,[0,20])}),function(a){var b=a.update;a.item;return b({attachmentFbid:c.i64.to_string(d[5])})})}])}):c.resolve()},function(e){return c.i64.eq(f,[0,12])?d[1]=[0,10]:(a[9]?d[4]=[0,9]:d[4]=[0,3],d[1]=d[4]),c.i64.gt([0,0],[0,0])?d[2]=c.i64.add(c.i64.of_float(Date.now()),[0,0]):d[2]=[0,0],c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,[0,0],[0,0],f,f,d[2]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return a[12]!==f?c.seq([function(e){return c.sp(b("LSPredefineTraceForTask"),a[12],d[3],c.i64.to_string([0,46]),a[3])},function(d){return c.sp(b("LSAppendDataTraceAddon"),a[12],[0,20],[0,1],f,f)}]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[3],threadKey:a[1],offlineThreadingId:a[3],threadAttributionSource:a[6],platformRef:a[10],platformToken:a[11],replySourceId:a[7],replySourceType:a[8],sendType:d[1],markThreadRead:!1})}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSLocalApplyOptimisticMessageWithAttachments",["LSArrayGetObjectAt","LSLocalApplyOptimisticMessage","LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],f,a[7],a[8],a[9],a[10],f,a[12],!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],[0,0])?c.loopAsync(d[2],function(e){return d[3]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[11],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return d[6]=d[4].get("attachment_fbid"),d[4],d[7]=d[4].get("offline_attachment_id"),d[4],d[8]=d[4].get("attachment_type"),d[4],d[9]=d[4].get("filename"),d[4],d[10]=d[4].get("filesize"),d[4],d[11]=d[4].get("attachment_index"),d[4],d[12]=d[4].get("has_media"),d[4],d[13]=d[4].get("has_xma"),d[4],d[14]=d[4].get("playable_url"),d[4],d[15]=d[4].get("playable_url_mime_type"),d[4],d[16]=d[4].get("playable_duration_ms"),d[4],d[17]=d[4].get("preview_url"),d[4],d[18]=d[4].get("preview_url_mime_type"),d[4],d[19]=d[4].get("mini_preview"),d[4],d[20]=d[4].get("preview_width"),d[4],d[21]=d[4].get("preview_height"),d[4],d[22]=d[4].get("xma_layout_type"),d[4],d[23]=d[4].get("xmas_template_type"),d[4],d[24]=d[4].get("cta1_title"),d[4],d[25]=d[4].get("cta2_title"),d[4],d[26]=d[4].get("cta3_title"),d[4],d[27]=d[4].get("image_url"),d[4],d[28]=d[4].get("action_url"),d[4],d[29]=d[4].get("title_text"),d[4],d[30]=d[4].get("subtitle_text"),d[4],d[31]=d[4].get("description_text"),d[4],d[32]=d[4].get("source_text"),d[4],d[33]=d[4].get("original_file_hash"),d[4],d[34]=d[4].get("sound_bite_client_sound_key"),d[4],d[35]=d[4].get("sound_bite_visual"),d[4],d[36]=d[4].get("ephemeral_media_state"),d[4],c.ftr(c.db.table(16).fetch([[[a[1],d[0],d[6]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&b.messageId===d[0]&&b.attachmentFbid===d[6]&&c.i64.gt(b.authorityLevel,[0,20])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(16).put({threadKey:a[1],messageId:d[0],attachmentFbid:d[6],timestampMs:d[1],offlineAttachmentId:d[7],attachmentType:d[8],filename:d[9],filesize:d[10],attachmentIndex:d[11],hasMedia:d[12],hasXma:d[13],isSharable:!1,playableUrl:d[14],playableUrlMimeType:d[15],playableDurationMs:d[16],previewUrl:d[17],previewUrlMimeType:d[18],miniPreview:d[19],previewWidth:d[20],previewHeight:d[21],xmaLayoutType:d[22],xmasTemplateType:d[23],cta1Title:d[24],cta2Title:d[25],cta3Title:d[26],imageUrl:d[27],actionUrl:d[28],titleText:d[29],subtitleText:d[30],descriptionText:d[31],sourceText:d[32],ephemeralMediaState:d[36],originalFileHash:d[33],authorityLevel:[0,20]}):0})}])}):c.resolve()},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],[0,0])?c.sp(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[1],a[3],!1,c.i64.neq(a[6],f)):c.resolve()},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpdateDraftMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.fe(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({draftMessage:a[1]===""||a[1]===d?d:a[1]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSGetMessageAttributionParams",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.ftr(b.db.table(31).fetch(),function(b){return b.offlineThreadingId===a[0]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[e,e,e],c[0]=d[0],c[1]=d[1],c[2]=d[2],d):(b=a.item,d=[b.threadAttributionSource,b.platformRef,b.platformToken],c[0]=d[0],c[1]=d[1],c[2]=d[2],d)})},function(a){return a=[c[0],c[1],c[2]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSInsertNewMediaSend",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(51).add({offlineAttachmentId:a[0],offlineThreadingId:a[1],inMessageIndex:a[2],attachmentType:a[3],shouldTranscode:a[4],useDoublePhase:a[5],sendByServer:a[6],isSecure:a[7],state:a[4]?[0,1]:[0,3]})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSInsertPhase2PendingTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(12).fetch([[[a[0]]],"optimistic"]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=e:(b=a.item,c[0]=b.threadKey)})},function(d){return b.i64.neq(c[0],e)?b.seq([function(d){return b.db.table(2).add({taskId:void 0,taskValue:a[0],queueName:[b.i64.to_string(c[0]),"_multi_media"].join(""),context:"4",enqueueTimestampMs:b.i64.of_float(Date.now()),pluginType:a[1]})},function(a){return c[2]=e}]):b.resolve(c[2]=[0,1002])},function(a){return d[0]=c[2]}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSMarkSubJobCompletedV2",["LSArrayGetObjectAt"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return d[0]=c.createArray(),c.db.table(51).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?0:(b=a.item,d[3]=new c.Map(),d[3].set("offline_attachment_id",b.offlineAttachmentId),d[3].set("offline_threading_id",b.offlineThreadingId),d[3].set("in_message_index",b.inMessageIndex),d[3].set("attachment_type",b.attachmentType),d[3].set("should_transcode",b.shouldTranscode),d[3].set("use_double_phase",b.useDoublePhase),d[3].set("send_by_server",b.sendByServer),d[3].set("is_secure",b.isSecure),d[3].set("state",b.state),d[3].set("fbid",b.fbid),d[3].set("metadata",b.metadata),d[3].set("error",b.error),d[3].set("message_id",b.messageId),d[4]=(d[0].push(d[3]),d[0]))})},function(e){return d[2]=c.i64.of_int32(d[0].length),c.i64.neq(d[2],[0,0])?c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[0],[0,0]).then(function(a){return a=a,d[3]=a[0],d[4]=a[1],a})},function(b){return d[5]=d[3].get("state"),d[3],c.i64.neq(a[1],f)?a[2]!==f?(c.i64.eq(d[5],[-1,4294967293])?(d[7]=[-1,4294967295],d[6]=d[7]):(c.i64.eq(d[5],[0,1])?d[7]=[0,2]:(c.i64.eq(d[5],[0,3])?d[8]=[0,4]:(c.i64.eq(d[5],[0,5])?d[9]=[0,6]:(c.i64.eq(d[5],[0,13])?d[10]=[0,14]:(c.i64.eq(d[5],[0,7])?d[11]=[0,8]:(c.i64.eq(d[5],[0,9])?d[12]=[0,10]:(c.i64.eq(d[5],[0,11])?d[13]=[0,12]:d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],fbid:a[1],messageId:a[2],metadata:a[3]})})):(c.i64.eq(d[5],[-1,4294967293])?(d[7]=[-1,4294967295],d[6]=d[7]):(c.i64.eq(d[5],[0,1])?d[7]=[0,2]:(c.i64.eq(d[5],[0,3])?d[8]=[0,4]:(c.i64.eq(d[5],[0,5])?d[9]=[0,6]:(c.i64.eq(d[5],[0,13])?d[10]=[0,14]:(c.i64.eq(d[5],[0,7])?d[11]=[0,8]:(c.i64.eq(d[5],[0,9])?d[12]=[0,10]:(c.i64.eq(d[5],[0,11])?d[13]=[0,12]:d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],fbid:a[1],metadata:a[3]})})):c.i64.neq(a[4],f)?(c.i64.eq(d[5],[-1,4294967293])?(d[7]=[-1,4294967295],d[6]=d[7]):(c.i64.eq(d[5],[0,1])?d[7]=[0,2]:(c.i64.eq(d[5],[0,3])?d[8]=[0,4]:(c.i64.eq(d[5],[0,5])?d[9]=[0,6]:(c.i64.eq(d[5],[0,13])?d[10]=[0,14]:(c.i64.eq(d[5],[0,7])?d[11]=[0,8]:(c.i64.eq(d[5],[0,9])?d[12]=[0,10]:(c.i64.eq(d[5],[0,11])?d[13]=[0,12]:d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],error:a[4]})})):(c.i64.eq(d[5],[-1,4294967293])?(d[7]=[-1,4294967295],d[6]=d[7]):(c.i64.eq(d[5],[0,1])?d[7]=[0,2]:(c.i64.eq(d[5],[0,3])?d[8]=[0,4]:(c.i64.eq(d[5],[0,5])?d[9]=[0,6]:(c.i64.eq(d[5],[0,13])?d[10]=[0,14]:(c.i64.eq(d[5],[0,7])?d[11]=[0,8]:(c.i64.eq(d[5],[0,9])?d[12]=[0,10]:(c.i64.eq(d[5],[0,11])?d[13]=[0,12]:d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({state:d[6]})}))}]):c.resolve()}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSRemoveMediaSendJobs",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSResumeMediaSendJob",["LSGetMessageAttributionParams","LSInsertPhase2PendingTask","LSIssueSendAttachmentMessageTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(b){return d[0]=new c.Map(),d[1]=new c.Map(),d[1].set("main_job_succeeded",!1),d[1].set("resume_failed",!1),d[1].set("error",f),d[1].set("running_sub_job_states",d[0]),d[2]=new c.Map(),d[2].set("should_transcode",!1),d[2].set("use_double_phase",!1),d[2].set("send_by_server",!1),d[2].set("is_secure",!1),d[2].set("should_dedupe",!1),c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["state","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?0:(b=a.item,d[2].set("should_transcode",b.shouldTranscode),d[2].set("use_double_phase",b.useDoublePhase),d[2].set("send_by_server",b.sendByServer),d[2].set("is_secure",b.isSecure))})},function(b){return d[4]=new c.Map(),c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[13]=a.offlineAttachmentId,d[11]=a.state,d[12]=a.error,c.i64.eq(d[11],[-1,4294967293])?d[10]=!0:(c.i64.eq(d[11],[0,1])?d[14]=!0:(c.i64.eq(d[11],[0,3])?d[15]=!0:(c.i64.eq(d[11],[0,5])?d[16]=!0:(c.i64.eq(d[11],[0,13])?d[17]=!0:(c.i64.eq(d[11],[0,7])?d[18]=!0:(c.i64.eq(d[11],[0,9])?d[19]=!0:(c.i64.eq(d[11],[0,11])?d[20]=!0:d[20]=!1,d[19]=d[20]),d[18]=d[19]),d[17]=d[18]),d[16]=d[17]),d[15]=d[16]),d[14]=d[15]),d[10]=d[14]),d[10]?c.resolve(c.i64.eq(d[11],[0,5])||c.i64.eq(d[11],[0,11])?0:d[4].set(d[13],d[11])):c.i64.neq(d[12],f)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[12]))):(c.i64.eq(d[11],[-1,4294967295])?d[14]=[0,5]:(c.i64.eq(d[11],[-1,4294967294])?(d[16]=d[2].get("should_transcode"),d[2],d[15]=d[16]?[0,1]:[0,3]):(c.i64.eq(d[11],[0,2])?d[16]=[0,3]:(c.i64.eq(d[11],[0,4])?(d[18]=d[2].get("send_by_server"),d[2],d[19]=d[2].get("use_double_phase"),d[2],d[17]=d[18]?d[19]?[0,13]:f:[0,5]):(c.i64.eq(d[11],[0,6])?(d[19]=d[2].get("use_double_phase"),d[2],d[18]=d[19]?[0,13]:f):(c.i64.eq(d[11],[0,14])?(d[20]=d[2].get("use_double_phase"),d[2],d[21]=d[2].get("should_transcode"),d[2],d[19]=d[20]?d[21]?[0,7]:[0,9]:f):(c.i64.eq(d[11],[0,8])?d[20]=[0,9]:(c.i64.eq(d[11],[0,10])?(d[22]=d[2].get("send_by_server"),d[2],d[21]=d[22]?f:[0,11]):(c.i64.eq(d[11],[0,12])?d[22]=f:d[22]=f,d[21]=d[22]),d[20]=d[21]),d[19]=d[20]),d[18]=d[19]),d[17]=d[18]),d[16]=d[17]),d[15]=d[16]),d[14]=d[15]),c.i64.neq(d[14],f)?c.seq([function(a){return c.fe(c.ftr(c.db.table(51).fetch(),function(a){return a.offlineAttachmentId===d[13]}),function(a){var b=a.update;a.item;return b({state:d[14]})})},function(a){return c.i64.eq(d[14],[0,5])||c.i64.eq(d[14],[0,11])?0:d[4].set(d[13],d[14])}]):c.resolve())})},function(b){return c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["state","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[5]=f:(b=a.item,d[5]=b.state)})},function(e){return c.i64.neq(d[5],f)?(d[10]=d[2].get("send_by_server"),d[2],d[11]=d[2].get("use_double_phase"),d[2],d[12]=d[2].get("use_double_phase"),d[2],(d[10]?d[11]?c.i64.eq(d[5],[0,10]):c.i64.eq(d[5],[0,4]):d[12]?c.i64.eq(d[5],[0,12]):c.i64.eq(d[5],[0,6]))?c.resolve(d[1].set("main_job_succeeded",!0)):c.i64.eq(d[5],[0,5])?c.seq([function(b){return d[13]=f,c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[15]=a.error,c.i64.eq(d[15],f)?(c.i64.neq(a.fbid,f)?d[16]=f:d[16]=[0,9],d[14]=d[16]):d[14]=d[15],c.i64.neq(d[14],f)?d[13]=d[14]:0})},function(e){return c.i64.neq(d[13],f)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[13]))):c.seq([function(e){return d[14]=d[2].get("is_secure"),d[2],d[14]?c.seq([function(b){return d[16]=c.createArray(),d[17]=!1,d[18]=[0,0],c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[23]=a.fbid,d[18]=c.i64.add(d[18],[0,1]),c.i64.neq(d[23],f)?d[24]=(d[16].push(d[23]),d[16]):0})},function(b){return d[19]=c.createArray(),c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[23]=a.metadata,d[23]!==f?d[24]=(d[19].push(d[23]),d[19]):0})},function(a){return d[20]=c.i64.of_int32(d[16].length),d[21]=c.i64.of_int32(d[19].length),c.i64.neq(d[20],d[18])||c.i64.neq(d[21],d[18])?d[22]=[0,11]:(function(a){c.logger(a).debug(a)}("[TincanLS][LSSecureMailboxSendSecureMediaMessageStoredProcedure] Started"),function(a){c.logger(a).debug(a)}("[TincanLS][LSSecureMailboxSendSecureMediaMessageStoredProcedure] Completed"),d[22]=f),d[15]=d[22]}]):c.seq([function(e){return c.seq([function(b){return d[17]=c.createArray(),d[18]=!1,d[19]=[0,0],c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[22]=a.fbid,d[19]=c.i64.add(d[19],[0,1]),c.i64.neq(d[22],f)?d[23]=(d[17].push(d[22]),d[17]):0})},function(e){return d[20]=c.i64.of_int32(d[17].length),c.i64.neq(d[20],d[19])||c.i64.eq(d[19],[0,0])?c.resolve(d[21]=[0,10002]):c.seq([function(b){return c.db.table(12).fetch([[[a[0]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f,f,f,f,f],d[22]=c[0],d[23]=c[1],d[24]=c[2],d[25]=c[3],d[26]=c[4],c):(b=a.item,c=[b.threadKey,b.senderId,b.text,b.replySourceId,b.replySourceTypeV2],d[22]=c[0],d[23]=c[1],d[24]=c[2],d[25]=c[3],d[26]=c[4],c)})},function(e){return c.i64.eq(d[22],f)||c.i64.eq(d[23],f)?c.resolve((c.i64.eq(d[22],f)?d[29]=[0,10003]:d[29]=[0,10004],d[28]=d[29])):c.seq([function(a){return c.db.table(9).fetch([[[d[22]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[29]=f:(b=a.item,d[29]=b.threadType)})},function(b){return c.ftr(c.db.table(31).fetch(),function(b){return b.offlineThreadingId===a[0]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f,f,f,f],d[31]=c[0],d[32]=c[1],d[33]=c[2],d[34]=c[3],c):(b=a.item,c=[b.platformRef,b.platformToken,b.initiatingSource,f],d[31]=c[0],d[32]=c[1],d[33]=c[2],d[34]=c[3],c)})},function(e){return c.i64.neq(d[29],f)?c.seq([function(e){return c.seq([function(e){return c.sp(b("LSGetMessageAttributionParams"),a[0]).then(function(a){return a=a,d[37]=a[0],d[38]=a[1],d[39]=a[2],a})},function(e){return c.i64.neq(d[37],f)?d[40]=d[37]:d[40]=[0,0],c.sp(b("LSIssueSendAttachmentMessageTask"),d[23],d[22],d[29],a[0],d[24],d[17],d[40],d[25],d[26],d[18],d[31],d[32],a[2])}])},function(a){return d[36]=f}]):c.resolve(d[36]=[0,10005])},function(a){return d[28]=d[36]}])},function(a){return d[21]=d[28]}])},function(a){return d[16]=d[21]}])},function(b){return c.i64.eq(d[16],f)?c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:[0,6]})}):c.resolve()},function(a){return d[15]=d[16]}])},function(b){return c.i64.eq(d[15],f)?(d[16]=d[2].get("send_by_server"),d[2],d[17]=d[2].get("use_double_phase"),d[2],d[18]=d[2].get("use_double_phase"),d[2],(d[16]?d[17]?c.i64.eq([0,6],[0,10]):c.i64.eq([0,6],[0,4]):d[18]?c.i64.eq([0,6],[0,12]):c.i64.eq([0,6],[0,6]))?c.resolve(d[1].set("main_job_succeeded",!0)):(c.i64.eq([0,6],[-1,4294967295])?d[19]=[0,5]:(c.i64.eq([0,6],[-1,4294967294])?(d[21]=d[2].get("should_transcode"),d[2],d[20]=d[21]?[0,1]:[0,3]):(c.i64.eq([0,6],[0,2])?d[21]=[0,3]:(c.i64.eq([0,6],[0,4])?(d[23]=d[2].get("send_by_server"),d[2],d[24]=d[2].get("use_double_phase"),d[2],d[22]=d[23]?d[24]?[0,13]:f:[0,5]):(c.i64.eq([0,6],[0,6])?(d[24]=d[2].get("use_double_phase"),d[2],d[23]=d[24]?[0,13]:f):(c.i64.eq([0,6],[0,14])?(d[25]=d[2].get("use_double_phase"),d[2],d[26]=d[2].get("should_transcode"),d[2],d[24]=d[25]?d[26]?[0,7]:[0,9]:f):(c.i64.eq([0,6],[0,8])?d[25]=[0,9]:(c.i64.eq([0,6],[0,10])?(d[27]=d[2].get("send_by_server"),d[2],d[26]=d[27]?f:[0,11]):(c.i64.eq([0,6],[0,12])?d[27]=f:d[27]=f,d[26]=d[27]),d[25]=d[26]),d[24]=d[25]),d[23]=d[24]),d[22]=d[23]),d[21]=d[22]),d[20]=d[21]),d[19]=d[20]),c.i64.neq(d[19],f)?c.seq([function(b){return c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:d[19]})})},function(b){return c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[4].set(a.offlineAttachmentId,a.state)})}]):c.resolve())):c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[15])))}])}]):c.i64.eq(d[5],[0,11])?c.seq([function(b){return d[13]=f,c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[14]=a.error,c.i64.neq(d[14],f)?d[13]=d[14]:0})},function(a){return c.i64.neq(d[13],f)?(d[1].set("resume_failed",!0),d[1].set("error",d[13])):d[1].set("main_job_succeeded",!0)}]):c.i64.eq(d[5],[0,13])?c.seq([function(e){return c.sp(b("LSInsertPhase2PendingTask"),a[0],a[1]).then(function(a){return a=a,d[13]=a[0],a})},function(b){return c.i64.neq(d[13],f)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[13]))):c.seq([function(b){return c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:[0,14]})})},function(b){return d[1].set("main_job_succeeded",!0),c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[4].set(a.offlineAttachmentId,a.state)})}])}]):c.resolve(0)):c.resolve((d[1].set("resume_failed",!0),d[1].set("error",[0,11])))},function(a){return d[7]=d[1].get("main_job_succeeded"),d[1],d[8]=d[1].get("resume_failed"),d[1],d[9]=d[1].get("error"),d[1],a=[d[7],d[8],d[9],d[4]],e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(b){return d[2]=["typing","_",c.i64.to_string(a[0])].join(""),c.fe(c.ftr(c.db.table(5).fetch(),function(a){return d[2]===a.queueName}),function(a){return a["delete"]()})},function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("is_group_thread",a[1]),d[0].set("is_typing",a[2]),d[0].set("attribution",[0,0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewFireAndForgetTask"),d[2],[0,3],d[1])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MWComposerXacDisclosureRelayQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4117708481614906"}),null);
__d("MWComposerXacDisclosureRelayQuery.graphql",["MWComposerXacDisclosureRelayQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nux_id"}],c=[{kind:"Variable",name:"nux_id",variableName:"nux_id"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"MWComposerXacDisclosureRelayQuery",fragmentName:"MWComposerXacDisclosureView_nux",fragmentPropName:"nux",kind:"ModuleImport"}],type:"DefaultNUX",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("MWComposerXacDisclosureRelayQuery_facebookRelayOperation"),metadata:{},name:"MWComposerXacDisclosureRelayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport",["createCometMentionMatchStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=["@","\\uff20"].join(""),i=",\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>:;";function a(a){a=a.minMatchLength;return c("createCometMentionMatchStrategy")({disallowedChars:i,minMatchLength:a,name:"CometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport("+a.toString()+")",triggers:h})}g["default"]=a}),98);
__d("MessengerLexicalEntityTextNode",["Lexical","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var d=a.prototype;d.getEntity=function(){throw c("unrecoverableViolation")("CometMessengerLexicalEntityTextNode does not implement getEntity","messenger_comet")};return a}(d("Lexical").TextNode);function a(a){return a instanceof h}g.MessengerLexicalEntityTextNode=h;g.isMessengerLexicalEntityTextNode=a}),98);
__d("MessengerLexicalActorNode",["MessengerLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.replace(" name","");a=a.replace(" nickname","");return a}var i=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"actor"};a.clone=function(b){return new a({id:b.__contactID,text:b.__text.slice(1)},b.__key)};function a(a,c){var d=a.id;a=a.text;a=b.call(this,"@"+a,c)||this;a.__contactID=h(d);return a}var c=a.prototype;c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="bnpdmtie diy96o5h";a.spellcheck=!1;return a};c.getEntity=function(){return{id:this.__contactID,isWeak:!1}};return a}(d("MessengerLexicalEntityTextNode").MessengerLexicalEntityTextNode);function a(a){return new i(a).setMode("segmented").toggleDirectionless()}function b(a){return a instanceof i}g.MessengerLexicalActorNode=i;g.createMessengerLexicalActorNode=a;g.isMessengerLexicalActorNode=b}),98);
__d("LSContactGenderToGenderConst.bs",["GenderConst","LSContactGender.bs","bs_caml"],(function(a,b,c,d,e,f){"use strict";function a(a){if(b("bs_caml").i64_eq(a,b("LSContactGender.bs").female))return b("GenderConst").FEMALE_SINGULAR;else if(b("bs_caml").i64_eq(a,b("LSContactGender.bs").male))return b("GenderConst").MALE_SINGULAR;else if(b("bs_caml").i64_eq(a,b("LSContactGender.bs").neuter))return b("GenderConst").NEUTER_SINGULAR;else return b("GenderConst").NOT_A_PERSON}f.make=a}),null);
__d("MWConsole",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){}g.log=a}),98);
__d("MWSeparatorContainer.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=h.Children.toArray(a.children).filter(Boolean);return d.length===0?null:h.jsxs(h.Fragment,{children:[(b=a.beforeContent)!=null?b:null,h.jsx("div",{className:c("stylex")(a.xstyle),children:d.map(function(b,c){return h.jsxs(h.Fragment,{children:[c!==0&&a.separator,b]},"item-"+c)})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSGenerateTraceId.bs",["LSRequestId.bs","gkx","killswitch"],(function(a,b,c,d,e,f){"use strict";function a(a){if(!b("killswitch")("MESSENGER_WEB_DATA_TRACE_ID")&&b("gkx")("1951030"))return b("LSRequestId.bs").generate(void 0)}f.make=a}),null);
__d("MWComposerDisclosureContainer.bs",["MWLSThreadDisplayContext.bs","bs_caml_obj","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{color:"m9osqain",marginTop:"n1l5q3vz",paddingTop:"l29c1vbm",paddingEnd:"dpri0uem",paddingBottom:"ae35evdt",paddingStart:"pcu7st4i",textAlign:"oqcyycmt"},inner:{maxWidth:"bl38xub0",marginTop:"km676qkl",marginEnd:"ad2k81qe",marginBottom:"myj7ivm5",marginStart:"f9o22wc5"},border:{borderTop:"opwvks06"}};function a(a){var c=a.children;a=a.testid;var d=b("MWLSThreadDisplayContext.bs").useHook(void 0);return i.jsx("div",{className:(h||(h=b("stylex")))(j.root,b("bs_caml_obj").caml_equal(d,0)?j.border:!1),"data-testid":a,children:i.jsx("div",{className:h(j.inner),children:c})})}c=a;f.styles=j;f.make=c}),null);
__d("LsMessageRequestsActions.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12],o=[0,13];f.none=a;f.accept=c;f.block=d;f.bulkAccept=e;f.bulkDelete=b;f.bulkMarkAsRead=g;f.bulkMarkAsUnread=h;f.cancel=i;f.$$delete=j;f.frx=k;f.leaveGroup=l;f.bulkEdit=m;f.bulkSelect=n;f.unignore=o}),null);
__d("MessageRequestsLog.bs",["LsMessageRequestsActions.bs","bs_caml_int64","requireDeferred"],(function(a,b,c,d,e,f){"use strict";var g,h=(g=b("requireDeferred"))("MessageRequestsInfoBannerShownFalcoEvent").__setRef("MessageRequestsLog.bs"),i=g("MessageRequestsThreadDenialOptionsTappedFalcoEvent").__setRef("MessageRequestsLog.bs"),j=g("MessageRequestsThreadActionTappedFalcoEvent").__setRef("MessageRequestsLog.bs"),k=g("MessageRequestsThreadActionConfirmedFalcoEvent").__setRef("MessageRequestsLog.bs"),l=g("MessageRequestsViewThreadlistFalcoEvent").__setRef("MessageRequestsLog.bs");function a(a,c,d){h.onReady(function(e){e.log(function(){return{thread:{id:a,type:c,folder:d},action:b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").none),request_id:void 0,extra_data_map:void 0}})})}function c(a,c,d){i.onReady(function(e){e.log(function(){return{thread:{id:a,type:c,folder:d},action:b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").none),request_id:void 0,extra_data_map:void 0}})})}function d(a,b,c,d){j.onReady(function(e){e.log(function(){return{thread:{id:a,type:b,folder:c},action:d,request_id:void 0,extra_data_map:void 0}})})}function e(a,b,c,d){k.onReady(function(e){e.log(function(){return{thread:{id:a,type:b,folder:c},action:d,request_id:void 0,extra_data_map:void 0}})})}function m(a,c){l.onReady(function(d){d.log(function(){return{entry_point:a,actioned_thread_count:0,actioned_unread_thread_count:0,action:b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").none),folder:c,request_id:void 0,actioned_thread_ids:void 0}})})}f.messageRequestsInfoBannerShownFalcoEventLogger=h;f.messageRequestsThreadDenialOptionsTappedFalcoEventLogger=i;f.messageRequestsThreadActionTappedFalcoEventLogger=j;f.messageRequestsThreadActionConfirmedFalcoEventLogger=k;f.messageRequestsViewThreadlistFalcoEventLogger=l;f.logMessageRequestInfoShown=a;f.logDenialOptionsTapped=c;f.logActionTapped=d;f.logActionConfirmed=e;f.logMessageRequestsView=m}),null);
__d("MWChatComposerGroupMessageRequestInfoText.bs",["fbt","CometLazyDialogTrigger.react","CometPressable.react","JSResource","LsSystemFolder.bs","MDSText.react","MWComposerDisclosureContainer.bs","MWLSThreadFolder.bs","MWThreadKey.bs","MWVerticalRhythm.bs","MessageRequestsLog.bs","MessagingThreadType.bs","bs_caml_int64","bs_curry","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.onDeleteConversation,d=a.onLeaveGroup;a=a.isGXAC;a=a!==void 0?a:!1;var e=b("bs_int64").to_string(b("MWThreadKey.bs").useIdMemoizedExn(void 0)),f=b("MWLSThreadFolder.bs").useHook(void 0),h=b("bs_caml_int64").to_int32(b("MessagingThreadType.bs").group),j=f==="pending"?b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").pending):b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").other);i.useEffect(function(){b("MessageRequestsLog.bs").logMessageRequestInfoShown(e,h,j)},[]);var k=i.useRef(null);return i.jsxs(b("MWComposerDisclosureContainer.bs").make,{children:[a?i.jsxs(i.Fragment,{children:[i.jsx(b("MDSText.react"),{color:"secondary",type:"entityHeaderMeta3",children:g._(/*FBT_CALL*/"This group has people from Facebook and Instagram"/*FBT_CALL*/)}),i.jsx(b("MWVerticalRhythm.bs").make,{height:8})]}):null,i.jsxs(b("MDSText.react"),{color:"secondary",type:"body4",children:[a?g._(/*FBT_CALL*/"If you reply, you and other members can see information like when you've read messages."/*FBT_CALL*/):g._(/*FBT_CALL*/"If you reply, you and other members will be able to make group calls and see information like when you've read messages."/*FBT_CALL*/),i.jsx(b("MWVerticalRhythm.bs").make,{height:5}),i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatDeclineGroupMessageRequestDialogForJSResource.react").__setRef("MWChatComposerGroupMessageRequestInfoText.bs"),dialogProps:{onDeleteConversation:c,onLeaveGroup:d},children:function(a){return i.jsx(b("CometPressable.react"),{ref:k,testid:"mw_group_message_request_info_text_trigger",onPress:function(c){b("MessageRequestsLog.bs").logDenialOptionsTapped(e,h,j);return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,children:i.jsx(b("MDSText.react"),{color:"primary",type:"bodyLink4",children:g._(/*FBT_CALL*/"I don't want to reply"/*FBT_CALL*/)})})}})]})],testid:"mw_group_message_request_info_text"})}c=a;f.make=c}),null);
__d("MWChatComposerIcons.bs",["cr:1755987"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1755987")).Gif;d=a.Sticker;e=a.Photo;b=a.MoreActions;var g=a.Emoji,h=a.PaperclipSVG,i=a.Paperclip,j=a.Pin,k=a.Camera,l=a.Microphone,m=a.Poll,n=a.Currency;f.$MDSMWChatComposerIcons$OR$TetraMWChatComposerIcons$requireCond=a;f.Gif=c;f.Sticker=d;f.Photo=e;f.MoreActions=b;f.Emoji=g;f.PaperclipSVG=h;f.Paperclip=i;f.Pin=j;f.Camera=k;f.Microphone=l;f.Poll=m;f.Currency=n}),null);
__d("MWChatComposerVoiceIndicator.bs",["fbt","CurrentUser","MDSText.react","MDSTextPairing.react","getTopMostRoute","react","stylex","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{borderTop:"opwvks06",color:"m9osqain",marginTop:"n1l5q3vz",marginEnd:"ad2k81qe",marginBottom:"oygrvhab",marginStart:"f9o22wc5",paddingTop:"l29c1vbm",paddingEnd:"dpri0uem",paddingBottom:"ae35evdt",paddingStart:"pcu7st4i"}};function a(a){a=a.forceShown_TEST_ONLY;a=a!==void 0?a:!1;var c=b("useCometRouterState")(),d;if(c==null)d=!1;else{c=b("getTopMostRoute")(c).tracePolicy;d=c!==void 0?c.startsWith("comet.page.admin")||c.startsWith("comet.group.admin"):!1}c=b("CurrentUser").getName();c=g._(/*FBT_CALL*/"You are messaging from your personal account \"{full name}\""/*FBT_CALL*/,[g._param("full name",j.jsx(b("MDSText.react"),{type:"meta2",children:c}))]);if(d||a)return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("MDSTextPairing.react"),{body:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:c}),level:4,textAlign:"center"})});else return null}c=a;f.styles=k;f.make=c}),null);
__d("MWChatHotlikeEmitter.bs",["bs_curry"],(function(a,b,c,d,e,f){"use strict";var g={contents:0};function a(a){var c=new Map();return{notify:function(a){c.forEach(function(d,c,e){return b("bs_curry")._1(d,a)})},subscribe:function(a){var b=g.contents;g.contents=g.contents+1|0;c.set(b,a);return function(a){return c["delete"](b)}}}}f.i=g;f.createEmitter=a}),null);
__d("MWComposerXacDisclosureRelay.react",["CometPlaceholder.react","CometRelay","MWComposerXacDisclosureRelayQuery.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=8659;function a(a){var e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWComposerXacDisclosureRelayQuery.graphql"),{nux_id:j}),f=e.xacThreadDisclosureNux;return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:f!=null?i.jsx(d("CometRelay").MatchContainer,{match:f,props:{isThreadInNullState:a.isThreadInNullState,nuxKey:e.xacThreadDisclosureNux,size:a.size}}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSContactReachabilityStatusType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.reachable=a;f.unreachableUserType=c;f.unreachableAdultType=d}),null);
__d("MWLSParticipantDetails.bs",["GenderConst","LSContactGender.bs","LSContactReachabilityStatusType.bs","LSMediaUrl.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_belt_Option","bs_caml","bs_caml_format","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return h.useMemo(function(){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("contacts")),{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})),void 0,function(a){return a.name})},[a,c])}function c(a){var c=b("useReStore")();return h.useMemo(function(){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("contacts")),{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})),void 0,function(a){var b=a.firstName;if(b!==void 0)return b;else return a.name})},[a,c])}function d(a){var c=b("useReStore")();return h.useMemo(function(){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("contacts")),{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})),void 0,function(a){return a.secondaryName})},[a,c])}function e(a){var c=b("useReStore")();return h.useMemo(function(){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("contacts")),{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})),void 0,function(a){var c=a.firstName;c=c!==void 0?c:a.name;a=a.gender;a=b("bs_caml").i64_eq(a,b("LSContactGender.bs").female)?b("GenderConst").FEMALE_SINGULAR:b("bs_caml").i64_eq(a,b("LSContactGender.bs").male)?b("GenderConst").MALE_SINGULAR:b("bs_caml").i64_eq(a,b("LSContactGender.bs").neuter)?b("GenderConst").NEUTER_SINGULAR:b("GenderConst").NOT_A_PERSON;return[c,a]})},[a,c])}function i(a){var c=b("useReStore")();return b("bs_belt_Option").mapWithDefault(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("contacts")),{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})},[a,c])),!0,function(a){a=a.contactReachabilityStatusType;if(a!==void 0)return b("bs_caml").i64_eq(b("LSContactReachabilityStatusType.bs").reachable,a);else return!0})}function j(a){var c=b("useReStore")();return h.useMemo(function(){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("contacts")),{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})),void 0,function(a){return b("LSMediaUrl.bs").Contact.profilePictureUrl(a)})},[a,c])}f.useParticipantName=a;f.useParticipantShortName=c;f.useParticipantSecondaryName=d;f.useNameAndGender=e;f.useParticipantReachabilityStatus=i;f.useParticipantProfilePictureUrl=j}),null);
__d("MWMessageRequestSharedTexts.bs",["fbt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return g._(/*FBT_CALL*/"If you reply, {FBFullName} will also be able to call you and see info like your Active Status and when you've read messages."/*FBT_CALL*/,[g._param("FBFullName",a)])}function b(a){return g._(/*FBT_CALL*/"I don't want to hear from {name}"/*FBT_CALL*/,[g._param("name",a)])}function c(a){return g._(/*FBT_CALL*/"You can permanently delete the conversation or block {FBShortName} from sending you messages or calls. We won't tell them you've taken these actions."/*FBT_CALL*/,[g._param("FBShortName",a)])}f.getFBUserInfoTextMessage=a;f.getDefaultInfoTextFooter=b;f.getDeclineUserDialogText=c}),null);
__d("MWLSChatComposerUserMessageRequestInfoText.bs",["fbt","CometLazyDialogTrigger.react","CometPressable.react","JSResource","LsSystemFolder.bs","MDSText.react","MDSTextPairing.react","MWComposerDisclosureContainer.bs","MWLSParticipantDetails.bs","MWLSThreadFolder.bs","MWMessageRequestSharedTexts.bs","MWThreadKey.bs","MWVerticalRhythm.bs","MessageRequestsLog.bs","MessagingThreadType.bs","bs_caml_int64","bs_curry","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.fbid;a=a.onDeleteConversation;var d=b("bs_int64").to_string(b("MWThreadKey.bs").useIdMemoizedExn(void 0)),e=b("MWLSThreadFolder.bs").useHook(void 0),f=b("bs_caml_int64").to_int32(b("MessagingThreadType.bs").oneToOne),h=e==="pending"?b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").pending):b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").other);e=b("MWLSParticipantDetails.bs").useParticipantName(c);e=e!==void 0?e:g._(/*FBT_CALL*/"Facebook user"/*FBT_CALL*/);var j=b("MWLSParticipantDetails.bs").useParticipantShortName(c);j=j!==void 0?j:g._(/*FBT_CALL*/"Facebook user"/*FBT_CALL*/);var k=b("MWLSParticipantDetails.bs").useParticipantSecondaryName(c);k=k!==void 0&&k!==""?k:void 0;var l=k!==void 0?i.jsx(b("MDSText.react"),{color:"primary",type:"bodyLink4",children:g._(/*FBT_CALL*/"You're messaging an Instagram account"/*FBT_CALL*/)}):null,m=k!==void 0?e!==k?g._(/*FBT_CALL*/"If you reply, {IGDisplayName} ({IGUserName}) will also be able to call you from Instagram and see info like your Active Status and when you've read messages."/*FBT_CALL*/,[g._param("IGDisplayName",e),g._param("IGUserName",k)]):g._(/*FBT_CALL*/"If you reply, {IGUserName} will also be able to call you and see info like your Active Status and when you've seen messages."/*FBT_CALL*/,[g._param("IGUserName",k)]):b("MWMessageRequestSharedTexts.bs").getFBUserInfoTextMessage(e),n=k!==void 0?e!==k?g._(/*FBT_CALL*/"I don't want to hear from {name} ({username})"/*FBT_CALL*/,[g._param("name",e),g._param("username",k)]):g._(/*FBT_CALL*/"I don't want to hear from {username}"/*FBT_CALL*/,[g._param("username",k)]):b("MWMessageRequestSharedTexts.bs").getDefaultInfoTextFooter(e),o=i.useRef(null);i.useEffect(function(){b("MessageRequestsLog.bs").logMessageRequestInfoShown(d,f,h)},[]);return i.jsxs(b("MWComposerDisclosureContainer.bs").make,{children:[i.jsx(b("MDSTextPairing.react"),{body:i.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:m}),headline:l,level:4,textAlign:"center"}),i.jsx(b("MWVerticalRhythm.bs").make,{height:5}),i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatDeclineUserMessageRequestDialogForJSResource.react").__setRef("MWLSChatComposerUserMessageRequestInfoText.bs"),dialogProps:{onDeleteConversation:a,otherUserFbid:c,otherUserName:e,otherUserShortName:j,otherUserSecondaryName:k},children:function(a){return i.jsx(b("CometPressable.react"),{ref:o,testid:"mw_user_message_request_info_text_trigger",onPress:function(c){b("MessageRequestsLog.bs").logDenialOptionsTapped(d,f,h);return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,children:i.jsx(b("MDSText.react"),{color:"primary",type:"bodyLink4",children:n})})}})],testid:"mw_user_message_request_info_text"})}c=a;f.make=c}),null);
__d("MWUseAriaDescribedByForComposer.bs",["fbt","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_caml","intlList","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=b("useReStore")(),d=b("MWLSActor.bs").useActor(void 0),e=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("participants")),{hd:a.threadKey,tl:0}),function(a){return b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("contacts")),{hd:a.contactId,tl:0}))})},[c,JSON.stringify(a.threadKey)]));return i.useMemo(function(){var c=a.threadName;if(c!==void 0)return g._(/*FBT_CALL*/"Write to {name of conversation}"/*FBT_CALL*/,[g._param("name of conversation",c)]).toString();var f=[];e.forEach(function(a){if(a!==void 0&&b("bs_caml").i64_neq(a.id,d)){f.push(a.name);return}});c=b("intlList")(f,b("intlList").CONJUNCTIONS.AND,b("intlList").DELIMITERS.COMMA);return g._(/*FBT_CALL*/"Write to {participant list}"/*FBT_CALL*/,[g._param("participant list",c)]).toString()},[JSON.stringify(a.threadKey),JSON.stringify(d)])}f.useHook=a}),null);
__d("MWV2ComposerRoundedCorners.bs",["Locale","react","stylex","useUniqueID"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={roundedCornerTopRight:{fill:"qbubdy2e",position:"pmk7jnqg",top:"kr520xx4",end:"n7fi1qx3",pointerEvents:"hzruof5a"},roundedCornerBottomRight:{fill:"qbubdy2e",position:"pmk7jnqg",bottom:"i09qtzwb",end:"n7fi1qx3",pointerEvents:"hzruof5a"},roundedCornerRtl:{transform:"c3knoul3"},svg:{display:"a8c37x1j"}};function a(a){a=b("useUniqueID")();return i.jsx("div",{className:(h||(h=b("stylex")))(j.roundedCornerTopRight,b("Locale").isRTL()?j.roundedCornerRtl:!1),children:i.jsxs("svg",{width:"18px",height:"18px",className:h(j.svg),children:[i.jsx("defs",{children:i.jsxs("mask",{id:a,children:[i.jsx("rect",{fill:"white",x:"-18",y:"0",width:"36",height:"36"}),i.jsx("circle",{fill:"black",cx:"0",cy:"18",r:"18"})]})}),i.jsx("rect",{x:"0",y:"0",width:"18",height:"18",mask:"url(#"+(a+")")})]})})}d={make:a};function c(a){a=b("useUniqueID")();return i.jsx("div",{className:(h||(h=b("stylex")))(j.roundedCornerBottomRight,b("Locale").isRTL()?j.roundedCornerRtl:!1),children:i.jsxs("svg",{width:"18px",height:"18px",className:h(j.svg),children:[i.jsx("defs",{children:i.jsxs("mask",{id:a,children:[i.jsx("rect",{fill:"white",x:"-18",y:"0",width:"36",height:"36"}),i.jsx("circle",{fill:"black",cx:"0",cy:"0",r:"18"})]})}),i.jsx("rect",{x:"0",y:"0",width:"18",height:"18",mask:"url(#"+(a+")")})]})})}e={make:c};f.styles=j;f.TopRight=d;f.BottomRight=e}),null);
__d("MWChatChatButtonColorConstants.bs",[],(function(a,b,c,d,e,f){"use strict";a={fillGrey:{fill:"crt8y2ji"},strokeGrey:{stroke:"s9lmpwuu"}};f.styles=a}),null);
__d("TetraMWChatComposerIcons.bs",["ix","MWChatChatButtonColorConstants.bs","TetraIcon.react","bs_caml_option","fbicon","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={icon:{display:"a8c37x1j",transitionDuration:"ms05siws",transitionProperty:"hr662l2t",transitionTimingFunction:"b7h9ocf4"},notRotated:{transform:"tftn3vyl"},rotated:{transform:"nrzfhe1q"}};function a(a){var c=a.size,d=a.fill;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;return j.jsx("svg",{x:"0px",y:"0px",viewBox:"0 0 16 16",height:String(c)+"px",width:String(c)+"px",className:(i||(i=b("stylex")))(k.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,a),children:j.jsx("path",{d:"M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z",fill:d,fillRule:"nonzero"})})}a={make:a};function c(a){var c=a.size,d=a.fill;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;return j.jsx("svg",{x:"0px",y:"0px",viewBox:"0 0 17 16",height:String(c)+"px",width:String(c)+"px",className:(i||(i=b("stylex")))(k.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,a),children:j.jsxs("g",{fillRule:"evenodd",children:[j.jsx("circle",{fill:"none",cx:"5.5",cy:"5.5",r:"1"}),j.jsx("circle",{fill:"none",cx:"11.5",cy:"4.5",r:"1"}),j.jsx("path",{d:"M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z",fill:"none"}),j.jsx("path",{d:"M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z",fill:d}),j.jsx("path",{d:"M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fill:d,fillRule:"nonzero"})]})})}c={make:c};function d(a){var c=a.size,d=a.fill;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;var e=d===void 0?(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey):void 0,f=d===void 0?(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.strokeGrey):void 0;return j.jsx("svg",{viewBox:"0 -1 17 17",height:String(c)+"px",width:String(c)+"px",className:(i||(i=b("stylex")))(k.icon,a),children:j.jsxs("g",{fill:"none",fillRule:"evenodd",children:[j.jsx("path",{className:e,d:"M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z",fill:d}),j.jsx("circle",{className:e,fill:d,cx:"8.5",cy:"4.5",r:"1.5"}),j.jsx("path",{className:e,d:"M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z",fill:d}),j.jsx("path",{className:f,d:"M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z",stroke:d,strokeLinecap:"round",strokeLinejoin:"round"})]})})}d={make:d};function e(a){var c=a.size,d=a.fill;a=a.isRotated;return j.jsx("svg",{viewBox:"0 0 24 24",height:String(c)+"px",width:String(c)+"px",className:(i||(i=b("stylex")))(k.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,a?k.rotated:k.notRotated),children:j.jsxs("g",{fillRule:"evenodd",children:[j.jsx("polygon",{fill:"none",points:"-6,30 30,30 30,-6 -6,-6 "}),j.jsx("path",{d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12",fill:d})]})})}e={make:e};function l(a){var c=a.size,d=a.fill;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;var e=d===void 0?(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey):void 0;return j.jsx("svg",{className:(i||(i=b("stylex")))(k.icon,a),height:String(c)+"px",viewBox:"0 0 38 38",width:String(c)+"px",children:j.jsx("g",{fill:"none",fillRule:"evenodd",children:j.jsx("g",{transform:"translate(-893.000000, -701.000000)",children:j.jsx("g",{transform:"translate(709.000000, 314.000000)",children:j.jsx("g",{children:j.jsx("path",{className:e,d:"M210.5,405 C209.121,405 208,403.879 208,402.5 C208,401.121 209.121,400 210.5,400 C211.879,400 213,401.121 213,402.5 C213,403.879 211.879,405 210.5,405 M212.572,411.549 C210.428,413.742 206.938,415 203,415 C199.062,415 195.572,413.742 193.428,411.549 C192.849,410.956 192.859,410.007 193.451,409.428 C194.045,408.85 194.993,408.859 195.572,409.451 C197.133,411.047 199.909,412 203,412 C206.091,412 208.867,411.047 210.428,409.451 C211.007,408.859 211.956,408.85 212.549,409.428 C213.141,410.007 213.151,410.956 212.572,411.549 M195.5,400 C196.879,400 198,401.121 198,402.5 C198,403.879 196.879,405 195.5,405 C194.121,405 193,403.879 193,402.5 C193,401.121 194.121,400 195.5,400 M203,387 C192.523,387 184,395.523 184,406 C184,416.477 192.523,425 203,425 C213.477,425 222,416.477 222,406 C222,395.523 213.477,387 203,387",fill:d})})})})})})}l={make:l};function m(a){var c=a.size,d=a.fill;a=a.xstyle;a!==void 0&&b("bs_caml_option").valFromOption(a);a=d===void 0?(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey):void 0;return j.jsx("svg",{viewBox:"3 2 20 20",height:String(c)+"px",width:String(c)+"px",fill:"none",children:j.jsx("path",{className:a,fillRule:"evenodd",clipRule:"evenodd",d:"M14.307 7.485a5.102 5.102 0 017.205 7.223l-.01.01-4.717 4.583a1 1 0 01-1.394-1.434l4.711-4.578a3.102 3.102 0 00-4.39-4.38l-.018.016-8.094 7.71c-.802.81-.8 2.12.008 2.929.65.65 1.705.65 2.356 0l.01-.01 7.216-7.011a.64.64 0 00-.91-.901l-4.297 4.296a1 1 0 11-1.414-1.415l4.298-4.295A2.64 2.64 0 0118.6 13.96l-.01.011-7.219 7.012a3.666 3.666 0 01-5.178-.005 4.078 4.078 0 010-5.765l.017-.017 8.096-7.711z",fill:d})})}m={make:m};function n(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("528566"),20),color:"primary"})}n={make:n};function o(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("481942"),20),color:"primary"})}o={make:o};function p(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("550096"),20),color:"primary"})}p={make:p};function q(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("624149"),20),color:"primary"})}q={make:q};function r(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("577048"),20),color:"primary"})}r={make:r};function s(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("480625"),20),color:"primary"})}s={make:s};f.styles=k;f.Gif=a;f.Sticker=c;f.Photo=d;f.MoreActions=e;f.Emoji=l;f.PaperclipSVG=m;f.Paperclip=n;f.Pin=o;f.Camera=p;f.Microphone=q;f.Poll=r;f.Currency=s}),null);
__d("MWChatComposerShareFileCallout.bs",["fbt","LSThreadAttributionStore.bs","bs_belt_Option","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","react","useCometCallout","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){return b("bs_belt_Option").mapWithDefault(a,!1,function(a){return b("bs_caml_obj").caml_equal(b("bs_caml_option").nullable_to_opt(b("LSThreadAttributionStore.bs").sources.get(b("bs_int64").to_string(a))),"eventShareClassMaterials")})}function a(a){return j(a)}function k(a,c){return b("useCometCallout")({align:"end",arrowStyle:"edge",label:g._(/*FBT_CALL*/"Choose a file to share with the class group chat"/*FBT_CALL*/),type:"accent",onClose:function(a){return b("bs_curry")._1(c,function(a){return!1})},onHide:function(a){return b("bs_curry")._1(c,function(a){return!1})},position:"above"},a)}function c(a,c,d){var e=j(a);a=b("usePrevious")(e);var f=e&&b("bs_caml_obj").caml_notequal(a==null?void 0:b("bs_caml_option").some(a),!0);a=i.useState(function(){if(e)return c;else return!1});var g=a[1];i.useEffect(function(){c?f&&b("bs_curry")._1(g,function(a){return!0}):f&&(b("bs_curry")._1(d,void 0),setTimeout(function(a){return b("bs_curry")._1(g,function(a){return!0})},250))},[f,d,c]);return k(a[0],g)}f.isOpenedFromSharingEntrypoint=j;f.shouldShowOnLoad=a;f.useCallout=k;f.useHook=c}),null);
__d("MWChatComposerMentionsViewItem.react",["CometImageIcon_DEPRECATED.react","CometSearchMentionsBaseViewItem.react","TetraTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var e=d.handle;e=d.key;e=d.label;var f=d.rawData,g=f.photoURI;f=f.subtitle;return h.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:d,children:h.jsxs("div",{className:"b38knevg j83agx80 bp9cbjyn","data-testid":void 0,children:[g!=null&&h.jsx("div",{className:"ciadx1gn mudddibn",children:h.jsx(c("CometImageIcon_DEPRECATED.react"),{size:28,src:g,style:"circle"})}),h.jsx("div",{className:"ozuftl9m",children:h.jsx(c("TetraTextPairing.react"),{body:e,bodyLineLimit:1,level:3,meta:f,metaLineLimit:1})})]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("remove-accents-0.4.2",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u1ea4":"A","\u1eae":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc6":"AE","\u1ea6":"A","\u1eb0":"A","\u0202":"A","\xc7":"C","\u1e08":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u1ebe":"E","\u1e16":"E","\u1ec0":"E","\u1e14":"E","\u1e1c":"E","\u0206":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u020a":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\u1ed0":"O","\u1e4c":"O","\u1e52":"O","\u020e":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u1ea5":"a","\u1eaf":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe6":"ae","\u1ea7":"a","\u1eb1":"a","\u0203":"a","\xe7":"c","\u1e09":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u1ebf":"e","\u1e17":"e","\u1ec1":"e","\u1e15":"e","\u1e1d":"e","\u0207":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u020b":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\u1ed1":"o","\u1e4d":"o","\u1e53":"o","\u020f":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","C\u0306":"C","c\u0306":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u01f4":"G","\u011d":"g","\u01f5":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0126":"H","\u0127":"h","\u1e2a":"H","\u1e2b":"h","\u0128":"I","\u0129":"i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u1e30":"K","\u1e31":"k","K\u0306":"K","k\u0306":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"l","\u0142":"l","\u1e3e":"M","\u1e3f":"m","M\u0306":"M","m\u0306":"m","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"n","N\u0306":"N","n\u0306":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","P\u0306":"P","p\u0306":"p","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","R\u0306":"R","r\u0306":"r","\u0212":"R","\u0213":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s","\u015e":"S","\u0218":"S","\u0219":"s","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u021b":"t","\u021a":"T","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","T\u0306":"T","t\u0306":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0216":"U","\u0217":"u","V\u0306":"V","v\u0306":"v","\u0174":"W","\u0175":"w","\u1e82":"W","\u1e83":"w","X\u0306":"X","x\u0306":"x","\u0176":"Y","\u0177":"y","\u0178":"Y","Y\u0306":"Y","y\u0306":"y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i","\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u1ee8":"U","\u1ee9":"u","\u1e78":"U","\u1e79":"u","\u01fa":"A","\u01fb":"a","\u01fc":"AE","\u01fd":"ae","\u01fe":"O","\u01ff":"o","\xde":"TH","\xfe":"th","\u1e54":"P","\u1e55":"p","\u1e64":"S","\u1e65":"s","X\u0301":"X","x\u0301":"x","\u0403":"\u0413","\u0453":"\u0433","\u040c":"\u041a","\u045c":"\u043a","A\u030b":"A","a\u030b":"a","E\u030b":"E","e\u030b":"e","I\u030b":"I","i\u030b":"i","\u01f8":"N","\u01f9":"n","\u1ed2":"O","\u1ed3":"o","\u1e50":"O","\u1e51":"o","\u1eea":"U","\u1eeb":"u","\u1e80":"W","\u1e81":"w","\u1ef2":"Y","\u1ef3":"y","\u0200":"A","\u0201":"a","\u0204":"E","\u0205":"e","\u0208":"I","\u0209":"i","\u020c":"O","\u020d":"o","\u0210":"R","\u0211":"r","\u0214":"U","\u0215":"u","B\u030c":"B","b\u030c":"b","\u010c\u0323":"C","\u010d\u0323":"c","\xca\u030c":"E","\xea\u030c":"e","F\u030c":"F","f\u030c":"f","\u01e6":"G","\u01e7":"g","\u021e":"H","\u021f":"h","J\u030c":"J","\u01f0":"j","\u01e8":"K","\u01e9":"k","M\u030c":"M","m\u030c":"m","P\u030c":"P","p\u030c":"p","Q\u030c":"Q","q\u030c":"q","\u0158\u0329":"R","\u0159\u0329":"r","\u1e66":"S","\u1e67":"s","V\u030c":"V","v\u030c":"v","W\u030c":"W","w\u030c":"w","X\u030c":"X","x\u030c":"x","Y\u030c":"Y","y\u030c":"y","A\u0327":"A","a\u0327":"a","B\u0327":"B","b\u0327":"b","\u1e10":"D","\u1e11":"d","\u0228":"E","\u0229":"e","\u0190\u0327":"E","\u025b\u0327":"e","\u1e28":"H","\u1e29":"h","I\u0327":"I","i\u0327":"i","\u0197\u0327":"I","\u0268\u0327":"i","M\u0327":"M","m\u0327":"m","O\u0327":"O","o\u0327":"o","Q\u0327":"Q","q\u0327":"q","U\u0327":"U","u\u0327":"u","X\u0327":"X","x\u0327":"x","Z\u0327":"Z","z\u0327":"z"},b=Object.keys(a).join("|"),c=new RegExp(b,"g"),d=new RegExp(b,"");b=function(b){return b.replace(c,function(b){return a[b]})};var e=function(a){return!!a.match(d)};g.exports=b;g.exports.has=e;g.exports.remove=b}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("remove-accents",["remove-accents-0.4.2"],(function(a,b,c,d,e,f){e.exports=b("remove-accents-0.4.2")()}),null);
__d("MWChatComposerMentionsTypeaheadDataSource",["fbt","CurrentUser","Promise","gkx","remove-accents"],(function(a,b,c,d,e,f,g,h){"use strict";var i=6;a=function(){function a(a,b){this.$1=[],this.$1=Array.from(a.values()).filter(function(a){return a.contactId!==c("CurrentUser").getID()}),this.$2=b}var d=a.prototype;d.bootstrap=function(){return};d.fetchCache=function(a){var b=this,d=a.query,e=[];this.$1.forEach(function(a){var c=a.actualName,f=a.contactId,g=a.nickname,h=a.profilePictureUrl;a=a.secondaryName;var i=null;a!=null&&b.$3(a,d)?i="secondaryName":b.$3(c,d)?i="name":g!=null&&b.$3(g,d)&&(i="nickname");if(i!=null&&h!=null){var j;e.push({decorType:"regular",handle:(j=a)!=null?j:i==="nickname"?(j=g)!=null?j:c:c,key:f+" "+i,label:c,rawData:{photoURI:h,source:i,subtitle:(j=a)!=null?j:g}})}});if(c("gkx")("1608686")){var f=h._(/*FBT_CALL*/"everyone"/*FBT_CALL*/).toString();if(this.$3(f,d)){var g=h._(/*FBT_CALL*/"Mention everyone in this chat"/*FBT_CALL*/).toString();e.push({decorType:"regular",handle:f,key:""+this.$2,label:f,rawData:{source:"all",subtitle:g}})}f=h._(/*FBT_CALL*/"here"/*FBT_CALL*/).toString();if(this.$3(f,d)){g=h._(/*FBT_CALL*/"Mention everyone in this chat who is active"/*FBT_CALL*/).toString();e.push({decorType:"regular",handle:f,key:this.$2+"-active",label:f,rawData:{source:"all",subtitle:g}})}}e.length>i&&(e=e.slice(0,i));return{entries:e,params:a}};d.fetchNetwork=function(a){return b("Promise").resolve(this.fetchCache(a))};d.$3=function(a,b){if(b.length===0)return!0;var d=c("remove-accents")(b).toLowerCase();b=c("remove-accents")(a).toLowerCase();return b.split(" ").some(function(a){return a.startsWith(d)})||b.startsWith(d)};return a}();g["default"]=a}),98);
__d("useMWChatMentionsDataSourceResolverConfig",["MWChatComposerMentionsTypeaheadDataSource","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","react","useCometMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=a.participants,d=a.threadFBID;a=h(function(){return[{dataSource:new(c("MWChatComposerMentionsTypeaheadDataSource"))(b,d),matchStrategy:c("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[b,d]);return c("useCometMentionsDataSourceResolverConfig")(a,!0)}g["default"]=a}),98);
__d("MWChatUnavailableComposer.bs",["fbt","MDSText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{borderTop:"opwvks06",color:"m9osqain",marginTop:"n1l5q3vz",paddingTop:"l29c1vbm",paddingEnd:"dpri0uem",paddingBottom:"j1kv9ji2",paddingStart:"pcu7st4i"}};function a(a){a=g._(/*FBT_CALL*/"This person is unavailable on Messenger."/*FBT_CALL*/);return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:a})})}c=a;f.styles=k;f.make=c}),null);
__d("MWVersion.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];f.v1=a;f.v2=c}),null);
__d("MessagingLoggingUtils.bs",["MessagingAttachmentType.bs","MessagingLoggingUtilsAttachmentTypeInt.bs","bs_caml"],(function(a,b,c,d,e,f){"use strict";function a(a){if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").none))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").none;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").sticker))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").sticker;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").image))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").image;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").animatedImage))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").gif;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").video))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").video;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").audio))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").audio;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").file))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").application;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").xma))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").share;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").ephemeralImage))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").image;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").ephemeralVideo))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").videoMessage;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").selfieSticker))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").selfieSticker;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").soundBite))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").soundBite;else return b("MessagingLoggingUtilsAttachmentTypeInt.bs").none}f.convertToAttachmentType=a}),null);
__d("MWChatTextFormatting",["$InternalEnum","MessengerFormattingConfig","TetraText.react","UnicodeUtils","cr:1695543","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("$InternalEnum").Mirrored(["CodeBlock","InlineCode","BlockQuote","InlineQuote","Bold","Italics","StrikeThrough"]);function j(a){var b,d=function(a){return a[2]},e=1,f=!0,g=function(a){return!0};switch(a){case i.Bold:b=c("MessengerFormattingConfig").boldConfig.pattern;break;case i.Italics:b=c("MessengerFormattingConfig").italicConfig.pattern;break;case i.StrikeThrough:b=c("MessengerFormattingConfig").strikethroughConfig.pattern;break;case i.InlineCode:b=c("MessengerFormattingConfig").codeConfig.pattern;break;case i.BlockQuote:b=c("MessengerFormattingConfig").blockQuoteConfig.pattern;f=!1;break;case i.InlineQuote:g=function(a){return a.trim()!==">"};b=c("MessengerFormattingConfig").singleInlineBlockQuoteConfig.pattern;f=!1;break;case i.CodeBlock:d=function(a){var b;return(b=a[4])!=null?b:a[5]};b=c("MessengerFormattingConfig").codeBlockV2Config.pattern;f=!1;break}if(b==null)throw c("unrecoverableViolation")("No formatting config found for given format","messenger_comet");return{getCleanText:d,hasClosingTag:f,regExp:new RegExp(b,"gm"),tagIndex:e,validator:g}}var k=[i.CodeBlock,i.InlineCode,i.BlockQuote,i.InlineQuote,i.Bold,i.Italics,i.StrikeThrough];function a(a,d){switch(d.format){case i.Bold:return h.jsx("b",{children:d.text});case i.Italics:return h.jsx("i",{children:d.text});case i.StrikeThrough:return h.jsx("strike",{children:d.text});case i.CodeBlock:return h.jsx("div",{className:"ii04i59q b3onmgus e5nlhep0 ph5uu5jm ecm0bbzt l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 b3i9ofy5",children:h.jsx(c("TetraText.react"),{type:"body4",children:h.jsx("code",{children:d.text})})});case i.InlineCode:return h.jsx("code",{className:"",children:d.text});case i.BlockQuote:case i.InlineQuote:return h.jsx(b("cr:1695543"),{children:d.text})}}a.displayName=a.name+" [from "+f.id+"]";function e(a,d){switch(d.format){case i.Bold:return h.jsx("b",{children:d.text});case i.Italics:return h.jsx("i",{children:d.text});case i.StrikeThrough:return h.jsx("strike",{children:d.text});case i.CodeBlock:return h.jsx("div",{className:"ii04i59q b3onmgus e5nlhep0 ph5uu5jm ecm0bbzt l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 b3i9ofy5",children:h.jsx(c("TetraText.react"),{type:"body4",children:h.jsx("code",{children:d.text})})});case i.InlineCode:return h.jsx("code",{className:"",children:d.text});case i.BlockQuote:case i.InlineQuote:return h.jsx(b("cr:1695543"),{children:d.text})}}e.displayName=e.name+" [from "+f.id+"]";function l(a){var b=[];k.forEach(function(c){var e=j(c),f=e.getCleanText,g=e.hasClosingTag,h=e.regExp,i=e.tagIndex;e=e.validator;var k;if(!e(a))return;e=function(){if(k==null)return"break";var e=d("UnicodeUtils").substr(a,0,k.index);e=e.length-d("UnicodeUtils").strlen(e);var h=k.index-e,j=k[0].length;g&&(h+=k[i].length,j-=k[i].length);e=function(a){var b=h+j,c=a.offset+a.length;return b>a.offset&&h<c};var l=f(k);if(!b.find(e)){if(b.length>0){e=b[b.length-1];if(e.entity.format===c&&e.offset+e.length+1===h){e.entity.text+="\n"+l;e.length+=j+1;return"continue"}}b.push({entity:{__typename:"MessengerTextFormatting",format:c,text:l},length:j,offset:h})}};_loop:while((k=h.exec(a))!=null){var l=e();switch(l){case"break":break _loop;case"continue":continue}}});return b}g.messageRenderer=a;g.replyRenderer=e;g.getFormattingRanges=l}),98);
__d("MWChatReplyText.bs",["CometTextWithEntities.react","MWChatTextFormatting","MWChatTextTransform.bs","bs_caml_option","bs_curry","cr:385","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={replyToText:{color:"m9osqain"}};function a(a){var c=a.text;a=a.ranges;var d={};d.MessengerTextFormatting=[b("MWChatTextFormatting").replyRenderer];c=b("cr:385")==null?c:b("bs_curry")._1(b("cr:385").unvault,c);c={maxLength:120,maxLines:2,truncationStyle:"ellipsis-only",withParagraphs:!1,text:c,renderers:d,transforms:b("MWChatTextTransform.bs").epdTextTransformsNoVault};a!==void 0&&(c.ranges=b("bs_caml_option").valFromOption(a));d=i.jsx(b("CometTextWithEntities.react"),c);return i.jsx("div",{dir:"auto",className:(h||(h=b("stylex")))(j.replyToText),children:d})}c=a;f.styles=j;f.$MAWVault$requireCond=b("cr:385");f.make=c}),null);
__d("MWV2UseAreThreadContactsDualSendEligible.bs",["LSInt64.bs","LSWhatsAppConnectStatus.bs","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){if(a!==void 0)if(b("bs_caml").i64_eq(a.waConnectStatus,b("LSWhatsAppConnectStatus.bs").whatsappDualSendWebEligible))return!0;else return b("bs_caml").i64_eq(a.waConnectStatus,b("LSWhatsAppConnectStatus.bs").whatsappDualSendXappEligible);else return!1}function j(a){var c=b("useReStore")(),d=b("MWLSActor.bs").useActor(void 0),e=b("ReQLSubscription.bs").useArray(h.useMemo(function(){if(a!==void 0){var e;return(e=b("ReQL.bs")).filter(e.map(e.leftJoin(e.getKeyRange(e.fromTableAscending(c.table("participants")),{hd:a,tl:0}),e.fromTableAscending(c.table("contacts"))),function(a){return a[1]}),function(a){if(a!==void 0)return b("bs_caml").i64_neq(a.id,d);else return!1})}else return b("SortedAsyncIterable.bs").empty(void 0)},[c,b("bs_belt_Option").map(a,b("LSInt64.bs").string)]));return h.useMemo(function(){return e.filter(i)},[e,b("bs_belt_Option").map(a,b("LSInt64.bs").string)])}function a(a){return j(a).length>0}f.useEligibleContacts=j;f.useHook=a}),null);
__d("MAWDualSendPermissionsManager.bs",["MAWDualSendSimplePermissionsManager.bs","MWV2UseAreThreadContactsDualSendEligible.bs","MessagingThreadType.bs","bs_caml","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){if(b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").oneToOne))return b("bs_caml").i64_neq(a,b("MessagingThreadType.bs").secureMessageOverWaOneToOne);else return!1}function j(a){if(b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").group))return b("bs_caml").i64_neq(a,b("MessagingThreadType.bs").secureMessageOverWaGroup);else return!1}function k(a,c){if(i(a)&&c===1)return[b("MAWDualSendSimplePermissionsManager.bs").isDualSendUser(void 0),b("MAWDualSendSimplePermissionsManager.bs").isDualSendMediaUser(void 0)];else if(j(a)&&c>0)return[b("MAWDualSendSimplePermissionsManager.bs").isGroupDualSendTextUser(void 0),b("MAWDualSendSimplePermissionsManager.bs").isGroupDualSendMediaUser(void 0)];else return[!1,!1]}function l(a,c,d){var e=b("MWV2UseAreThreadContactsDualSendEligible.bs").useEligibleContacts(c);d=k(d,e.length);var f=d[1],g=d[0];return h.useMemo(function(){if(a==="media")return f;else return g},[c,g,f,a])}function a(a,b){var c=l("text",a,b),d=l("media",a,b);return h.useMemo(function(){if(c)return!0;else return d},[a,b])}f.usePermission=l;f.useIsThreadEligible=a}),null);
__d("MWChatHotLikeEmitterContext.bs",["MWChatHotlikeEmitter.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("MWChatHotlikeEmitter.bs").createEmitter(void 0),j=h.createContext(i);function a(a){a=a.children;return h.createElement(j.Provider,{value:i,children:a})}d={make:a};function c(a){return h.useContext(j)}f.emitter=i;f.context=j;f.Provider=d;f.useHook=c}),null);
__d("MWChatUseLatch.bs",["cr:361"],(function(a,b,c,d,e,f){"use strict";a=b("cr:361").useLatch;f.$MWLSUseLatch$OR$WorkplaceMSUseLatch$requireCond=b("cr:361");f.useLatch=a}),null);
__d("MWLSUseLatch.bs",["CometThrottle","Run","bs_curry","debounce","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("CometThrottle");function a(a,c,d){var e=c!==void 0?c:!1;h.useEffect(function(){if(!e)return;var c=b("Run").onUnload(function(c){return b("bs_curry")._1(a,!1)});return function(a){return c.remove()}},[e,a]);return h.useMemo(function(){var c={contents:!1},e=b("debounce")(function(d){if(!c.contents)return b("bs_curry")._1(a,!1)},d|0),f=i(function(c){return b("bs_curry")._1(a,!0)},3e3,{leading:!0,trailing:!1}),g=function(d){b("bs_curry")._1(a,!1),c.contents=!0},h=function(a){b("bs_curry")._1(f,void 0);return e(void 0)};return[h,g]},[a,d])}f.throttle=i;f.useLatch=a}),null);
__d("LSNullstateCTAType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.none=a;f.getStarted=c;f.icebreaker=d;f.privacyDisclosure=e}),null);
__d("MWV2ComposerDisclosure.bs",["CometErrorBoundary.re","CometPlaceholder.react","FBID.bs","LS.bs","LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticRemoveParticipantsFromGroupThread","LSOptimisticRemoveThread","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSThreadRemoveType.bs","LSTransaction.bs","LSVec.bs","LsMessageRequestsActions.bs","LsSystemFolder.bs","MWChatComposerGroupMessageRequestInfoText.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWComposerXacDisclosureRelay.react","MWLSActor.bs","MWLSChatComposerUserMessageRequestInfoText.bs","MWLSContactTypeExactUtils.bs","MWLSThreadDisplayContext.bs","MWLSThreadFolder.bs","MessageRequestsLog.bs","MessagingThreadType.bs","bs_caml","bs_caml_int64","bs_curry","bs_int64","cr:958","gkx","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=b("useReStore")(),d=b("MWLSActor.bs").useActor(void 0);return h.useCallback(function(e){b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("LSOptimisticRemoveParticipantsFromGroupThread")(a.threadKey,b("LSVec.bs").make([d]),b("LS.bs").make(c))},"readWrite"),void 0,void 0)},[JSON.stringify(a.threadKey)])}function j(a){var c=a.thread,d=a.participantsAndContacts;a=a.forceVoiceIndicatorShown_TEST_ONLY;var e=b("useReStore")(),f=b("MWChatStateV2.bs").useDispatch(void 0),g=b("MWLSThreadDisplayContext.bs").useHook(void 0);g=g===1?"large":"small";var j=i(c),k=b("MWLSThreadFolder.bs").useHook(void 0),l=k==="pending"?b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").pending):b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").other),m=c.threadType,n=c.threadKey,o=h.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(e,function(a){return b("LSOptimisticRemoveThread")(n,b("LSThreadRemoveType.bs").deleteThread,b("LS.bs").make(a))},"readWrite"),function(a){return b("bs_curry")._1(f,b("MWChatStateActions.bs").closeTabByThreadKey(Date.now(),n))},void 0)},[b("bs_int64").to_string(n),e]);k=h.useCallback(function(a){b("MessageRequestsLog.bs").logActionConfirmed(b("bs_int64").to_string(n),b("bs_caml_int64").to_int32(m),l,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").$$delete));return b("bs_curry")._1(o,void 0)},[o,b("bs_int64").to_string(n),b("bs_int64").to_string(m),l]);var p=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").messageRequestComposerBanner,c),q=b("LSMessagingThreadTypeUtil.bs").isGroup(m),r=h.useMemo(function(){return d.some(function(a){return b("MWLSContactTypeExactUtils.bs").isIgContact(a[1])})},[d]);if(p)if(q)p=h.jsx(b("MWChatComposerGroupMessageRequestInfoText.bs").make,{onDeleteConversation:k,onLeaveGroup:function(a){b("MessageRequestsLog.bs").logActionConfirmed(b("bs_int64").to_string(n),b("bs_caml_int64").to_int32(b("MessagingThreadType.bs").group),l,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").leaveGroup));return b("bs_curry")._1(j,void 0)},isGXAC:r});else{q=b("FBID.bs").ofStringExn(b("bs_int64").to_string(n));p=h.jsx(b("MWLSChatComposerUserMessageRequestInfoText.bs").make,{fbid:q,onDeleteConversation:k})}else p=r&&b("gkx")("1839788")?h.jsx(b("MWComposerXacDisclosureRelay.react"),{isThreadInNullState:b("bs_caml").i64_lt(c.authorityLevel,b("LSAuthorityLevel.bs").authoritative),size:g}):null;return h.jsxs(h.Fragment,{children:[b("cr:958")==null?null:h.jsx(b("cr:958").make,{forceShown_TEST_ONLY:a}),p]})}c={make:j};function a(a){var c=a.thread,d=a.participantsAndContacts;a=a.forceVoiceIndicatorShown_TEST_ONLY;a=a!==void 0?a:!1;return h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:h.jsx(b("CometPlaceholder.react"),{children:h.jsx(j,{thread:c,participantsAndContacts:d,forceVoiceIndicatorShown_TEST_ONLY:a}),fallback:null})})}d=a;f.useLeaveGroup=i;f.$MWChatComposerVoiceIndicator$requireCond=b("cr:958");f.Impl=c;f.make=d}),null);
__d("MWV2DisabledPageComposer.bs",["fbt","ix","CometLazyPopoverTrigger.react","FBID.bs","JSResource","LS.bs","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSOptimisticSendMessage","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","MWLSActor.bs","MWLSThreadDisplayContext.bs","MessagingThreadType.bs","TetraButton.react","bs_curry","bs_int64","fbicon","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a){var c=b("useReStore")(),d=b("MWLSActor.bs").useActor(void 0);a=b("MWLSThreadDisplayContext.bs").useHook(void 0);var e=a!==void 0?a===1?"inboxInThread":a===0?"chatInThread":"unknown":"unknown";return j.useCallback(function(a){return function(f,g){var h=b("LSTransaction.bs").run(c,function(c){var h=b("LSThreadAttributionStore.bs").getSource(e,b("bs_int64").to_string(a));h=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(h);return b("LSOptimisticSendMessage")(d,a,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,f,f,!1,void 0,void 0,void 0,void 0,h,void 0,g,void 0,b("LSMessageReplySourceType.bs").message,b("LSMessageReplySourceTypeV2.bs").message,void 0,void 0,void 0,!0,!0,void 0,void 0,void 0,b("LS.bs").make(c))},"readWrite");b("promiseDone")(h,void 0,void 0)}},[c,d])}function a(a){a=a.thread;var c=k(void 0),d=a.threadKey,e=function(a){var e=a.title;a=a.id;return b("bs_curry")._3(c,d,e,a)};return j.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("LSComposerPersistentMenu.react").__setRef("MWV2DisabledPageComposer.bs"),popoverProps:{onClose:function(a){},onSelect:e,pageId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.threadKey))},align:"middle",children:function(a,c,d,e,f,i,k){return j.jsx("div",{className:"tw6a2znq f10w8fjw d1544ag0 pybr56ya pcgkmkmd qzhwtbm6 j83agx80",ref:a,children:j.jsx(b("TetraButton.react"),{icon:b("fbicon")._(h("512878"),20),label:g._(/*FBT_CALL*/"Menu"/*FBT_CALL*/),onPress:function(a){return b("bs_curry")._1(c,void 0)},reduceEmphasis:!0})})}})}c=a;f.make=c}),null);
__d("MWV2ErrorComposer.bs",["fbt","MDSText.react","MDSTextPairing.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{borderTop:"l6v480f0",backgroundColor:"nred35xi",paddingEnd:"s90ymo97",paddingStart:"geeej9ta",paddingTop:"jktsbyx5",paddingBottom:"osnr6wyh"}};function a(a){return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("MDSTextPairing.react"),{meta:j.jsx(b("MDSText.react"),{type:"meta3",numberOfLines:2,children:g._(/*FBT_CALL*/"This may be because of a technical error we're working to fix."/*FBT_CALL*/)}),headline:g._(/*FBT_CALL*/"Something isn't working."/*FBT_CALL*/),level:4,textAlign:"center",reduceEmphasis:!0,headlineColor:"secondary"})})}c=a;f.styles=k;f.make=c}),null);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";a={getRanges:function(a){var b=[],c=0;a.getEditorState().read(function(){var a=d("Lexical").$getRoot().getFirstChild();a instanceof d("Lexical").ElementNode&&a.getChildren().forEach(function(a){if(d("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(a)){var e=a.getEntity();b.push({id:e.id,length:a.getTextContent().length,offset:c,type:"p"})}c+=a.getTextContent().length})});return b}};b=a;g["default"]=b}),98);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","mlcErrorHandler"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("Lexical").createEditor({nodes:[d("MessengerLexicalActorNode").MessengerLexicalActorNode,d("CometLexicalEmojiNode").EmojiNode],onError:function(b){return c("mlcErrorHandler")(b,a,function(a){c("FBLogger")("messenger_web_product").catching(b).mustfix("Lexical Error MWP \u2013 "+a)})},theme:babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"kvgmc6g5 oygrvhab"})});return a}g["default"]=a}),98);
__d("useMWPCometComposerPrepopulateDraftMessage",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(a,b){h(function(){var c=b.current;if(c==null)return;a.update(function(){if(b!=null){var a=d("Lexical").$getRoot(),e=a.getFirstChild();d("Lexical").$isParagraphNode(e)||(e=d("Lexical").$createParagraphNode(),a.append(e));a=d("Lexical").$createTextNode(c);e.append(a);a.select()}})},[a,b])}g["default"]=a}),98);
__d("useMWPLexicalClearEditor",["Lexical","MLCCommandListenerPriority","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(a){h(function(){return a.registerCommand("clearEditor",function(){a.update(function(){var a=d("Lexical").$getRoot(),b=d("Lexical").$getSelection(),c=d("Lexical").$createParagraphNode();a.clear();a.append(c);b!==null&&c.select()});return!0},c("MLCCommandListenerPriority").EDITOR)},[a])}g["default"]=a}),98);
__d("MWPComposerEditor.bs",["DEPRECATED_useLexicalPlainText","LS.bs","LSTransaction.bs","LSUpdateDraftMessage","LexicalText","MWChatFocusComposerContext.bs","MWChatUseLatch.bs","MWV2ChatComposerGetViewContent","MWV2ComposerHasContentContext.bs","MWV2IsTabFocusedContext.bs","MWV2ReplyContext.bs","bs_caml_obj","bs_caml_option","bs_curry","cr:11463","mwpLexicalCreateEditor","promiseDone","react","useCometLexicalCommitMessageOnEnter","useDebounced","useLexicalIsTextContentEmpty","useMWPCometComposerPrepopulateDraftMessage","useMWPLexicalClearEditor","usePrevious","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){h.useEffect(function(){b("bs_curry")._1(c,a.getEditorState())},[a,c]),h.useEffect(function(){return a.registerUpdateListener(function(a){return b("bs_curry")._1(c,a.editorState)})},[c,a])}function j(a,c){c=b("bs_curry")._3(b("MWChatUseLatch.bs").useLatch,c,!0,5e3);var d=c[1],e=c[0],f=h.useRef("");h.useEffect(function(){var c=function(a){a=a.editorState.read(function(a){return b("LexicalText").$rootTextContentCurry()});if(a!==f.current){f.current=a;if(a==="")return b("bs_curry")._1(d,void 0);else return b("bs_curry")._1(e,void 0)}};return a.registerUpdateListener(c)},[e,d,a])}function k(a){var c=b("useReStore")();return h.useCallback(function(d){b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("LSUpdateDraftMessage")(a.threadKey,d,b("LS.bs").make(c))},"readWrite"),void 0,void 0)},[c,JSON.stringify(a.threadKey)])}function l(a){var c=b("MWV2ReplyContext.bs").useContext(void 0),d=c.reply,e=b("usePrevious")(d);h.useEffect(function(){var c=e==null?d!==void 0:b("bs_caml_obj").caml_notequal(e,d)?!0:!1;c&&a.focus(function(a){})},[a,d,e==null?void 0:b("bs_caml_option").some(e)])}var m=b("cr:11463")==null?function(a){}:b("cr:11463").useHook;function a(a){var c=a.thread,d=a.isPreviewThread,e=a.mediaStaging,f=a.onSendMessage,g=a.onSendEmptyMessage,n=a.onTypingStateChanged,o=a.isSendDisabled;a=a.children;var p=o!==void 0?o:!1;o=c.draftMessage;var q=h.useRef(null);o=h.useRef(o);b("bs_curry")._1(m,q.current);var r=h.useMemo(function(){return b("mwpLexicalCreateEditor")()},[]),s={contents:function(a){return r.dispatchCommand("clearEditor")}},t=k(c),u=b("useDebounced")(t,2e3,void 0),v=h.useRef(void 0);c=b("MWV2ComposerHasContentContext.bs").useContext(void 0);var w=c.shouldClearDraftMessageRef,x=c.hasContentRef;h.useEffect(function(){return function(a){if(w!==void 0&&w.current)return b("bs_curry")._1(t,"");a=v.current;if(a!==void 0)return b("bs_curry")._1(t,a)}},[]);c=h.useCallback(function(a){a=a.read(function(a){return b("LexicalText").$rootTextContentCurry()});v.current=a;x!==void 0&&(x.current=a!=="");return u(a)},[r,t]);i(r,c);j(r,n);c=b("useLexicalIsTextContentEmpty")(r);n=e.length>0;var y=!c||n;e=h.useContext(b("MWChatFocusComposerContext.bs").context);var z=e.setFocusComposer;h.useEffect(function(){b("bs_curry")._1(z,function(a){return r.focus(function(a){})})},[r]);var A=b("MWV2IsTabFocusedContext.bs").useContext(void 0);h.useEffect(function(){A&&!d&&r.focus(function(a){})},[r,A,d]);l(r);b("useMWPCometComposerPrepopulateDraftMessage")(r,o);var B=function(a,c,d,e,g,h,i,j,k,l){b("bs_curry").app(f,[a,c,d,e,g,h,i,j,k,void 0,void 0]);return r.focus(function(a){})};c=h.useCallback(function(a){if(p)return;if(y){a=b("MWV2ChatComposerGetViewContent").getRanges(r);var c=r.getEditorState();c=c.read(function(a){return b("LexicalText").$rootTextContentCurry()});B(c,a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}else b("bs_curry")._1(g,void 0);v.current="";return b("bs_curry")._1(s.contents,void 0)},[r,B,y,p]);b("useCometLexicalCommitMessageOnEnter")(r,c);b("DEPRECATED_useLexicalPlainText")(r);b("useMWPLexicalClearEditor")(r);return b("bs_curry")._4(a,r,y,q,c)}c=a;f.$MWUseKeyCommandsForComposer$OR$null$requireCond=b("cr:11463");f.make=c}),null);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743878");c=b("FalcoLoggerInternal").create("ls_reply_rendered",a);e.exports=c}),null);
__d("MWV2ComposerReplyView.bs",["fbt","ix","CometErrorBoundary.re","CometTriggerAccessibilityAlertContext","LSContactGenderToGenderConst.bs","LsFalcoEventEntryPoint.bs","LsReplyRenderedFalcoEvent","MDSText.react","MDSTextPairing.react","MWChatReplyText.bs","MWLSActor.bs","MWV2ReplyContext.bs","MessagingAttachmentType.bs","ReQL.bs","ReQLSuspense","TetraIcon.react","bs_belt_Option","bs_caml","bs_caml_obj","bs_curry","bs_int64","fbicon","getFBTSafeGenderFromGenderConst","react","stylex","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={container:{borderTop:"l6v480f0",backgroundColor:"nred35xi",paddingEnd:"oj5qckz4",paddingStart:"lb8aey2d",paddingTop:"jktsbyx5",paddingBottom:"pby63qed",display:"j83agx80",justifyContent:"i1fnvgqd",alignItems:"ll8tlv6m"},message:{marginEnd:"o3lre8g0"}};function m(a){var c=a.message,d=b("useReStore")();a=b("MWLSActor.bs").useActor(void 0);a=b("bs_caml").i64_eq(c.senderId,a);var e=b("ReQLSuspense").first(k.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("contacts")),{hd:c.senderId,tl:0})},[d,JSON.stringify(c.senderId)])),f=b("ReQLSuspense").first(k.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("attachments")),{hd:c.threadKey,tl:{hd:c.messageId,tl:0}})},[d,c.messageId,JSON.stringify(c.threadKey)]));k.useEffect(function(){b("LsReplyRenderedFalcoEvent").log(function(){return{funnel:{entry_point:b("LsFalcoEventEntryPoint.bs").messageActions}}})},[]);f=c.isUnsent?g._(/*FBT_CALL*/"Removed message"/*FBT_CALL*/):c.text!==void 0&&b("bs_caml_obj").caml_notequal(c.text,"")?k.jsx(b("MWChatReplyText.bs").make,{text:b("bs_belt_Option").getWithDefault(c.text,g._(/*FBT_CALL*/"Message"/*FBT_CALL*/))}):f!==void 0?b("bs_caml").i64_eq(f.attachmentType,b("MessagingAttachmentType.bs").image)?g._(/*FBT_CALL*/"Image"/*FBT_CALL*/):b("bs_caml").i64_eq(f.attachmentType,b("MessagingAttachmentType.bs").sticker)?g._(/*FBT_CALL*/"Sticker"/*FBT_CALL*/):b("bs_caml").i64_eq(f.attachmentType,b("MessagingAttachmentType.bs").video)?g._(/*FBT_CALL*/"Video"/*FBT_CALL*/):b("bs_caml").i64_eq(f.attachmentType,b("MessagingAttachmentType.bs").animatedImage)?g._(/*FBT_CALL*/"GIF"/*FBT_CALL*/):g._(/*FBT_CALL*/"Attachment"/*FBT_CALL*/):g._(/*FBT_CALL*/"Message"/*FBT_CALL*/);if(a)a=g._(/*FBT_CALL*/"Replying to yourself"/*FBT_CALL*/);else if(e!==void 0){var h=e.firstName;a=g._(/*FBT_CALL*/{"*":"Replying to {name}"}/*FBT_CALL*/,[g._param("name",k.jsx(b("MDSText.react"),{type:"bodyLink4",children:h!==void 0?h:e.name}),[1,b("getFBTSafeGenderFromGenderConst")(b("LSContactGenderToGenderConst.bs").make(e.gender))])])}else a=g._(/*FBT_CALL*/"Replying to {Placeholder for an unknown user}"/*FBT_CALL*/,[g._param("Placeholder for an unknown user","Facebook User")]);return k.jsx("div",{className:(j||(j=b("stylex")))(l.message),children:k.jsx(b("MDSTextPairing.react"),{body:k.jsx(k.Fragment,{children:k.jsx(b("MDSText.react"),{type:"body4",children:a})}),meta:f,level:3})})}d={make:m};function a(a){var c=a.message;a=k.useContext(b("MWV2ReplyContext.bs").context);var d=a.clearReply,e=k.useContext(b("CometTriggerAccessibilityAlertContext"));return k.jsxs("div",{className:(j||(j=b("stylex")))(l.container),"data-testid":"mw_composer_reply_view",children:[k.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return k.jsx(b("MDSText.react"),{type:"body4",children:g._(/*FBT_CALL*/"Replying to message"/*FBT_CALL*/)})},children:k.jsx(m,{message:c})}),k.jsx(b("TetraIcon.react"),{"aria-label":g._(/*FBT_CALL*/"Cancel reply"/*FBT_CALL*/),icon:b("fbicon")._(h("478231"),12),onPress:function(a){b("bs_curry")._2(d,c.threadKey,!0);return b("bs_curry")._2(e,g._(/*FBT_CALL*/"Replying to message has been cancelled."/*FBT_CALL*/).toString(),{assertive:!1})},color:"primary"})]})}var n=k.memo(a);e={make:n};function c(a){var c=a.thread,d=a.messageId,e=a.messageTimestamp,f=b("useReStore")();a=b("ReQLSuspense").first(k.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(f.table("messages")),{hd:c.threadKey,tl:{hd:e,tl:{hd:d,tl:0}}})},[f,b("bs_int64").to_string(c.threadKey),d,JSON.stringify(e)]));if(a!==void 0)return k.jsx(n,{message:a});else return null}a=c;f.styles=l;f.Inner=d;f.Container=e;f.make=a}),null);
__d("messengerMentionsLexicalCreateNodeStrategy",["MessengerLexicalActorNode","cometBaseMentionsLexicalCreateNodeStrategy"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){var b=a.id;a=a.text;return d("MessengerLexicalActorNode").createMessengerLexicalActorNode({id:b,text:a})});b=a;g["default"]=b}),98);
__d("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","MWChatComposerMentionsViewItem.react","messengerMentionsLexicalCreateNodeStrategy","react","useMWChatMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b=a.editor,d=a.participants,e=a.threadFBID;a=i(function(){return{participants:d,threadFBID:e}},[d,e]);a=c("useMWChatMentionsDataSourceResolverConfig")(a);return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:a,editor:b,position:"above",viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessengerComposerInner.react",["fbt","CometLexicalContentEditable.react","CometLexicalPlaceholder.react","DEPRECATED_useLexicalCanShowPlaceholder","MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react","cr:2012305","react","requireDeferred","stylex","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k=c("requireDeferred")("CometMessengerHandlePastedFileComposerPlugin").__setRef("CometMessengerComposerInner.react"),l={container:{backgroundColor:"b3i9ofy5",borderTopStartRadius:"orhb3f3m",borderTopEndRadius:"czkt41v7",borderBottomEndRadius:"fmqxjp7s",borderBottomStartRadius:"emzo65vh",boxSizing:"rq0escxv",flexGrow:"buofh1pr",minWidth:"hpfvmrgz"},editor:{flexGrow:"buofh1pr",maxHeight:"tw4czcav",minHeight:"cehpxlet",minWidth:"hpfvmrgz",overflowY:"eg9m0zos"},editorWrapper:{display:"j83agx80",flexGrow:"buofh1pr",marginEnd:"nhadk0th",marginStart:"ozuftl9m",marginTop:"aov4n071",marginBottom:"bi6gxh9e",minWidth:"hpfvmrgz",position:"l9j0dhe7"},inputRow:{display:"j83agx80",flexWrap:"lhclo0ds",justifyContent:"bkfpd7mw"}};function m(a,c){b("cr:2012305")!==null&&a!=null&&b("cr:2012305").trackTypingPerf(a,"MWChatComposer",c,{editor:"OutlineEditor"})}var n=h._(/*FBT_CALL*/"Message"/*FBT_CALL*/).toString();function a(a){var b=a.ariaDescribedBy,d=a.contentEditableRef,e=a.editor,f=a.endContent,g=a.handlePastedFiles,h=a.participants,o=a.startContent,p=a.testId,q=a.threadID,r=a.topContent;a=a.useMentionsPlugin;var s=j(function(a){var b=d.current;if(a==null||b===a)return;d.current=a;e.setRootElement(a);m(a,b)},[d,e]),t=c("DEPRECATED_useLexicalCanShowPlaceholder")(e),u=c("useDeferredModuleOnReady")(k);return i.jsxs("div",{className:c("stylex")(l.container),children:[r,i.jsxs("div",{className:c("stylex")(l.inputRow),children:[o,i.jsxs("div",{className:c("stylex")(l.editorWrapper),children:[i.jsx(c("CometLexicalContentEditable.react"),{ariaDescribedBy:b,ariaLabel:n,contentEditableRef:s,editor:e,spellCheck:!0,tabIndex:0,webDriverTestID:p,xstyle:l.editor}),t&&i.jsx(c("CometLexicalPlaceholder.react"),{children:"Aa"})]}),f]}),a&&i.jsx(c("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react"),{editor:e,participants:h,threadFBID:q}),u==null?null:i.jsx(u,{editor:e,handlePastedFiles:g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatComposerShareFileCallout.bs",["MWChatComposerShareFileCallout.bs","bs_belt_Option","bs_caml_obj","bs_caml_option","bs_curry","react","usePrevious"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("MWChatComposerShareFileCallout.bs").isOpenedFromSharingEntrypoint(a);a=h.useState(function(){return d});var e=a[1];h.useEffect(function(){d&&b("bs_curry")._1(e,function(a){return!0})},[d]);var f=b("usePrevious")(c);f=f==null?void 0:b("bs_caml_option").some(f);var g=b("bs_belt_Option").isSome(f)&&b("bs_caml_obj").caml_notequal(f,c);h.useEffect(function(){g&&b("bs_curry")._1(e,function(a){return!1})},[g]);f=b("MWChatComposerShareFileCallout.bs").useCallout(a[0],e);a=h.useRef(null);if(c)return[f,a];else return[a,f]}f.useHook=a}),null);
__d("LSHotEmojiSize.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.none=a;f.small=c;f.medium=d;f.large=e}),null);
__d("MWLikeSvgIcon.bs",["cr:1828791"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1828791").make;f.$MDSLikeSvgIcon$OR$FBLikeSvgIcon$requireCond=b("cr:1828791");f.make=a}),null);
__d("StickerConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",FEED_PACK_ID:"2239834712900285",OZ_PACK_ID:"1456625217993235",AVATARS_PACK_ID:"2191329907595522",TRENDING_STICKER_PACK_ID:"924487421216423",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120})}),null);
__d("XStickerAssetController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stickers/asset/",{sticker_id:{type:"Int",required:!0},image_type:{type:"Enum",defaultValue:"BestEffortImage",enumType:1}})}),null);
__d("MessengerHotLikeUtils",["EmojiLikeConstants","StickerConstants","XStickerAssetController"],(function(a,b,c,d,e,f,g){"use strict";var h={small:1e3,medium:2e3,large:3e3};function a(a){var b=c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;switch(!0){case a<h.small:b=c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;break;case a<h.medium:b=c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID;break;case a<h.large:b=c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID;break}return b}function b(a){var b=d("EmojiLikeConstants").size.SMALL;a<h.small?b=d("EmojiLikeConstants").size.SMALL:a<h.medium?b=d("EmojiLikeConstants").size.MEDIUM:a<h.large&&(b=d("EmojiLikeConstants").size.LARGE);return b}function e(a){var b;switch(a){case c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:b=120;break;case c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID:b=84;break;case c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID:b=35;break;case d("EmojiLikeConstants").size.LARGE:b=64;break;case d("EmojiLikeConstants").size.MEDIUM:b=64;break;case d("EmojiLikeConstants").size.SMALL:b=32;break}return b?{height:b,width:b}:void 0}function f(){return c("XStickerAssetController").getURIBuilder().setInt("sticker_id",c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID).setEnum("image_type","BestEffortImage").getURI().toString()}function i(a){return c("XStickerAssetController").getURIBuilder().setInt("sticker_id",a).setEnum("image_type","BestEffortImage").getURI().toString()}function j(a){return a&&a.custom_like_icon}g.SizeTimes=h;g.getStickerIDForTime=a;g.getEmojiSizeForTime=b;g.getMetadataForHotLike=e;g.getPreviewURI=f;g.getURIWithID=i;g.getCustomEmojiFromThread=j}),98);
__d("MWV2ChatGrowingHotlikeButton.bs",["fbt","CometEmoji.bs","CometPressable.react","EmojiRenderer","LSHotEmojiSize.bs","MWChatChatButtonColorConstants.bs","MWChatHotLikeEmitterContext.bs","MWLikeSvgIcon.bs","MWTooltip.react","MessengerHotLikeUtils","bs_caml_format","bs_caml_option","bs_curry","clearTimeout","gkx","react","setTimeout","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={hotlikeButtonFDS:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginEnd:"cgat1ltu",marginStart:"kkf49tns"},hotlikeButtonMDS:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginEnd:"oi9244e8",marginStart:"h676nmdw"},customEmojiButtonFDS:{paddingTop:"cxgpxx05",paddingBottom:"sj5x9vvc",paddingEnd:"s5rnanwd",paddingStart:"gxklfzlk",marginEnd:"cgat1ltu",marginStart:"kkf49tns"},customEmojiButtonMDS:{paddingTop:"cxgpxx05",paddingBottom:"sj5x9vvc",paddingEnd:"s5rnanwd",paddingStart:"gxklfzlk",marginEnd:"oi9244e8",marginStart:"h676nmdw"}};function a(a){var c=a.onSendMessage,d=a.color,e=a.thread;a=a.disabled;a=a!==void 0?a:!1;var f=e.customEmoji,h=b("MWChatHotLikeEmitterContext.bs").useHook(void 0);e=j.useState(function(){return 0});var l=e[1],m=e[0],n=j.useRef(void 0);e=j.useState(function(){return!0});var o=e[1];e=e[0];var p=function(a){return b("bs_curry")._1(h.notify,3)},q=function(a){a=n.current;if(a!==void 0){b("clearTimeout")(b("bs_caml_option").valFromOption(a));return}},r=function(a){q(void 0);a=b("setTimeout")(p,3e3);n.current=b("bs_caml_option").some(a)},s=function(a){if(m!==0){b("bs_curry")._1(l,function(a){return 0});q(void 0);return b("bs_curry")._1(h.notify,3)}},t=function(a){m!==0&&(a.stopPropagation(),a.preventDefault());a.button!==0&&(b("bs_curry")._1(l,function(a){return Date.now()}),b("bs_curry")._1(h.notify,0),r(void 0));return b("bs_curry")._1(o,function(a){return!1})},u=function(a){if(a<b("MessengerHotLikeUtils").SizeTimes.small)return b("LSHotEmojiSize.bs").small;else if(a<b("MessengerHotLikeUtils").SizeTimes.medium)return b("LSHotEmojiSize.bs").medium;else if(a<b("MessengerHotLikeUtils").SizeTimes.large)return b("LSHotEmojiSize.bs").large;else return b("LSHotEmojiSize.bs").small},v=function(a){a=Date.now()-m;var d=0;if(f!==void 0&&f!==""){var e=u(a);b("bs_curry").app(c,[f,void 0,void 0,e,void 0,void 0,void 0,void 0,void 0,void 0,void 0])}else d=1;if(d===1){e=b("bs_caml_format").caml_int64_of_string(b("MessengerHotLikeUtils").getStickerIDForTime(a));b("bs_curry").app(c,[void 0,void 0,e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0])}m!==0&&(b("bs_curry")._1(l,function(a){return 0}),q(void 0),b("bs_curry")._1(h.notify,1));return b("bs_curry")._1(o,function(a){return!0})};if(f!==void 0&&f!==""){var w=g._(/*FBT_CALL*/"Send a {emoji}"/*FBT_CALL*/,[g._param("emoji",f)]),x=function(a){var c=b("EmojiRenderer").parse(f).map(function(a){return a.emoji});if(c.length!==1)return j.jsx("span",{children:f});c=c[0];return j.jsx(b("CometEmoji.bs").make,{emoji:c,size:a})},y=g._(/*FBT_CALL*/"Send a"/*FBT_CALL*/);y=e?j.jsxs(j.Fragment,{children:[j.jsxs("span",{children:[y," "]}),x(16)]}):null;return j.jsx(b("MWTooltip.react"),{tooltip:y,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":w,disabled:a,testid:"messenger_hotlike_emoji_button",onHoverOut:s,onPressIn:t,onPress:v,overlayDisabled:a,overlayRadius:"50%",xstyle:function(a){return[b("gkx")("571")?k.customEmojiButtonMDS:k.customEmojiButtonFDS]},children:x(20)})})}y=g._(/*FBT_CALL*/"Send a Like"/*FBT_CALL*/);w=e?y:null;x={className:(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey),size:"20"};d!==void 0&&(x.color=d);return j.jsx(b("MWTooltip.react"),{tooltip:w,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":y,disabled:a,testid:"messenger_hotlike_button",onHoverOut:s,onPressIn:t,onPress:v,overlayDisabled:a,overlayRadius:"50%",xstyle:function(a){return[b("gkx")("571")?k.hotlikeButtonMDS:k.hotlikeButtonFDS]},children:j.jsx(b("MWLikeSvgIcon.bs").make,x)})})}c=a;f.styles=k;f.make=c}),null);
__d("MWV2ComposerEmojiButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPopoverLoadingState.react","CometPressable.react","JSResource","JSResourceForInteraction","MWChatComposerIcons.bs","MWTooltip.react","Promise","bs_curry","gkx","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._(/*FBT_CALL*/"Choose an emoji"/*FBT_CALL*/),k={buttonFDS:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus"},buttonMDS:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"}},l=b("JSResource")("CometAddEmojiToComposerForLexical.bs").__setRef("MWV2ComposerEmojiButton.bs");function a(a){var c=a.editor,d=a.color;a=function(a){b("promiseDone")(l.load().then(function(d){b("bs_curry")._3(d.make,a,c,16);return b("Promise").resolve(void 0)}),void 0,void 0)};return i.jsx(b("CometLazyPopoverTrigger.react"),{fallback:i.jsx(b("CometPopoverLoadingState.react"),{withArrow:!0}),popoverResource:b("JSResourceForInteraction")("MWV2ComposerEmojiPickerForJSResource",{name:"MWV2ComposerEmojiPicker","class":"fluid"}).__setRef("MWV2ComposerEmojiButton.bs"),popoverProps:{onSelect:a,withArrow:!0},align:"end",children:function(a,c,e,f,g,h,m){return i.jsx(b("MWTooltip.react"),{tooltip:j,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":j,ref:a,testid:"composer_emoji_picker",onHoverIn:b("bs_curry").__1(f),onHoverOut:function(a){return b("bs_curry")._1(g,void 0)},onPressIn:b("bs_curry").__1(h),onPress:function(a){b("bs_curry")._1(c,void 0),l.preload()},overlayRadius:"50%",xstyle:function(a){return[b("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:i.jsx(b("MWChatComposerIcons.bs").Emoji.make,{size:20,fill:d})})})}})}c=a;f.label=j;f.styles=k;f.cometAddEmojiToComposerForLexical=l;f.make=c}),null);
__d("MWV2ComposerFileButton.bs",["fbt","CometFileSelector.re","CometPressable.react","MWChatComposerIcons.bs","MWTooltip.react","bs_caml_option","bs_curry","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={buttonFDS:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus"},buttonMDS:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"}},k=g._(/*FBT_CALL*/"Attach a file"/*FBT_CALL*/);function l(a){return i.useCallback(function(c){c=Array.from(c);if(c.length>0)return b("bs_curry")._1(a,c)},[a])}function a(a){var c=a.color,d=a.onAttachmentsAdded,e=a.supportedFileTypes,f=a.disabled;a=l(d);d={children:function(a){return i.jsx(b("MWTooltip.react"),{tooltip:k,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":k,disabled:f,testid:"composer_file_uploader",onPress:function(c){return b("bs_curry")._1(a,void 0)},overlayRadius:"50%",xstyle:function(a){return[b("gkx")("571")?j.buttonMDS:j.buttonFDS]},children:i.jsx(b("MWChatComposerIcons.bs").Photo.make,{size:20,fill:f?void 0:c})}),forceInlineDisplay:!0})},multiple:!0,onFilesSelected:a};e!==void 0&&(d.accept=b("bs_caml_option").valFromOption(e));return i.jsx(b("CometFileSelector.re").make,d)}c=a;f.label=k;f.useOnFilesSelected=l;f.make=c}),null);
__d("MWV2ComposerGifButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResource","LSDict","MWChatComposerIcons.bs","MWTooltip.react","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={buttonFDS:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus"},buttonMDS:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"}},k=g._(/*FBT_CALL*/"Choose a gif"/*FBT_CALL*/);function l(a,c,d,e){return b("LSDict").fromObject({playable_url:void 0,playable_url_fallback:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_mime_type:void 0,preview_url:a,preview_url_fallback:void 0,preview_url_expiration_timestamp_ms:void 0,preview_url_mime_type:void 0,preview_width:d,preview_height:c})}function m(a){return i.useCallback(function(c){var d=b("bs_caml_format").caml_int64_of_string(c.platformFBID),e=c.source.url;return b("bs_curry").app(a,[void 0,void 0,void 0,void 0,d,e,b("bs_caml_option").some(l(e,b("bs_caml_int64").of_int32(c.source.height),b("bs_caml_int64").of_int32(c.source.width),void 0)),void 0,void 0,void 0,void 0])},[a])}function a(a){var c=a.color,d=a.onSendMessage,e=a.disabled;a=a.isSecureThread;d=m(d);return i.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("MWChatAnimatedImageFlyout.react").__setRef("MWV2ComposerGifButton.bs"),disableAutoFlip:!0,popoverProps:{onSelect:b("bs_curry").__1(d),testid:"mw_gif_picker",isSecureThread:a},align:"middle",position:"above",children:function(a,d,f,g,h,l,m){return i.jsx(b("MWTooltip.react"),{tooltip:k,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":k,disabled:e,ref:a,onHoverIn:b("bs_curry").__1(g),onHoverOut:function(a){return b("bs_curry")._1(h,void 0)},onPressIn:b("bs_curry").__1(l),onPress:function(a){return b("bs_curry")._1(d,void 0)},overlayRadius:"50%",xstyle:function(a){return[b("gkx")("571")?j.buttonMDS:j.buttonFDS]},children:i.jsx(b("MWChatComposerIcons.bs").Gif.make,{size:20,fill:e?void 0:c})}),forceInlineDisplay:!0})}})}c=a;f.label=k;f.useOnGifSelect=m;f.make=c}),null);
__d("MWChatFileIcon.bs",["ix","TetraIcon.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={icon:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginEnd:"o3lre8g0",backgroundColor:"hybvsw6c",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"}};function a(a){return j.jsx("div",{className:(i||(i=b("stylex")))(k.icon),children:j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("908355"),16),color:"primary"})})}c=a;f.styles=k;f.make=c}),null);
__d("MWV2ComposerMediaProgressBar.bs",["MWPThreadTheme.bs","MWV2ColorUtils.bs","bs_js_math","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={progressBar:{position:"pmk7jnqg",bottom:"i09qtzwb",start:"j9ispegn",width:"k4urcfbm"}};function a(a){var c=a.mediaStaging;a=a.height;var d=b("MWPThreadTheme.bs").useHook(void 0);d=c.hasError?"var(--negative)":b("MWV2ColorUtils.bs").int64ToHex(d.threadTheme.fallbackColor);c=b("bs_js_math").ceil(c.progress*100);var e=(a/2).toString();e="M 0,"+e+" L 100,"+e;return i.jsxs("svg",{viewBox:"0 0 100 "+a.toString(),preserveAspectRatio:"none",className:(h||(h=b("stylex")))(j.progressBar),style:{height:a.toString()},children:[i.jsx("path",{d:e,stroke:"rgba(0,0,0,.5)",strokeWidth:a.toString(),strokeLinecap:"round"}),i.jsx("path",{d:e,stroke:d,strokeWidth:(c===0?0:a).toString(),strokeLinecap:"round",style:{transition:"stroke-dashoffset .5s, stroke .5s",strokeDasharray:"100",strokeDashoffset:(100-c|0).toString()}})]})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2ComposerMediaStaging.bs",["fbt","ix","CometFileSelector.re","CometImage.react","CometImageCover.react","CometPressable.react","MDSText.react","MWChatFileIcon.bs","MWV2ComposerFileButton.bs","MWV2ComposerMediaProgressBar.bs","MessagingAttachmentType.bs","TetraCircleButton.react","TetraIcon.react","bs_caml","bs_caml_option","bs_curry","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={root:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",flexGrow:"kb5gq1qc",flexShrink:"pfnyh3mw",height:"m7zwrmfr",width:"tmrshh9y",marginEnd:"tvfksri0",position:"l9j0dhe7",backgroundColor:"n1jkxfxr",borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem"}};function m(a){var c=a.supportedFileTypes;a=a.onAttachmentsAdded;a=b("MWV2ComposerFileButton.bs").useOnFilesSelected(a);a={children:function(a){return k.jsx(b("CometPressable.react"),{"aria-label":g._(/*FBT_CALL*/"Upload another photo\/video"/*FBT_CALL*/),onPress:function(c){return b("bs_curry")._1(a,void 0)},xstyle:function(a){return[l.root]},children:k.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(h("481777"),24),testid:"composer_attachment_area_photo_uploader",color:"primary"})})},multiple:!0,onFilesSelected:a};c!==void 0&&(a.accept=b("bs_caml_option").valFromOption(c));return k.jsx(b("CometFileSelector.re").make,a)}c={styles:l,make:m};var n={button:{position:"pmk7jnqg",top:"nezaghv5",end:"e712q9ov"}};function o(a){var c=a.onPress;return k.jsx("div",{className:(j||(j=b("stylex")))(n.button),children:k.jsx(b("TetraCircleButton.react"),{icon:b("fbicon")._(h("478231"),12),label:g._(/*FBT_CALL*/"Remove attachment"/*FBT_CALL*/),onPress:function(a){return b("bs_curry")._1(c,void 0)},size:24,type:"overlay"})})}d={styles:n,make:o};var p={video:{objectFit:"bixrwtb6"},playIcon:{position:"pmk7jnqg",start:"kfkz5moi",top:"rk01pc8j",marginStart:"fnu23jab",marginTop:"gy6hb44f"},file:{display:"j83agx80",alignItems:"bp9cbjyn",userSelect:"abiwlrkh",paddingTop:"ecm0bbzt",paddingBottom:"e5nlhep0",paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"},fileContent:{flexGrow:"buofh1pr"}};function q(a){a=a.mediaStaging;var c=a.attachmentType;if(b("bs_caml").i64_eq(c,b("MessagingAttachmentType.bs").video)){var d=a.previewUrl;if(d!==void 0)return k.jsxs(k.Fragment,{children:[k.jsx("video",{src:d,width:"48",height:"48",className:(j||(j=b("stylex")))(p.video)}),k.jsx("div",{className:j(p.playIcon),children:k.jsx(b("CometImage.react"),{src:h("354763")})})]});else return null}if(!b("bs_caml").i64_eq(c,b("MessagingAttachmentType.bs").image))return k.jsxs("div",{className:(j||(j=b("stylex")))(p.file),children:[k.jsx(b("MWChatFileIcon.bs").make,{}),k.jsx("div",{className:j(p.fileContent),children:k.jsx(b("MDSText.react"),{type:"headline4",numberOfLines:2,children:a.filename})})]});d=a.previewUrl;if(d!==void 0)return k.jsx(b("CometImageCover.react"),{alt:"",src:d});else return null}e={styles:p,make:q};var r={itemContainer:{flexGrow:"kb5gq1qc",flexShrink:"pfnyh3mw",height:"m7zwrmfr",width:"tmrshh9y",marginTop:"rs0gx3tq",marginEnd:"tvfksri0",marginBottom:"w0hvl6rk",marginStart:"hcukyx3x",position:"l9j0dhe7"},previewContainer:{position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs",height:"m7zwrmfr",width:"tmrshh9y",borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem"},fileContainer:{width:"k5ud4834"},filePreviewContainer:{width:"k5ud4834",backgroundColor:"acsorfik"}};function s(a){var c=a.mediaStaging,d=a.onAttachmentRemoved;a=k.useCallback(function(a){return b("bs_curry")._1(d,c.offlineAttachmentId)},[]);var e=b("bs_caml").i64_neq(c.attachmentType,b("MessagingAttachmentType.bs").video)&&b("bs_caml").i64_neq(c.attachmentType,b("MessagingAttachmentType.bs").image);return k.jsxs("div",{className:(j||(j=b("stylex")))(r.itemContainer,e?r.fileContainer:!1),children:[k.jsxs("div",{className:j(r.previewContainer,e?r.filePreviewContainer:!1),children:[k.jsx(q,{mediaStaging:c}),k.jsx(b("MWV2ComposerMediaProgressBar.bs").make,{mediaStaging:c,height:4})]}),k.jsx(o,{onPress:a})]})}var t={styles:r,make:s},u={container:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"jifvfom9",flexWrap:"owycx6da",paddingTop:"pybr56ya",paddingEnd:"d1544ag0",paddingBottom:"f10w8fjw",paddingStart:"tw6a2znq",overflowX:"d76ob5m9",width:"k4urcfbm",boxSizing:"rq0escxv"}};function a(a){var c=a.mediaStaging,d=a.onAttachmentRemoved,e=a.onAttachmentsAdded;a=a.supportedFileTypes;if(c.length===0)return null;else return k.jsxs("div",{className:(j||(j=b("stylex")))(u.container),children:[c.map(function(a){return k.jsx(s,{mediaStaging:a,onAttachmentRemoved:d},a.offlineAttachmentId)}),k.jsx(m,{supportedFileTypes:a,onAttachmentsAdded:e})]})}a=a;f.UploadPlaceholder=c;f.CloseButton=d;f.Preview=e;f.StagingItem=t;f.styles=u;f.make=a}),null);
__d("MWV2ComposerPersistentMenuButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","FBID.bs","JSResource","MWChatChatButtonColorConstants.bs","MWTooltip.react","bs_curry","bs_int64","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=g._(/*FBT_CALL*/"View menu options"/*FBT_CALL*/),l={buttonFDS:{flexShrink:"pfnyh3mw",paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginEnd:"cgat1ltu",marginStart:"kkf49tns"},buttonMDS:{flexShrink:"pfnyh3mw",paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginEnd:"oi9244e8",marginStart:"h676nmdw"}};function a(a){var c=a.thread,d=a.color,e=a.onSendMessage;a=a.disabled;var f=a!==void 0?a:!1;a=function(a){var c=a.title;a=a.id;return b("bs_curry").app(e,[c,void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0])};return j.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("LSComposerPersistentMenu.react").__setRef("MWV2ComposerPersistentMenuButton.bs"),popoverProps:{onClose:function(a){},onSelect:a,pageId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.threadKey))},align:"end",children:function(a,c,e,g,h,m,n){return j.jsx(b("MWTooltip.react"),{tooltip:k,position:"above",children:j.jsx(b("CometPressable.react"),{disabled:f,label:k,ref:a,onPress:function(a){return b("bs_curry")._1(c,void 0)},overlayDisabled:f,overlayRadius:"50%",xstyle:function(a){return[b("gkx")("571")?l.buttonMDS:l.buttonFDS]},children:j.jsx("svg",{className:(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.strokeGrey),width:"20",height:"20",viewBox:"0 0 24 18",children:j.jsxs("g",{stroke:d,strokeWidth:"2.5",strokeLinecap:"round",children:[j.jsx("path",{d:"M1.5,1.5 H22.5"}),j.jsx("path",{d:"M1.5,9 H22.5"}),j.jsx("path",{d:"M1.5,16.5 H22.5"})]})})}),forceInlineDisplay:!0})}})}c=a;f.make=c}),null);
__d("Navigator.bs",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=navigator.permissions;if(c==null)return;var d=c.query;if(!(d==null))return b("bs_caml_option").nullable_to_opt(d.call(c,a))}f.query=a}),null);
__d("MWV2ComposerPlusButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","MWChatComposerIcons.bs","MWTooltip.react","Navigator.bs","Promise","bs_caml_option","bs_curry","gkx","react","requireDeferred","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("requireDeferred")("MWChatAudioLog.bs").__setRef("MWV2ComposerPlusButton.bs");function k(a){var c=i.useState(function(){return 0}),d=c[1],e=c[0];c=b("useCometLazyDialog")(b("JSResourceForInteraction")("MWChatAudioRecorderPermissionsDialog").__setRef("MWV2ComposerPlusButton.bs"));var f=c[0],g=function(a){return f({onClose:function(a){},onAllow:function(a){},showNoPermissionsContent:!0},function(a){})},h=function(c){navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(c){d(function(a){return 1});b("bs_curry")._1(a.start,c);return b("Promise").resolve(void 0)})["catch"](function(a){a.name==="NotAllowedError"?(d(function(a){return 2}),g(void 0)):d(function(a){return 3});j.onReady(function(a){return b("bs_curry")._1(a.logBrowserDenyAccess,void 0)});return b("Promise").resolve(void 0)})},k=function(a){return f({onClose:function(a){},onAllow:function(a){return h(void 0)},showNoPermissionsContent:!1},function(a){})};return function(a){if(e>=3)return h(void 0);switch(e){case 0:a=b("Navigator.bs").query({name:"microphone"});a!==void 0?b("bs_caml_option").valFromOption(a).then(function(a){a=a.state;switch(a){case"denied":d(function(a){return 2});g(void 0);break;case"granted":h(void 0);break;case"prompt":k(void 0);break;default:k(void 0)}return b("Promise").resolve(void 0)})["catch"](function(a){k(void 0);return b("Promise").resolve(void 0)}):(h(void 0),j.onReady(function(a){return b("bs_curry")._1(a.logMicAccessCheckFailed,void 0)}));return;case 1:return h(void 0);case 2:return g(void 0)}}}var l={plusButtonFDS:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus",marginTop:"aahdfvyu",marginBottom:"tvmbv18p",marginEnd:"cgat1ltu",marginStart:"kkf49tns"},plusButtonMDS:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginStart:"h676nmdw"}};function a(a){var c=a.thread,d=a.color,e=a.onSendMessage,f=a.onAttachmentsAdded,h=a.voiceRecorder,m=a.supportedFileTypes;a=a.isInputExpanded;var n=i.useState(function(){return!1}),o=n[1],p=function(a){return b("bs_curry")._1(o,function(b){return a})},q=k(h),r=h.state!==0,s=r?g._(/*FBT_CALL*/"Close"/*FBT_CALL*/):n[0]?g._(/*FBT_CALL*/"Close more actions"/*FBT_CALL*/):g._(/*FBT_CALL*/"Open more actions"/*FBT_CALL*/);return i.jsx(b("CometLazyPopoverTrigger.react"),{onVisibilityChange:p,popoverResource:b("JSResourceForInteraction")("MWV2ComposerOverflowMenu").__setRef("MWV2ComposerPlusButton.bs"),popoverProps:{threadKey:c.threadKey,color:d,onSendMessage:e,onAttachmentsAdded:f,onPressVoiceClip:q,supportedFileTypes:m,isInputExpanded:a,onClose:function(a){}},align:"start",position:"above",preloadTrigger:"button",children:function(a,c,e,f,g,k,m){return i.jsx(b("MWTooltip.react"),{tooltip:s,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":s,ref:a,testid:"composer_actions_button",onHoverIn:b("bs_curry").__1(f),onHoverOut:function(a){return b("bs_curry")._1(g,void 0)},onPressIn:b("bs_curry").__1(k),onPress:function(a){if(r){b("bs_curry")._1(h.reset,void 0);j.onReady(function(a){return b("bs_curry")._1(a.logDeleteRecording,void 0)});return}else return b("bs_curry")._1(c,void 0)},overlayRadius:"50%",xstyle:function(a){return[b("gkx")("571")?l.plusButtonMDS:l.plusButtonFDS]},children:i.jsx(b("MWChatComposerIcons.bs").MoreActions.make,{size:20,fill:d,isRotated:r})})})}})}c=a;f.$MWChatAudioLog$Deferred=j;f.styles=l;f.make=c}),null);
__d("MWV2ComposerSendButton.bs",["fbt","CometPressable.react","MWChatChatButtonColorConstants.bs","MWTooltip.react","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=g._(/*FBT_CALL*/"Press enter to send"/*FBT_CALL*/),l={buttonFDS:{flexShrink:"pfnyh3mw",flexGrow:"kb5gq1qc",paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginEnd:"cgat1ltu",marginStart:"kkf49tns"},buttonMDS:{flexShrink:"pfnyh3mw",flexGrow:"kb5gq1qc",paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginEnd:"oi9244e8",marginStart:"h676nmdw"}};function a(a){var c=a.color,d=a.onPress;a=a.disabled;a=a!==void 0?a:!1;return j.jsx(b("MWTooltip.react"),{tooltip:k,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{disabled:a,label:k,testid:"chat_send_button",onPress:d,overlayDisabled:a,overlayRadius:"50%",xstyle:function(a){return[b("gkx")("571")?l.buttonMDS:l.buttonFDS]},children:j.jsx("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",className:(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey),children:j.jsx("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",fill:c})})}),forceInlineDisplay:!0})}c=a;f.make=c}),null);
__d("MWV2ComposerStickerButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResource","LSDict","MWChatComposerIcons.bs","MWTooltip.react","bs_belt_Option","bs_caml_format","bs_caml_option","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={buttonFDS:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus"},buttonMDS:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"},flyoutRoot:{width:"tjny6qan"}},l=g._(/*FBT_CALL*/"Choose a sticker"/*FBT_CALL*/);function m(a,c,d,e){return b("LSDict").fromObject({playable_url:void 0,playable_url_fallback:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_mime_type:void 0,preview_url:a,preview_url_fallback:void 0,preview_url_expiration_timestamp_ms:void 0,preview_url_mime_type:void 0,preview_width:d,preview_height:c})}function n(a,c){return j.useCallback(function(d){return function(e,f){e=f.animated_uri;e=b("bs_belt_Option").isSome(e)?e:f.uri;if(c)return b("bs_curry").app(a,[void 0,void 0,b("bs_caml_format").caml_int64_of_string(d),void 0,void 0,b("bs_belt_Option").getExn(e),void 0,void 0,void 0,void 0,void 0]);else return b("bs_curry").app(a,[void 0,void 0,b("bs_caml_format").caml_int64_of_string(d),void 0,void 0,void 0,b("bs_caml_option").some(m(e,[0,128],[0,128],void 0)),void 0,void 0,void 0,void 0])}},[a,c])}function a(a){var c=a.color,d=a.onSendMessage,e=a.disabled;a=a.useSecureSend;d=n(d,a);return j.jsx(b("CometLazyPopoverTrigger.react"),{onVisibilityChange:function(a){},popoverResource:b("JSResource")("MWChatStickersFlyoutForJSResource.react").__setRef("MWV2ComposerStickerButton.bs"),disableAutoFlip:!0,popoverProps:{className:(i||(i=b("stylex")))(k.flyoutRoot),onClose:function(a){},onStickerSelect:d,shouldHideDefaultPacks:a},align:"middle",position:"above",children:function(a,d,f,g,h,i,m){return j.jsx(b("MWTooltip.react"),{tooltip:l,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":l,disabled:e,ref:a,testid:"chat_sticker_button",onHoverIn:b("bs_curry").__1(g),onHoverOut:function(a){return b("bs_curry")._1(h,void 0)},onPressIn:b("bs_curry").__1(i),onPress:function(a){return b("bs_curry")._1(d,void 0)},overlayRadius:"50%",xstyle:function(a){return[b("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:j.jsx(b("MWChatComposerIcons.bs").Sticker.make,{size:20,fill:e?void 0:c})}),forceInlineDisplay:!0})}})}c=a;f.styles=k;f.label=l;f.useOnStickerSelect=n;f.make=c}),null);
__d("MWV2ComposerVoiceRecorder.bs",["fbt","CometComponentWithKeyCommands.react","CometKeys","CometPressable.react","MWPThreadTheme.bs","bs_caml_option","bs_curry","cancelAnimationFrame","formatDurationSeconds","react","requestAnimationFrameAcrossTransitions","requireDeferred","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=b("requireDeferred")("MWChatAudioLog.bs").__setRef("MWV2ComposerVoiceRecorder.bs");function l(a){var b=a.currentTime;a=a.duration;return j.jsx("div",{style:{position:"absolute"},role:"slider",tabIndex:0,"aria-label":g._(/*FBT_CALL*/"Audio scrubber"/*FBT_CALL*/),"aria-valuenow":b,"aria-valuemin":0,"aria-valuemax":a})}c={make:l};function m(a){var c=a.audioEl;a=a.children;var d=j.useCallback(function(a){if(a>30)return 5;else if(a>10)return 3;else if(a>5)return 2;else if(a>2)return 1;else return.5},[]),e=j.useCallback(function(a){a=c.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);var e=a.duration;a.currentTime=a.currentTime-b("bs_curry")._1(d,e)},[d]),f=j.useCallback(function(a){a=c.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);var e=a.duration;a.currentTime=a.currentTime+b("bs_curry")._1(d,e)},[d]),h=j.useCallback(function(a){a=c.current;if(a!==void 0){b("bs_caml_option").valFromOption(a).currentTime=0;return}},[]),i=j.useCallback(function(a){a=c.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);var d=a.duration;a.currentTime=d},[]),k=j.useMemo(function(){var a;return[{command:{key:(a=b("CometKeys")).UP},description:g._(/*FBT_CALL*/"Increases slider value one step."/*FBT_CALL*/),handler:f},{command:{key:a.DOWN},description:g._(/*FBT_CALL*/"Decreases slider value one step."/*FBT_CALL*/),handler:e},{command:{key:a.LEFT},description:g._(/*FBT_CALL*/"Decreases slider value one step."/*FBT_CALL*/),handler:e},{command:{key:a.RIGHT},description:g._(/*FBT_CALL*/"Increases slider value one step."/*FBT_CALL*/),handler:f},{command:{key:a.HOME},description:g._(/*FBT_CALL*/"Sets slider to its minimum value."/*FBT_CALL*/),handler:h},{command:{key:a.END},description:g._(/*FBT_CALL*/"Sets slider to its maximum value."/*FBT_CALL*/),handler:i}]},[e,f,h,i]);return j.jsx(b("CometComponentWithKeyCommands.react"),{commandConfigs:k,children:a})}d={make:m};var n={timer:{marginEnd:"fv0vnmcu",marginStart:"ggphbty4",height:"oeo4gz9l",width:"chsygg5i",backgroundColor:"q2y6ezfg",borderTopStartRadius:"pdihbav5",borderTopEndRadius:"fo8ltl2p",borderBottomEndRadius:"b8f6b1oh",borderBottomStartRadius:"q0b78ich",display:"j83agx80",justifyContent:"taijpn5t",alignItems:"bp9cbjyn",fontSize:"e9vueds3",fontWeight:"lrazzd5p",cursor:"nhd2j8a9",userSelect:"abiwlrkh",position:"l9j0dhe7"}},o=j.memo(function(a){var c=a.time;a=a.color;a=a!==void 0?a:"black";c=b("formatDurationSeconds")(c);a={color:a};return j.jsx("div",{"data-testid":"mw_recorder_timestamp",className:(i||(i=b("stylex")))(n.timer),style:a,children:c})});e={styles:n,make:o};var p={pressable:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",width:"b73ngqbp",height:"rgmg9uty",backgroundColor:"q2y6ezfg",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"}};function q(a){var c=a.onPress,d=a.onHoverMove,e=a.label;a=a.icon;e={"aria-label":e,disabled:c===void 0,overlayRadius:"50%",xstyle:function(a){return[p.pressable]},children:a};d!==void 0&&(e.onHoverMove=b("bs_caml_option").valFromOption(d));c!==void 0&&(e.onPress=b("bs_caml_option").valFromOption(c));return j.jsx(b("CometPressable.react"),e)}var r={styles:p,make:q},s={highlight:{height:"datstx6m",width:"k4urcfbm",start:"j9ispegn",top:"kr520xx4",position:"pmk7jnqg",transform:"hp24h0cv"},outgoing:{opacity:"lupvgy83",backgroundColor:"q2y6ezfg"},incoming:{opacity:"h34q056n",backgroundColor:"rn3djb20"}},t=j.forwardRef(function(a,c){var d=a.style;a=a.outgoing;d=d!==void 0?b("bs_caml_option").valFromOption(d):{};var e=j.useRef(void 0);j.useImperativeHandle(c,function(){return{updateHighlight:function(a){var b=e.current;if(!(b==null)){b.style.transform="translateX("+(a-100).toFixed(1)+"%)";return}}}},[e]);return j.jsx("div",{ref:e,className:(i||(i=b("stylex")))(s.highlight,a?s.outgoing:s.incoming),style:d})}),u={styles:s,make:t};function v(a){var c=a.duration,d=a.audioEl,e=a.currentTime,f=a.isProgressing,g=a.isCompleted;a=a.outgoing;a=a!==void 0?a:!0;var h=j.useRef(void 0);j.useEffect(function(){var a=function(a){var b=h.current;if(!(b==null))return b.updateHighlight(a)};if(g){a(0);return}if(f){var e={contents:void 0},i={contents:void 0},j=function f(g){var h=d.current;if(h!==void 0){h=b("bs_caml_option").valFromOption(h);h=h.currentTime/h.duration}else{var j=e.contents;j=j!==void 0?g-j:(e.contents=g,0);h=j/(c*1e3)}g=Math.min(h*100,100);a(g);if(g<100){i.contents=b("bs_caml_option").some(b("requestAnimationFrameAcrossTransitions")(f));return}};i.contents=b("bs_caml_option").some(b("requestAnimationFrameAcrossTransitions")(j));return function(a){a=i.contents;if(a!==void 0){b("cancelAnimationFrame")(b("bs_caml_option").valFromOption(a));return}}}j=d.current;if(j!==void 0){j=b("bs_caml_option").valFromOption(j);j=j.currentTime/j.duration;a(j*100)}},[c,f,g,h,d,e]);return j.jsx(t,{style:{transform:"translateX(-100%)"},outgoing:a,ref:h})}var w={make:v};function x(a,b,c){return Math.min(Math.max(b,a),c)}var y={container:{flexGrow:"buofh1pr",display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"i1fnvgqd",height:"tv7at329",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"l9j0dhe7"}};function z(a){var c=a.scrubberRef,d=a.hasScrubber,e=a.audioEl,f=a.color,g=a.testid,h=a.style;a=a.children;h=h!==void 0?b("bs_caml_option").valFromOption(h):{};var k=j.useRef(void 0),l=function(a,b){b=b.getBoundingClientRect();a=a.clientX-b.left;a=a/b.width;return x(a,0,1)},m=function(a){var c=e.current,d=k.current;if(c===void 0)return;if(d==null)return;c=b("bs_caml_option").valFromOption(c);c.currentTime=l(a,d)*c.duration*100/100},n=function(a){var b=k.current,d=c.current;if(!(b==null)&&!(d==null))return d.updateHighlight(l(a,b)*100)},o=function(a){a=c.current;if(!(a==null))return a.updateHighlight(0)};return j.jsx("div",{ref:k,"data-testid":g,className:(i||(i=b("stylex")))(y.container),style:Object.assign({},{backgroundColor:f},h),onMouseMove:d?n:void 0,onMouseLeave:d?o:void 0,onClick:d?m:void 0,children:a})}var A={clamp:x,styles:y,make:z};function B(a){a=a.color;return j.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 36 36",children:j.jsx("path",{d:"M10 25.5v-15a1.5 1.5 0 012.17-1.34l15 7.5a1.5 1.5 0 010 2.68l-15 7.5A1.5 1.5 0 0110 25.5z",fill:a})})}var C={make:B};function D(a){a=a.color;return j.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 36 36",children:j.jsx("rect",{x:"9",y:"9",width:"18",height:"18",rx:"2",fill:a})})}var E={make:D};function F(a){a=a.color;return j.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 36 36",children:j.jsx("path",{d:"M11 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4zM21 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4z",fill:a})})}var G={make:F},H=g._(/*FBT_CALL*/"Play"/*FBT_CALL*/),I=g._(/*FBT_CALL*/"Stop recording"/*FBT_CALL*/),J=g._(/*FBT_CALL*/"Pause"/*FBT_CALL*/),K={playbackButtonContainer:{marginEnd:"fv0vnmcu",marginStart:"ggphbty4"}};function a(a){var c=a.voiceRecorder;a=b("MWPThreadTheme.bs").useBottom(void 0);var d=c.audioEl,e=c.state,f;if(typeof e==="number")f=!1;else switch(e.TAG|0){case 0:f=!1;break;case 1:case 2:f=!0;break}var g=j.useRef(void 0),h=function(a){var b=g.current;if(!(b==null)){a.stopPropagation();return b.updateHighlight(0)}},n=function(a){b("bs_curry")._1(c.toggle,e);if(typeof e==="number")return;switch(e.TAG|0){case 0:k.onReady(function(a){return b("bs_curry")._1(a.logClickStopRecording,0)});return;case 1:var d=e._1,f=e._0;d===0?k.onReady(function(a){return b("bs_curry")._1(a.logPlaybackStart,f)}):k.onReady(function(a){return b("bs_curry")._2(a.logPlaybackResume,f,d)});return;case 2:var g=e._1,h=e._0;k.onReady(function(a){return b("bs_curry")._2(a.logPlaybackPause,h,g)});return}},p;if(typeof e==="number")p=0;else switch(e.TAG|0){case 0:p=60;break;case 1:case 2:p=e._0;break}var r;if(typeof e==="number")r=void 0;else switch(e.TAG|0){case 0:r=void 0;break;case 1:case 2:r=e._1;break}var s;if(typeof e==="number")s=!1;else switch(e.TAG|0){case 1:s=!1;break;case 0:case 2:s=!0;break}var u;u=typeof e==="number"||e.TAG!==1?!1:e._1===0;u={duration:p,audioEl:d,isProgressing:s,isCompleted:u,outgoing:!0};r!==void 0&&(u.currentTime=b("bs_caml_option").valFromOption(r));var w,x=0;if(typeof e==="number")w=null;else switch(e.TAG|0){case 0:w=null;break;case 1:case 2:x=1;break}x===1&&(w=j.jsx(l,{currentTime:e._1,duration:e._0}));var y;if(typeof e==="number")y=H;else switch(e.TAG|0){case 0:y=I;break;case 1:y=H;break;case 2:y=J;break}var A;if(typeof e==="number")A=j.jsx(B,{color:a});else switch(e.TAG|0){case 0:A=j.jsx(D,{color:a});break;case 1:A=j.jsx(B,{color:a});break;case 2:A=j.jsx(F,{color:a});break}var C;x=0;if(typeof e==="number")C=0;else switch(e.TAG|0){case 0:C=e._1;break;case 1:case 2:x=1;break}x===1&&(C=Math.max(e._0-e._1,0));return j.jsx(z,{scrubberRef:g,hasScrubber:f,audioEl:d,color:a,testid:"mw_audio_recorder",style:{cursor:f?"pointer":"default",borderRadius:"18px"},children:j.jsxs(m,{audioEl:d,children:[j.jsx(v,u),w,j.jsx(t,{outgoing:!0,ref:g}),j.jsx("div",{onMouseMove:f?h:void 0,className:(i||(i=b("stylex")))(K.playbackButtonContainer),children:j.jsx(q,{onPress:n,label:y,icon:A})}),j.jsx(o,{time:C,color:a})]})})}a=a;f.$MWChatAudioLog$Deferred=k;f.ScreenreaderLabel=c;f.KeyCommands=d;f.Timer=e;f.PlaybackButton=r;f.Highlight=u;f.Progress=w;f.Container=A;f.PlayIcon=C;f.StopIcon=E;f.PauseIcon=G;f.playLabel=H;f.stopLabel=I;f.pauseLabel=J;f.styles=K;f.make=a}),null);
__d("MWV2UseVoiceRecorder.bs",["MWChatRecorderUtilsWorkerResource","MWConsole","Promise","WebWorker","bs_caml_option","bs_curry","clearTimeout","react","requireDeferred","setTimeout","useIsMountedRef","usePrevious"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("requireDeferred")("MWChatAudioLog.bs").__setRef("MWV2UseVoiceRecorder.bs");function j(a,b){if(typeof b==="number")switch(b){case 0:if(typeof a==="number")return a;switch(a.TAG|0){case 0:return{TAG:1,_0:a._1,_1:0};case 1:return{TAG:2,_0:a._0,_1:a._1};case 2:return{TAG:1,_0:a._0,_1:a._1}}case 1:return{TAG:1,_0:60,_1:0};case 2:return 0}else switch(b.TAG|0){case 0:return{TAG:0,_0:b._0,_1:0};case 1:var c=b._0;if(typeof a==="number")return a;switch(a.TAG|0){case 0:return{TAG:0,_0:a._0,_1:c};case 1:return{TAG:1,_0:c,_1:a._1};case 2:return{TAG:2,_0:c,_1:a._1}}case 2:c=b._0;if(typeof a==="number")return a;switch(a.TAG|0){case 0:return a;case 1:b=a._0;if(c===b)return{TAG:1,_0:b,_1:0};else return{TAG:1,_0:b,_1:c};case 2:b=a._0;if(c===b)return{TAG:1,_0:b,_1:0};else return{TAG:2,_0:b,_1:c}}}}function k(a){if(window.AudioContext!==void 0)return b("bs_caml_option").some(new window.AudioContext());else if(window.webkitAudioContext!==void 0)return b("bs_caml_option").some(new window.webkitAudioContext());else return}function a(a){a=h.useReducer(j,0);var c=a[1],d=a[0],e=b("useIsMountedRef")(),f=h.useRef(void 0),g=h.useRef([]),l=h.useRef([]),m=h.useRef(void 0),n=h.useRef(void 0),o=h.useRef(void 0),p=h.useRef(void 0),q=h.useRef(void 0),r=h.useCallback(function(a){if(!e.current)return;var d=URL.createObjectURL(a);o.current=d;var f=new Audio(d);f.addEventListener("canplay",function(d){n.current=b("bs_caml_option").some(f);d=f.duration;c({TAG:1,_0:d});d={file:a,duration:d};p.current=d;var e=q.current;if(e!==void 0)return b("bs_curry")._1(e,d)});f.addEventListener("timeupdate",function(a){a=n.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a).currentTime;return c({TAG:2,_0:a})});f.addEventListener("durationchange",function(a){a=n.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a).duration;if(!Number.isNaN(a))return c({TAG:1,_0:a})})},[]),s=h.useCallback(function(a){a=f.current;var c=m.current;if(a===void 0)return;if(c===void 0)return;var d=g.current,e=l.current;d={buffersL:d,buffersR:e,sampleRate:a};b("bs_caml_option").valFromOption(c).postMessage(d)},[]),t;t=typeof d==="number"||d.TAG!==0?!1:!0;var u=h.useCallback(function(a){if(!t)return;a=a.inputBuffer;var b=a.getChannelData(0).slice();a=a.getChannelData(1).slice();g.current.push(b);l.current.push(a)},[t]);h.useEffect(function(){if(typeof d==="number")return;if(d.TAG!==0)return;var a=d._0;g.current=[];l.current=[];var c={contents:void 0},e={contents:void 0};e.contents=k(void 0);var h=e.contents;if(h!==void 0){h=b("bs_caml_option").valFromOption(h);var j=h.destination;f.current=h.sampleRate;var n=h.createScriptProcessor(4096,2,2);c.contents=b("bs_caml_option").some(n);h=h.createMediaStreamSource(a);m.current=b("bs_caml_option").some(new(b("WebWorker"))(b("MWChatRecorderUtilsWorkerResource")).setMessageHandler(b("bs_curry").__1(r)).setAllowCrossPageTransition(!0).execute());n.addEventListener("audioprocess",u);h.connect(n);n.connect(j)}i.onReady(function(a){return b("bs_curry")._1(a.logClickStartRecording,void 0)});return function(d){a.getAudioTracks().forEach(function(a){if(a.readyState!=="ended"){a.stop();return}});d=e.contents;d!==void 0&&b("bs_caml_option").valFromOption(d).close();d=c.contents;if(d!==void 0){b("bs_caml_option").valFromOption(d).removeEventListener("audioprocess",u);return}}},[t]);var v=b("usePrevious")(d);h.useEffect(function(){!(v==null)&&typeof v!=="number"&&v.TAG===0&&typeof d!=="number"&&d.TAG===1&&b("bs_curry")._1(s,void 0)},[v,d]);h.useEffect(function(){if(!t)return;var a=Date.now(),d={contents:void 0},e=function e(f){f=(Date.now()-a)/1e3;if(f>=60)return c(1);else{c({TAG:1,_0:f});d.contents=b("bs_caml_option").some(b("setTimeout")(e,1e3));return}};d.contents=b("bs_caml_option").some(b("setTimeout")(e,1e3));return function(a){a=d.contents;if(a!==void 0){b("clearTimeout")(b("bs_caml_option").valFromOption(a));return}}},[t]);a=h.useCallback(function(a){return c({TAG:0,_0:a})},[]);var w=h.useCallback(function(a){c(2);n.current=void 0;p.current=void 0;f.current=void 0;a=o.current;if(a!==void 0){URL.revokeObjectURL(a);o.current=void 0;return}},[]),x=h.useCallback(function(a){var d=n.current;if(d===void 0)return c(0);d=b("bs_caml_option").valFromOption(d);if(typeof a==="number")return c(0);switch(a.TAG|0){case 0:return c(0);case 1:d.play().then(function(a){c(0);return b("Promise").resolve(void 0)})["catch"](function(a){i.onReady(function(a){return b("bs_curry")._1(a.logBrowserDenyAccess,void 0)});return b("Promise").resolve(void 0)});return;case 2:d.pause();return c(0)}},[n]),y=h.useCallback(function(a){return new(b("Promise"))(function(d,c){c=p.current;if(c!==void 0)return d(c);q.current=function(a){return d(a)};if(typeof a==="number"||a.TAG!==0)return;else return b("bs_curry")._1(x,a)})},[]);return{state:d,start:a,reset:w,toggle:x,audioEl:n,getVoiceClip:y}}f.$MWChatAudioLog$Deferred=i;f.useVoiceRecorder=a}),null);
__d("StylexHelpers.bs",["stylex"],(function(a,b,c,d,e,f){"use strict";var g;(g||(g=b("stylex"))).inject(".spvqvc9t{clip:rect(0,0,0,0)}",1);g.inject(".ikw5e13s{clip-path:inset(50%)}",1);g.inject(".ebnioo9u{height:1px}",1);g.inject(".lq84ybu9{overflow-x:hidden}",1);g.inject(".hf30pyar{overflow-y:hidden}",1);g.inject(".s8sjc6am{position:absolute}",1);g.inject(".rfd0zzc9{width:1px}",1);a={visuallyHidden:{clip:"spvqvc9t",clipPath:"ikw5e13s",height:"ebnioo9u",overflowX:"lq84ybu9",overflowY:"hf30pyar",position:"s8sjc6am",width:"rfd0zzc9"}};f.styles=a}),null);
__d("MWV2ComposerView.bs",["CometMessengerComposerInner.react","FBID.bs","LSMediaUrl.bs","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","Locale","MAWGating.bs","MWLSActor.bs","MWPThreadTheme.bs","MWTooltipGroup.react","MWUseAriaDescribedByForComposer.bs","MWV2ChatComposerShareFileCallout.bs","MWV2ChatGrowingHotlikeButton.bs","MWV2ComposerEmojiButton.bs","MWV2ComposerFileButton.bs","MWV2ComposerGifButton.bs","MWV2ComposerMediaStaging.bs","MWV2ComposerPersistentMenuButton.bs","MWV2ComposerPlusButton.bs","MWV2ComposerRoundedCorners.bs","MWV2ComposerSendButton.bs","MWV2ComposerStickerButton.bs","MWV2ComposerVoiceRecorder.bs","MWV2IsTabFocusedContext.bs","MWV2UseVoiceRecorder.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","StylexHelpers.bs","UseCurrentDisplayMode.bs","bs_caml","bs_curry","bs_int64","gkx","killswitch","react","requireDeferred","stylex","useCometUniqueID","useCurrentDisplayMode","useDeferredModuleOnReady","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{display:"j83agx80",alignItems:"aovydwv3",paddingTop:"pybr56ya",paddingBottom:"f10w8fjw"},hidden:{display:"mkhogb32"},container:{position:"l9j0dhe7",flexGrow:"buofh1pr",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},button:{position:"pmk7jnqg",bottom:"i09qtzwb",display:"j83agx80",justifyContent:"taijpn5t",alignItems:"bp9cbjyn"},buttonFDS:{marginEnd:"cgat1ltu",marginBottom:"tvmbv18p"},buttonMDS:{marginBottom:"oygrvhab"},buttonHidden:{transform:"qpbg1qsm",transitionProperty:"flx89l3n",transitionDuration:"mb8dcdod"},buttonShown:{transform:"g3zh7qmp",transitionProperty:"flx89l3n",transitionDuration:"mb8dcdod"},fileButtonHidden:{transitionDelay:"lbhrjshz"},stickerButtonHidden:{transitionDelay:"awe8hfj4"},gifButtonHidden:{transitionDelay:"lxbcnve3"},fileButtonShown:{transitionDelay:"lbhrjshz"},stickerButtonShown:{transitionDelay:"tntlmw5q"},gifButtonShown:{transitionDelay:"chkx7lpg"},composer:{flexGrow:"buofh1pr",display:"j83agx80",transitionProperty:"flx89l3n",transitionDuration:"dpja2al7"},emojiButton:{end:"n7fi1qx3"}},k=b("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("MWV2ComposerView.bs");function l(a){var c=b("MWLSActor.bs").useActor(void 0),d=b("useReStore")(),e=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("participants")),{hd:a.threadKey,tl:0}),function(a){return[b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("contacts")),{hd:a.contactId,tl:0})),a]})},[d,JSON.stringify(a.threadKey)])),f=i.useMemo(function(){return e.reduce(function(a,d){var e=d[0];if(e!==void 0&&b("bs_caml").i64_neq(e.id,c))return a.concat([[e,d[1]]]);else return a},[])},[e,c]);return i.useMemo(function(){return new Map(f.map(function(a){var c=a[1];a=a[0];var d=c.isAdmin,e=b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.id)),f=a.name,g=a.name;c=c.nickname;var h=b("LSMediaUrl.bs").Contact.profilePictureUrl(a);d=d!==void 0?d:!1;var i=a.workJobTitle,j=a.secondaryName;e={contactId:e,name:f,actualName:g,nickname:c,profileUrl:void 0,profilePictureUrl:h,isContact:!0,isAdmin:d,jobTitle:i,secondaryName:j};return[b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.id)),e]}))},[f])}function m(a){var c=b("useDeferredModuleOnReady")(k);i.useEffect(function(){if(!(c==null))return b("bs_curry")._2(c,a,16)},[a,c])}function a(a){var c=a.thread,d=a.editor,e=a.mediaStaging,f=a.onSendMessage,g=a.onAttachmentsAdded,k=a.onAttachmentRemoved,n=a.supportedFileTypes,o=a.hasStuffToSend,p=a.editorElementRef,q=a.sendMessage;a=a.isSendDisabled;a=a!==void 0?a:!1;var r=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType),s=b("MWV2IsTabFocusedContext.bs").useContext(void 0),t=b("MWPThreadTheme.bs").useBottom(void 0),u=b("useCurrentDisplayMode")();u=u===b("UseCurrentDisplayMode.bs").darkTheme&&r?"var(--always-white)":t;t=a||!s?void 0:u;var v=b("MWV2UseVoiceRecorder.bs").useVoiceRecorder(void 0);s=v.state!==0;u=function(a){b("bs_curry")._1(v.getVoiceClip,v.state).then(function(a){b("bs_curry")._1(v.reset,void 0);b("bs_curry").app(f,[void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0,void 0]);return b("Promise").resolve(void 0)})};var w=l(c),x=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").mentions,c),y=b("Locale").isRTL(),z=b("MAWGating.bs").isStickerEnabled(void 0)&&r,A=!b("gkx")("1787596")&&(b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").sticker,c)||z),B=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").gif,c)&&!b("gkx")("1787594"),C=!b("gkx")("1787595"),D=b("gkx")("571"),E=D?[36,8]:[32,4],F=E[0],G=0+F|0,H=G+F|0,I=y?{right:0..toString()+"px"}:{left:0..toString()+"px"};G=y?{right:G.toString()+"px"}:{left:G.toString()+"px"};var J=y?{right:H.toString()+"px"}:{left:H.toString()+"px"};y={transform:"translateX("+(o?D?8..toString()+"px":"0":(y?"-":"")+((H+F|0)+E[1]|0).toString()+"px")+")"};H=b("MWUseAriaDescribedByForComposer.bs").useHook(c);F=b("useCometUniqueID")();E=b("MWV2ChatComposerShareFileCallout.bs").useHook(c.threadKey,o);m(d);return i.jsxs("div",{className:(h||(h=b("stylex")))(j.root),children:[i.jsx("div",{ref:E[0],children:i.jsx(b("MWV2ComposerPlusButton.bs").make,{thread:c,color:t,onSendMessage:f,onAttachmentsAdded:g,voiceRecorder:v,supportedFileTypes:n,isInputExpanded:o})}),s?i.jsxs(i.Fragment,{children:[i.jsx(b("MWV2ComposerVoiceRecorder.bs").make,{voiceRecorder:v}),i.jsx(b("MWV2ComposerSendButton.bs").make,{color:t,onPress:u,disabled:a})]}):null,i.jsxs("div",{className:h(s?j.hidden:!1,j.container),children:[i.jsxs(b("MWTooltipGroup.react"),{children:[i.jsx("div",{className:h(j.button,D?j.buttonMDS:j.buttonFDS,o?j.buttonHidden:j.buttonShown,o?j.fileButtonHidden:j.fileButtonShown),ref:E[1],style:I,children:i.jsx(b("MWV2ComposerFileButton.bs").make,{color:t,onAttachmentsAdded:g,supportedFileTypes:n,disabled:!C})}),i.jsx("div",{className:h(j.button,D?j.buttonMDS:j.buttonFDS,o?j.buttonHidden:j.buttonShown,o?j.stickerButtonHidden:j.stickerButtonShown),style:G,children:i.jsx(b("MWV2ComposerStickerButton.bs").make,{color:t,onSendMessage:f,disabled:!A,useSecureSend:z})}),i.jsx("div",{className:h(j.button,D?j.buttonMDS:j.buttonFDS,o?j.buttonHidden:j.buttonShown,o?j.gifButtonHidden:j.gifButtonShown),style:J,children:i.jsx(b("MWV2ComposerGifButton.bs").make,{color:t,onSendMessage:f,disabled:!B,isSecureThread:r})})]}),i.jsxs("div",{className:h(j.composer),style:y,children:[i.jsx("div",{id:F,className:h(b("StylexHelpers.bs").styles.visuallyHidden),children:H}),i.jsx(b("CometMessengerComposerInner.react"),{contentEditableRef:p,editor:d,testId:"chat_input:rich-input",topContent:i.jsx(b("MWV2ComposerMediaStaging.bs").make,{thread:c,mediaStaging:e,onAttachmentRemoved:k,onAttachmentsAdded:g,supportedFileTypes:n}),threadID:b("bs_int64").to_string(c.threadKey),participants:w,handlePastedFiles:g,useMentionsPlugin:x&&b("LSMessagingThreadTypeUtil.bs").isGroup(c.threadType),ariaDescribedBy:F})]}),i.jsx("div",{className:h(s?j.hidden:!1,j.button,D?j.buttonMDS:j.buttonFDS,j.emojiButton),children:i.jsx(b("MWV2ComposerEmojiButton.bs").make,{editor:d,color:t})}),s?null:i.jsx(b("MWV2ComposerRoundedCorners.bs").TopRight.make,{}),s?null:i.jsx(b("MWV2ComposerRoundedCorners.bs").BottomRight.make,{})]}),s?null:o?i.jsx(b("MWV2ComposerSendButton.bs").make,{color:t,onPress:function(a){return b("bs_curry")._1(q,void 0)},disabled:a}):c.hasPersistentMenu&&!b("killswitch")("MESSENGER_WEB_PERSISTENT_MENU")?i.jsx(b("MWV2ComposerPersistentMenuButton.bs").make,{thread:c,color:t,onSendMessage:f,disabled:a}):i.jsx(b("MWV2ChatGrowingHotlikeButton.bs").make,{onSendMessage:f,color:t,thread:c,disabled:a})]})}c=a;f.useEmojiTextNodeTransform=m;f.make=c}),null);
__d("MWV2FileDropzone.bs",["fbt","LS.bs","LSIssueNewError","LSTransaction.bs","MDSText.react","bs_caml_option","bs_curry","cometIsMimeTypeForMedia","gkx","promiseDone","react","recoverableViolation","stylex","useFileDragEvents","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=j.createContext(null);function l(a){var b=a.fileUploadHandlerRef;a=a.children;return j.createElement(k.Provider,{value:b,children:a})}c={make:l};var m={root:{flexGrow:"buofh1pr",display:"j83agx80",flexDirection:"cbu4d94t",maxWidth:"d2edcug0",position:"l9j0dhe7",minHeight:"tgvbjcpo"},dropzone:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",position:"pmk7jnqg",bottom:"i09qtzwb",end:"n7fi1qx3",start:"j9ispegn",top:"kr520xx4",backgroundColor:"ms7hmo2b",zIndex:"tkr6xdv7"}};function n(a){if(a==null)return[];a=a.dataTransfer;if(a==null)return[];else return a.types}function o(a,c){var d=c!==0?c!==1?g._(/*FBT_CALL*/"Some files are unsupported and cannot be shared to this chat"/*FBT_CALL*/).toString():g._(/*FBT_CALL*/"Certain file types are unsupported in this chat."/*FBT_CALL*/).toString():void 0;if(d===void 0)return;c=b("LSTransaction.bs").run(a,function(a){return b("LSIssueNewError")(void 0,void 0,d,d,b("LS.bs").make(a))},"readWrite");b("promiseDone")(c,void 0,void 0)}function p(a){if(b("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a.type)||b("cometIsMimeTypeForMedia").isMimeTypeForVideo(a.type))return!0;else return a.type.startsWith("audio/")}d=["text/plain","text/html","text/uri-list"];var q=new Set(d);function a(a){var c=a.children,d=a.isMediaOnly;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;var e=j.useRef(null),f=b("useReStore")(),h=!b("gkx")("1835569"),k=h||e.current==null;h=function(a){var b=e.current;if(b==null)return!1;else return!n(a).some(function(a){return q.has(a)})};h=b("useFileDragEvents")(function(a){return!1},void 0,h);var r=j.useCallback(function(a){var c=e.current;if(c==null)b("recoverableViolation")("Could not find fileUploadHandlerRef to handle dropped file!","messenger_comet");else{a=Array.from(a);var g=d?a.filter(p):a;a.length!==g.length&&o(f,a.length);!k&&g.length!==0&&b("bs_curry")._1(c,g)}},[k,d]),s=j.useRef(null);b("useFileDragEvents")(r,s.current,function(a){return!0});return j.jsxs("div",{className:(i||(i=b("stylex")))(m.root,a),ref:s,children:[j.jsx(l,{fileUploadHandlerRef:e,children:c}),!k&&h?j.jsx("div",{className:(i||(i=b("stylex")))(m.dropzone),children:j.jsx(b("MDSText.react"),{type:"body1",children:g._(/*FBT_CALL*/"Drop files here"/*FBT_CALL*/)})}):null]})}e=a;f.context=k;f.ContextProvider=c;f.styles=m;f.getMediaTypes=n;f.ignoredMediaTypes=d;f.ignoredMediaTypesSet=q;f.make=e}),null);
__d("MWV2OpenMediaStaging.bs",["ReQL.bs","ReQLSubscription.bs","bs_caml","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").fromTableAscending(c.table("media_staging")),function(c){if(c.isSent)return!1;else return b("bs_caml").i64_eq(c.threadKey,a.threadKey)})},[c,JSON.stringify(a.threadKey)]))}f.useMediaStaging=a}),null);
__d("MWV2OpenTypingState.bs",["LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSMessagingThreadTypeUtil.bs","LSSendTypingIndicator","LSTransaction.bs","MWChatViewerChatVisibilityHook","MWLSActor.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSuspense","bs_belt_Option","bs_caml","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c,d,e){if(b("bs_caml").i64_eq(d,b("MessagingThreadType.bs").oneToOne)&&b("bs_caml").i64_neq(c,e)){return(d=b("ReQL.bs")).first(d.map(d.filter(d.getKeyRange(d.fromTableAscending(a.table("participants")),{hd:c,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,e)}),function(c){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:c.contactId,tl:0})),!1,function(a){return b("bs_caml").i64_eq(a.blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").unblocked)})})).then(function(a){return b("Promise").resolve(b("bs_belt_Option").getWithDefault(a,!1))})}else return b("Promise").resolve(!0)}function a(a){var c=b("useReStore")(),d=b("MWLSActor.bs").useActor(void 0),e=b("MWChatViewerChatVisibilityHook")();return h.useCallback(function(f){if(!(b("bs_caml").i64_ge(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative)&&e))return;var g=i(c,a.threadKey,a.threadType,d).then(function(d){if(d)return b("LSTransaction.bs").run(c,function(c){return b("LSSendTypingIndicator")(a.threadKey,b("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType),f,b("LS.bs").make(c))},"readWrite");else return b("Promise").resolve(void 0)});b("promiseDone")(g,void 0,void 0)},[c,JSON.stringify(a.authorityLevel),JSON.stringify(a.threadKey),JSON.stringify(a.threadType),e,d])}f.useOnTypingStateChanged=a}),null);
__d("CometInteractionTracingQuickLogModule",[],(function(a,b,c,d,e,f){a=Object.freeze({APP_COLLECTIONS_TAIL_LOAD:30605376,APP_SECTIONS_FEED_TAILLOAD:30605366,BLUE_ON_COMET_MODAL:30605363,BOOKMARK_ITEM:30613596,CHANNEL_TAB_ALL_VIDEOS_CARD_FETCH_MORE:30605391,CHANNEL_TAB_LATEST_VIDEOS_CARD_HSCROLL_LOAD_MORE:30605392,CHANNEL_TAB_PLAYLISTS_CARD_FETCH_MORE:30605390,CHANNEL_TAB_SERIES_CARD_FETCH_MORE:30605389,CHAT_TAB_OPEN:30605380,CHAT_TAB_SEND_MESSAGE:30605384,COLLECTIONS_TAILLOAD:30605367,COMMUNITY_VIEW_DIALOG_OPEN:30614747,COMPOSER_SUBMIT_PROCESSING:30605375,DIALOG_SHOW:30605362,EVENT_RSVP_WWW:30605345,FEED_COMPOSER_DIALOG_OPEN:30605316,FEED_PREFERENCES_DIALOG_OPEN:30605385,GROUP_COMPOSER_DIALOG_OPEN:30605340,GROUP_MALL_FEED_TAILLOAD:30605332,HOMEPAGE_BADGED_NAVIGATION:30632331,HOME_FEED_TAILLOAD:30605313,HOVERCARD_SHOW:30619670,LWI_SECTION_OPTION_CHANGE:30605381,MARKETPLACE_BUY_LOCATION_DIALOG_OPEN:30605342,MARKETPLACE_COMPOSER_CREATE:30605344,MARKETPLACE_DEALS_FEED_PAGINATION:30605371,MARKETPLACE_ECOMM_PRODUCT_FEED_PAGINATION:30605373,MARKETPLACE_FEED_SAVED_PAGINATION:30605347,MARKETPLACE_HOME_FEED_PAGINATION:30605341,MARKETPLACE_SEARCH_FEED_PAGINATION:30605343,NOTIFICATION_PAGINATION:30605314,PAGE_ABOUT_FACEPILES_SEE_ALL_DIALOG_LOAD:30605358,PAGE_ABOUT_OPEN_MAP_VIEW:30605325,PAGE_ADMIN_SELECT_MANAGED_PAGE:30605324,PAGE_APPOINEMENT_SETTING_INITIAL_LOAD:30620522,PAGE_COMMUNITY_FACEPILES_SEE_ALL_DIALOG_LOAD:30605356,PAGE_COMMUNITY_TOP_FANS_CARD_SEE_ALL_DIALOG_LOAD:30605355,PAGE_COMPOSER_DIALOG_OPEN:30605333,PAGE_HOME_CARD_SEE_ALL_DIALOG_LOAD:30605330,PAGE_LIKE:30605317,PAGE_OPEN_VIDEO:30605318,PAGE_PHOTO_TAB_FETCH_MORE:30605331,PAGE_POST_OPEN_DETAILS:30605327,PAGE_REVIEWS_COMPOSER_TRIGGER:30605369,PAGE_REVIEWS_FEED_SORT:30605368,PAGE_REVIEWS_RECOMMENDATION_POST:30605370,PAGE_VIDEO_TAB_FETCH_MORE:30605319,POPOVER_SHOW:30605361,PRIVACY_SELECTOR_DIALOG_LOAD:30605326,PRIVACY_SELECTOR_SAVED_CUSTOM_PAGINATION:30605365,PROFILE_COMPOSER_DIALOG_OPEN:30605360,PROFILE_MENTIONS_FEED_TAILLOAD:30616610,PROFILE_PICTURE_MENU_OPEN:30615365,PROFILE_PIC_EDIT_DIALOG_LOAD_MORE:30605386,PROFILE_PIC_EDIT_DIALOG_OPEN:30605387,PROFILE_PIC_OPEN:30605364,PROFILE_RATINGS_REVIEWS_FEED_TAILLOAD:30617968,PROFILE_SWITCHING_TTI:30618615,PROFILE_TILES_TAILLOAD:30605378,PYMK_FEED_PAGINATION:30618398,REELS_VIEWER_VIDEO_TRANSITION:30612548,SEARCH_TYPEAHEAD:30620813,SEE_MORE_FEED_UNIT:30615438,STORY_VIEWER_BUCKETS_TRANSITION:30613201,STORY_VIEWER_NAV_LIST_LOAD_PAGINATION:30605322,TAHOE_COMMENT_CREATE:30621572,TARGETING_DIALOG_OPEN:30605379,TA_TTRC_COMET:30605354,TIMELINE_FEED_TAILLOAD:30605315,UFI_LOAD_MORE_COMMENTS:30605393,UFI_REACTIONS_DIALOG_OPEN:30605374,VIDEO_HOME_CATALOG_ALL_SHOWS_PAGINATION:30605336,VIDEO_HOME_CATALOG_MORE_FACEBOOK_ORIGINALS_PAGINATION:30605382,VIDEO_HOME_CATALOG_NAV:30605349,VIDEO_HOME_CHANNEL_PAGINATION:30605372,VIDEO_HOME_CONTEXT_MENU_TRIGGER:30605353,VIDEO_HOME_FEED_NAV:30605352,VIDEO_HOME_FEED_PAGINATION:30605334,VIDEO_HOME_LATEST_NAV:30605351,VIDEO_HOME_LATEST_PAGINATION:30605335,VIDEO_HOME_PLAYLIST_VIDEO_LIST_PAGINATION:30605337,VIDEO_HOME_SAVED_NAV:30605350,VIDEO_HOME_SAVED_PAGINATION:30605339,VIDEO_HOME_SETTINGS_TOGGLE:30605346,VIDEO_HOME_SPORTS_HIGHLIGHTS_PAGINATION:30605359,VIDEO_HOME_WATCHLIST_PAGE_NAV:30605348,VIDEO_HOME_WATCHLIST_PAGINATION:30605338});f["default"]=a}),66);
__d("MWLSDefaultThreadSource.bs",["LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","MWLSThreadDisplayContext.bs","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("MWLSThreadDisplayContext.bs").useHook(void 0);var c=a!==void 0?a===1?"inboxInThread":a===0?"chatInThread":"unknown":"unknown";return h.useCallback(function(a){return b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(b("LSThreadAttributionStore.bs").getSource(c,b("bs_int64").to_string(a)))},[c])}f.useHook=a}),null);
__d("MWMediaTraceHandler.bs",["LS.bs","LSAppendDataTraceAddon","LSDataTraceCheckPoint.bs","LSDataTraceType.bs","MAWTimeUtils.bs","WATimeUtils","bs_caml_int64","bs_int64"],(function(a,b,c,d,e,f){"use strict";function g(a,c){return a.table("data_trace_meta").add({traceId:c,initTimestampMs:b("MAWTimeUtils.bs").toTimestamp(b("WATimeUtils").unixTime()),foregroundTimestampMs:b("bs_caml_int64").zero,traceType:b("LSDataTraceType.bs").task,shouldFlush:!1,contextOne:void 0,contextTwo:void 0,contextThree:void 0,predefinedId:void 0})}function a(a,c,d,e){return g(a,c).then(function(f){return b("LSAppendDataTraceAddon")(c,b("LSDataTraceCheckPoint.bs").richMediaUploadStart,b("bs_caml_int64").neg_one,void 0,b("bs_int64").to_string(d)+","+b("bs_int64").to_string(e),b("LS.bs").make(a))})}f.logMediaSendStart=a}),null);
__d("MWV2ComposerMediaUploadUtil.bs",["MessagingAttachmentType.bs","URI","XComposerPhotoUploader","bs_caml","bs_caml_array","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","cometIsMimeTypeForMedia","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d,e,f,h){a=a!==void 0?a:function(a,b){};var i=d!==void 0?d:function(a,b){};d=e!==void 0?e:!1;e=new(b("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:function(a,c){b("bs_curry")._2(i,a,c);return!0},onUploadProgress:b("bs_curry").__2(a),onUploadStart:function(a){},onUploadSuccess:function(a,d){d=b("bs_caml_array").get(d.response.payload.metadata,0);var e=d.fbid,f=d.video_id,g=d.audio_id,h=d.gif_id;d=d.file_id;e=e!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(e)):f!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(f)):g!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(g)):h!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(h)):d!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(d)):void 0;e!==void 0?b("bs_curry")._2(c,a,e):b("unrecoverableViolation")("Unrecognized file upload success payload","messenger_comet")},retryLimit:1,uploadEndpoint:new(g||(g=b("URI")))("/ajax/mercury/upload.php")});a=d?{data:{voice_clip:!0}}:void 0;e.getAsyncFileUploadRequest(f,h,a).send()}function c(a){a=a.type;if(b("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a))return b("MessagingAttachmentType.bs").image;else if(a==="audio/wav")return b("MessagingAttachmentType.bs").audio;else if(a==="image/gif")return b("MessagingAttachmentType.bs").animatedImage;else if(b("cometIsMimeTypeForMedia").isMimeTypeForVideo(a))return b("MessagingAttachmentType.bs").video;else return b("MessagingAttachmentType.bs").file}function d(a,c,d){return{attachment_fbid:a,offline_attachment_id:a,attachment_type:b("MessagingAttachmentType.bs").audio,attachment_index:b("bs_caml_int64").zero,filename:void 0,filesize:void 0,has_media:!0,has_xma:!1,playable_url:URL.createObjectURL(c),playable_url_mime_type:c.type,playable_duration_ms:b("bs_caml_int64").of_float(d*1e3),preview_url:void 0,preview_url_mime_type:void 0,mini_preview:void 0,preview_width:void 0,preview_height:void 0,xma_layout_type:void 0,xmas_template_type:void 0,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,image_url:void 0,action_url:void 0,title_text:void 0,subtitle_text:void 0,description_text:void 0,source_text:void 0,original_file_hash:void 0}}function e(a,c){a=a.map(function(a){return{attachment_fbid:a.offlineAttachmentId,offline_attachment_id:a.offlineAttachmentId,attachment_type:a.attachmentType,attachment_index:b("bs_caml_int64").zero,filename:a.filename,filesize:void 0,has_media:!0,has_xma:!1,playable_url:a.previewUrl,playable_url_mime_type:a.mimeType,playable_duration_ms:void 0,preview_url:a.previewUrl,preview_url_mime_type:void 0,mini_preview:void 0,preview_width:[0,200],preview_height:[0,200],xma_layout_type:void 0,xmas_template_type:void 0,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,image_url:void 0,action_url:void 0,title_text:void 0,subtitle_text:void 0,description_text:void 0,source_text:void 0,original_file_hash:void 0}});var d=[],e=[];a.forEach(function(a){b("bs_caml").i64_eq(a.attachment_type,b("MessagingAttachmentType.bs").image)&&!c?e.push(a):d.push([a])});e.length>0&&d.unshift(e);return d.map(function(a){return a.map(function(a,c){a=b("bs_caml_obj").caml_obj_dup(a);a.attachment_index=b("bs_caml_int64").of_int32(c);return a})})}f.startUpload=a;f.getAttachmentType=c;f.getAudioAttachment=d;f.createPartitionedAttachments=e}),null);
__d("MWV2OpenComposerUtils.bs",["LSMailboxType.bs","LSRemoveMediaSendJobs","LSResumeMediaSendJob","LSTransaction.bs","MWConsole","MWV2ComposerMediaUploadUtil.bs","Promise","bs_caml_int64","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("LSTransaction.bs").run(a,function(a){return b("Promise").all(c.map(function(c){var e=c[0];return a.table("media_staging").add({offlineAttachmentId:c[1],mailboxType:b("LSMailboxType.bs").messenger,attachmentType:b("MWV2ComposerMediaUploadUtil.bs").getAttachmentType(e),mimeType:e.type,filename:e.name,fileSize:b("bs_caml_int64").of_int32(e.size),fbid:void 0,threadKey:d,offlineThreadingId:void 0,previewUrl:URL.createObjectURL(e),previewWidth:void 0,previewHeight:void 0,durationMs:void 0,progress:0,isSent:!1,hasError:!1})}))},"readWrite")}function c(a,c){return a.table("media_staging").get({hd:c,tl:0}).then(function(d){if(d!==void 0)return a.table("media_staging")["delete"]({hd:c,tl:0});else return b("Promise").resolve(void 0)})}function d(a,c,d){return a.table("media_staging").get({hd:c,tl:0}).then(function(c){if(c!==void 0)return a.table("media_staging").put(b("bs_curry")._1(d,c));else return b("Promise").resolve(void 0)})}function e(a,c,d,e,f){return a.table("attachments").get({hd:c,tl:{hd:d,tl:{hd:e,tl:0}}}).then(function(g){if(g!==void 0)return a.table("attachments").upsert({hd:c,tl:{hd:d,tl:{hd:e,tl:0}}},b("bs_curry")._1(f,g));else return b("Promise").resolve(void 0)})}function g(a,c,d){return b("LSResumeMediaSendJob")(c,b("bs_caml_int64").zero,d!==void 0?b("bs_caml_option").valFromOption(d):void 0,a).then(function(d){d=d[0];if(d)return b("LSRemoveMediaSendJobs")(c,a);else return b("Promise").resolve(void 0)})}f.insertMediaStaging=a;f.deleteMediaStaging=c;f.updateMediaStaging=d;f.updateAttachment=e;f.resumeSendJob=g}),null);
__d("MessagingBackend.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.messengerInfra=a;f.whatsappInfra=c}),null);
__d("SendEventType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.sendAttempt=a;f.sendAcknowledgement=c}),null);
__d("MWV2SendOpenMessage.bs",["FBID.bs","LS.bs","LSAuthorityLevel.bs","LSDict","LSFlushDataTrace.bs","LSGenerateTraceId.bs","LSInsertNewMediaSend","LSInt64.bs","LSLocalApplyOptimisticMessageWithAttachments","LSMailboxType.bs","LSMarkSubJobCompletedV2","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessagingInitiatingSourceHook.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticSendMessage","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSTransaction.bs","LSUpdateDraftMessage","LSVec.bs","MAWDualSendPermissionsManager.bs","MWCMThreadTypes.bs","MWCMUseFolder.bs","MWConsole","MWLSActor.bs","MWLSDefaultThreadSource.bs","MWLSLogSend.bs","MWMediaTraceHandler.bs","MWV2ComposerMediaUploadUtil.bs","MWV2OpenComposerUtils.bs","MWV2ReplyContext.bs","MWVersion.bs","MessagingBackend.bs","MessagingLoggingUtils.bs","MessagingLoggingUtilsAttachmentTypeInt.bs","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","OfflineThreadingId.bs","Promise","ReQL.bs","SendEventType.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_array","bs_caml_format","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","promiseDone","qpl","react","requireDeferred","useCometInteractionTracing","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("requireDeferred")("MWLogSend.bs").__setRef("MWV2SendOpenMessage.bs");function j(a,c,d,e,f,g,h,k,l){i.onReady(function(i){return b("bs_curry").app(i.log,[a,c,d,f,g,e,h,k,l,b("SendEventType.bs").sendAttempt,b("MessagingBackend.bs").messengerInfra,void 0,void 0,void 0,void 0])})}var k=b("requireDeferred")("MWCMLogCommunityConversion.bs").__setRef("MWV2SendOpenMessage.bs");function l(a,c,d){k.onReady(function(e){return b("bs_curry")._4(e.log,a,c,!1,d)})}function m(a,c,d,e){if(c!==void 0)return b("MWMediaTraceHandler.bs").logMediaSendStart(a,c,d,e);else return b("Promise").resolve(void 0)}function n(a,c,d,e,f){if(a===void 0)return;if(!a.startsWith("blob:"))return;var g={contents:function(a){}};g.contents=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("attachments")),{hd:e,tl:0}),function(d,e){if(typeof e==="number")return;if(e.TAG===0)return;d=e._0;if(d.attachmentFbid!==c.toString())return;e=d.playableUrl;if(e!==void 0&&!e.startsWith("blob:")){b("bs_curry")._1(g.contents,void 0);URL.revokeObjectURL(a);return}})}function o(a,c,d,e,f,g,h,i,k,n,o,p,q,r){var s=b("MWCMThreadTypes.bs").isAnyCMThread(a.threadType),t=b("LSGenerateTraceId.bs").make(void 0);return b("LSLocalApplyOptimisticMessageWithAttachments")(p,a.threadKey,a.threadType,void 0,void 0,void 0,void 0,b("bs_caml_option").option_get(i!==void 0?i.messageId:void 0),b("bs_caml_option").option_get(i!==void 0?b("LSMessageReplySourceType.bs").message:void 0),b("bs_caml_option").option_get(i!==void 0?b("LSMessageReplySourceTypeV2.bs").message:void 0),void 0,b("LSVec.bs").make(q.map(function(a){return b("LSDict").fromObject(a)})),void 0,d).then(function(c){var d=c[0];return e.table("messages_optimistic_context").add({taskId:b("bs_caml_format").caml_int64_of_string(d),threadKey:a.threadKey,offlineThreadingId:d,messageId:void 0,threadAttributionSource:g,externalAttachmentUrl:void 0,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,markThreadRead:!1,initiatingSource:h}).then(function(a){return b("Promise").resolve(d)})}).then(function(a){return m(e,t,b("bs_caml_int64").of_int32(q.length),o.contents).then(function(b){return[a,t]})}).then(function(m){var h=m[1],u=m[0];return b("Promise").all(q.map(function(c,g){return b("LSInsertNewMediaSend")(c.attachment_fbid,u,b("bs_caml_int64").of_int32(g),c.attachment_type,!1,!1,!1,!1,d).then(function(g){g=f.find(function(a){return b("bs_caml_obj").caml_equal(a.offlineAttachmentId,c.offline_attachment_id)});if(g!==void 0){var h=g.fbid;if(h!==void 0)return b("LSMarkSubJobCompletedV2")(c.attachment_fbid,h,void 0,void 0,void 0,d).then(function(a){return b("MWV2OpenComposerUtils.bs").deleteMediaStaging(e,c.attachment_fbid)}).then(function(d){return b("MWV2OpenComposerUtils.bs").updateAttachment(e,a.threadKey,u,c.attachment_fbid,function(a){a=b("bs_caml_obj").caml_obj_dup(a);a.attachmentFbid=b("bs_int64").to_string(h);return a})})}k.contents=!1;return b("MWV2OpenComposerUtils.bs").updateMediaStaging(e,c.attachment_fbid,function(a){return{offlineAttachmentId:a.offlineAttachmentId,mailboxType:a.mailboxType,attachmentType:a.attachmentType,mimeType:a.mimeType,filename:a.filename,fileSize:a.fileSize,fbid:a.fbid,threadKey:a.threadKey,offlineThreadingId:a.offlineThreadingId,previewUrl:a.previewUrl,previewWidth:a.previewWidth,previewHeight:a.previewHeight,durationMs:a.durationMs,progress:a.progress,isSent:!0,hasError:a.hasError}})})})).then(function(e){j(c,a.threadKey,a.threadType,p,n,q.map(function(a){return b("LSInt64.bs").ofString(a.attachment_fbid)}),g,o.contents,i!==void 0);s&&l(b("MessagingLoggingUtils.bs").convertToAttachmentType(o.contents),b("bs_int64").to_string(a.threadKey),r);return b("MWV2OpenComposerUtils.bs").resumeSendJob(d,u,h)})}).then(function(a){return b("LSFlushDataTrace.bs").updateAndFlushTrace(e,b("bs_belt_Option").getExn(t))})}function a(a,c){var d=b("useReStore")(),e=b("MWLSActor.bs").useActor(void 0),f=h.useContext(b("MWV2ReplyContext.bs").context),g=f.clearReply,i=f.reply,k=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0),p=b("MAWDualSendPermissionsManager.bs").useIsThreadEligible(a.threadKey,a.threadType),q=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").splitMultiSendPhoto,a),r=b("useCometInteractionTracing")(b("qpl")._(30605384,"573"),"fast","INTERACTION");f=b("MWCMUseFolder.bs").useHook(a);var s=f!==void 0?b("bs_int64").to_string(f.fbGroupId):"",t=b("MWLSDefaultThreadSource.bs").useHook(void 0);return h.useMemo(function(){return function(f,h,u,v,w,x,y,z,A,B,C){var D=b("MWCMThreadTypes.bs").isAnyCMThread(a.threadType);return r(function(r){var E=b("bs_curry")._1(t,a.threadKey),F={contents:!0},G=b("LSGenerateTraceId.bs").make(void 0),H={contents:b("MessagingLoggingUtilsAttachmentTypeInt.bs").none},I=b("LSTransaction.bs").run(d,function(c){var g=b("LS.bs").make(c);return b("LSUpdateDraftMessage")(a.threadKey,"",g).then(function(t){if(z===void 0)return b("ReQL.bs").toArray(b("ReQL.bs").filter(b("ReQL.bs").fromTableAscending(c.table("media_staging")),function(c){if(c.isSent)return!1;else return b("bs_caml").i64_eq(c.threadKey,a.threadKey)})).then(function(m){var n=h!==void 0?b("bs_caml_option").some(b("LSDict").fromObject({mention_offsets:h.map(function(a){return String(a.offset)}).join(","),mention_lengths:h.map(function(a){return String(a.length)}).join(","),mention_ids:h.map(function(a){return a.id}).join(","),mention_types:h.length!==0?h.map(function(a){return a.type}).join(","):void 0})):void 0,t=f!==void 0?f.trim()!=="":!1,z=u!==void 0?(H.contents=b("MessagingLoggingUtilsAttachmentTypeInt.bs").sticker,!0):!1,I=x!==void 0?(H.contents=b("MessagingLoggingUtilsAttachmentTypeInt.bs").gif,!0):!1;t=t||z||I?b("LSOptimisticSendMessage")(e,a.threadKey,a.threadType,b("LSMailboxType.bs").messenger,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,void 0,void 0,u!==void 0?b("bs_caml_option").valFromOption(u):void 0,v!==void 0?b("bs_caml_option").valFromOption(v):void 0,x!==void 0?b("bs_caml_option").valFromOption(x):void 0,w!==void 0?b("bs_caml_option").valFromOption(w):void 0,E,void 0,A!==void 0?b("bs_caml_option").valFromOption(A):void 0,b("bs_caml_option").option_get(i!==void 0?i.messageId:void 0),b("bs_caml_option").option_get(i!==void 0?b("LSMessageReplySourceType.bs").message:void 0),b("bs_caml_option").option_get(i!==void 0?b("LSMessageReplySourceTypeV2.bs").message:void 0),void 0,void 0,n!==void 0?b("bs_caml_option").valFromOption(n):void 0,b("bs_caml").i64_ge(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative),!1,y!==void 0?b("bs_caml_option").valFromOption(y):void 0,k!==void 0?b("bs_caml_option").valFromOption(k):void 0,G!==void 0?b("bs_caml_option").valFromOption(G):void 0,g).then(function(a){b("MWLSLogSend.bs").logSentWithHeroInteraction(r,a[0],k,i!==void 0,b("MWVersion.bs").v2)(p);return b("Promise").resolve(b("bs_caml_option").some(a))}):b("Promise").resolve(void 0);z=function(a){return a.then(function(a){if(B===void 0)return b("Promise").resolve(void 0);if(a!==void 0){a=b("bs_caml_option").valFromOption(a)[0];b("bs_curry")._1(B,a);return b("Promise").resolve(a)}b("bs_curry")._1(B,void 0);return b("Promise").resolve(void 0)})};if(m.length===0)return z(t).then(function(c){D&&l(H.contents,b("bs_int64").to_string(a.threadKey),s);j(d,a.threadKey,a.threadType,e,c,[],E,H.contents,i!==void 0);return b("Promise").resolve(void 0)});I=b("bs_caml_array").get(m,0);H.contents=b("MessagingLoggingUtils.bs").convertToAttachmentType(I.attachmentType);return z(t).then(function(f){return b("MWV2ComposerMediaUploadUtil.bs").createPartitionedAttachments(m,q).reduce(function(b,h){return b.then(function(b){return o(a,d,g,c,m,E,k,i,F,f,H,e,h,s)})},b("Promise").resolve(void 0)).then(function(c){c=b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.threadKey));c=b("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType)?[c,null]:[null,c];var d=c[1],e=c[0];b("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:F.contents?b("MessengerWebEvent").HIT_SEND_MESSAGE_WITH_ALL_FILES_UPLOADED:b("MessengerWebEvent").HIT_SEND_MESSAGE_WITH_FILES_PENDING,other_user_fbid:d,thread_fbid:e,extra_data:null}});return b("Promise").resolve(void 0)})})});t=b("OfflineThreadingId.bs").make(void 0);var I=b("MWV2ComposerMediaUploadUtil.bs").getAudioAttachment(t,z.file,z.duration);return m(c,G,b("bs_caml_int64").one,b("MessagingLoggingUtilsAttachmentTypeInt.bs").fbVoiceMessage).then(function(c){return b("LSLocalApplyOptimisticMessageWithAttachments")(e,a.threadKey,a.threadType,void 0,void 0,void 0,void 0,b("bs_caml_option").option_get(i!==void 0?i.messageId:void 0),b("bs_caml_option").option_get(i!==void 0?b("LSMessageReplySourceType.bs").message:void 0),b("bs_caml_option").option_get(i!==void 0?b("LSMessageReplySourceTypeV2.bs").message:void 0),void 0,b("LSVec.bs").make([b("LSDict").fromObject(I)]),void 0,g)}).then(function(d){var e=d[0];return c.table("messages_optimistic_context").add({taskId:b("bs_caml_format").caml_int64_of_string(e),threadKey:a.threadKey,offlineThreadingId:e,messageId:void 0,threadAttributionSource:E,externalAttachmentUrl:void 0,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,markThreadRead:!1,initiatingSource:k}).then(function(a){return b("Promise").resolve(e)})}).then(function(a){var c=I.attachment_fbid;return b("LSInsertNewMediaSend")(c,a,b("bs_caml_int64").zero,I.attachment_type,!1,!1,!1,!1,g).then(function(d){return b("Promise").resolve([a,c])})}).then(function(c){var f=c[1],g=c[0];c=function(c,h){b("LSTransaction.bs").run(d,function(c){var e=b("LS.bs").make(c);return b("LSMarkSubJobCompletedV2")(f,b("bs_caml_int64").of_float(h),void 0,void 0,void 0,e).then(function(a){return b("MWV2OpenComposerUtils.bs").resumeSendJob(e,g,G)}).then(function(c){n(I.playable_url,h,d,a.threadKey,void 0);return b("Promise").resolve(void 0)})},"readWrite");D&&l(I.attachment_type,b("bs_int64").to_string(a.threadKey),s);return j(d,a.threadKey,a.threadType,e,g,[b("LSInt64.bs").string(b("bs_caml_int64").of_float(h))],E,b("MessagingLoggingUtils.bs").convertToAttachmentType(I.attachment_type),i!==void 0)};b("MWV2ComposerMediaUploadUtil.bs").startUpload(void 0,c,void 0,!0,[z.file],[f]);return b("Promise").resolve(void 0)})})},"readWrite").then(function(d){b("bs_curry")._1(c,void 0);b("bs_curry")._2(g,a.threadKey,!1);return b("Promise").resolve(void 0)});b("promiseDone")(I,void 0,void 0)})}},[b("bs_int64").to_string(a.threadKey),i,g,c,JSON.stringify(a.authorityLevel),k,r])}f.$MWLogSend$Deferred=i;f.logSend=j;f.$MWCMLogCommunityConversion$Deferred=k;f.logCommunityConversionSend=l;f.logMediaSendStart=m;f.setupSubscriptionToRevokeObjectURL=n;f.sendAttachmentMessage=o;f.useOnSendOpenMessage=a}),null);
__d("MWV2UseOnAttachmentsAddedOpen.bs",["LS.bs","LSGenerateTraceId.bs","LSMarkSubJobCompletedV2","LSTransaction.bs","MWConsole","MWV2ComposerMediaUploadUtil.bs","MWV2OpenComposerUtils.bs","OfflineThreadingId.bs","Promise","bs_caml_int64","bs_caml_obj","promiseDone","useReStore"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("useReStore")();return function(d){var e=d.map(function(a){return[a,b("OfflineThreadingId.bs").make(void 0)]});b("promiseDone")(b("MWV2OpenComposerUtils.bs").insertMediaStaging(c,e,a.threadKey),void 0,void 0);var f=function(a,d){d=d.event;if(!d.lengthComputable)return;var e=d.loaded/d.total;b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("MWV2OpenComposerUtils.bs").updateMediaStaging(c,a,function(a){return{offlineAttachmentId:a.offlineAttachmentId,mailboxType:a.mailboxType,attachmentType:a.attachmentType,mimeType:a.mimeType,filename:a.filename,fileSize:a.fileSize,fbid:a.fbid,threadKey:a.threadKey,offlineThreadingId:a.offlineThreadingId,previewUrl:a.previewUrl,previewWidth:a.previewWidth,previewHeight:a.previewHeight,durationMs:a.durationMs,progress:e,isSent:a.isSent,hasError:a.hasError}})},"readWrite"),void 0,void 0)},g=function(d,e){b("promiseDone")(b("LSTransaction.bs").run(c,function(c){var f=b("MWV2OpenComposerUtils.bs").updateMediaStaging(c,d,function(a){return{offlineAttachmentId:a.offlineAttachmentId,mailboxType:a.mailboxType,attachmentType:a.attachmentType,mimeType:a.mimeType,filename:a.filename,fileSize:a.fileSize,fbid:b("bs_caml_int64").of_float(e),threadKey:a.threadKey,offlineThreadingId:a.offlineThreadingId,previewUrl:a.previewUrl,previewWidth:a.previewWidth,previewHeight:a.previewHeight,durationMs:a.durationMs,progress:1,isSent:a.isSent,hasError:a.hasError}}),g=c.table("media_send_jobs").get({hd:d,tl:0}).then(function(f){if(f===void 0)return b("Promise").resolve(void 0);var g=b("LS.bs").make(c),h=f.offlineThreadingId,i=f.offlineAttachmentId;return b("LSMarkSubJobCompletedV2")(d,b("bs_caml_int64").of_float(e),void 0,void 0,void 0,g).then(function(a){return b("MWV2OpenComposerUtils.bs").deleteMediaStaging(c,d)}).then(function(d){return b("MWV2OpenComposerUtils.bs").updateAttachment(c,a.threadKey,h,i,function(a){a=b("bs_caml_obj").caml_obj_dup(a);a.attachmentFbid=e.toString();return a})}).then(function(a){return b("MWV2OpenComposerUtils.bs").resumeSendJob(g,h,b("LSGenerateTraceId.bs").make(void 0))})});return b("Promise").all([f,g])},"readWrite"),void 0,void 0)},h=function(a,d){b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("MWV2OpenComposerUtils.bs").updateMediaStaging(c,a,function(a){return{offlineAttachmentId:a.offlineAttachmentId,mailboxType:a.mailboxType,attachmentType:a.attachmentType,mimeType:a.mimeType,filename:a.filename,fileSize:a.fileSize,fbid:a.fbid,threadKey:a.threadKey,offlineThreadingId:a.offlineThreadingId,previewUrl:a.previewUrl,previewWidth:a.previewWidth,previewHeight:a.previewHeight,durationMs:a.durationMs,progress:a.progress,isSent:a.isSent,hasError:!0}})},"readWrite"),void 0,void 0)};e=e.map(function(a){return a[1]});return b("MWV2ComposerMediaUploadUtil.bs").startUpload(f,g,h,void 0,d,e)}}f.useOnAttachmentsAdded=a}),null);
__d("MWV2UseOnAttachmentsRemovedOpen.bs",["LSTransaction.bs","MWV2OpenComposerUtils.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return h.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("MWV2OpenComposerUtils.bs").deleteMediaStaging(c,a)},"readWrite"),void 0,void 0)},[c])}f.useOnAttachmentsRemoved=a}),null);
__d("MWV2OpenComposer.bs",["MWPComposerEditor.bs","MWV2ComposerReplyView.bs","MWV2ComposerView.bs","MWV2FileDropzone.bs","MWV2OpenMediaStaging.bs","MWV2OpenTypingState.bs","MWV2ReplyContext.bs","MWV2SendOpenMessage.bs","MWV2UseOnAttachmentsAddedOpen.bs","MWV2UseOnAttachmentsRemovedOpen.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.forwardRef(function(a,c){var d=a.thread,e=a.isPreviewThread,f=a.afterSendMessage;a=a.onSendEmptyMessage;var g=h.useContext(b("MWV2ReplyContext.bs").context);g=g.reply;var i=b("MWV2UseOnAttachmentsAddedOpen.bs").useOnAttachmentsAdded(d),j=b("MWV2UseOnAttachmentsRemovedOpen.bs").useOnAttachmentsRemoved(void 0),k=b("MWV2SendOpenMessage.bs").useOnSendOpenMessage(d,f);f=b("MWV2OpenTypingState.bs").useOnTypingStateChanged(d);h.useImperativeHandle(c,function(){return b("bs_curry").__1(i)},[i]);var l=b("MWV2OpenMediaStaging.bs").useMediaStaging(d);return h.jsxs("div",{children:[g!==void 0?h.jsx(b("MWV2ComposerReplyView.bs").make,{thread:d,messageId:g.messageId,messageTimestamp:g.timestampMs}):null,h.jsx(b("MWPComposerEditor.bs").make,{thread:d,isPreviewThread:e,mediaStaging:l,onSendMessage:k,onSendEmptyMessage:a,onAttachmentsAdded:i,onAttachmentRemoved:j,onTypingStateChanged:f,children:function(a,c,e,f){return h.jsx(b("MWV2ComposerView.bs").make,{thread:d,editor:a,mediaStaging:l,onSendMessage:k,onAttachmentsAdded:i,onAttachmentRemoved:j,supportedFileTypes:void 0,hasStuffToSend:c,editorElementRef:e,sendMessage:f})}})]})});c={make:i};function j(a){}function a(a){var c=a.thread,d=a.isPreviewThread,e=a.afterSendMessage;a=a.onSendEmptyMessage;e=e!==void 0?e:j;a=a!==void 0?a:j;var f=h.useContext(b("MWV2FileDropzone.bs").context);return h.jsx(i,{thread:c,isPreviewThread:d,afterSendMessage:e,onSendEmptyMessage:a,ref:f})}d=a;f.Inner=c;f.make=d}),null);
__d("MWV2ComposerCommon.bs",["BootloaderResource","CometErrorBoundary.re","CometPlaceholder.react","FBID.bs","JSResource","LSContactBitOffset.bs","LSContactBlockedByViewerStatus.bs","LSContactCapabilityBitOffset.bs","LSContactReachabilityStatusType.bs","LSMessagingThreadTypeUtil.bs","LSNullstateCTAType.bs","MAWDualSendPermissionsManager.bs","MAWGating.bs","MAWThreadCutover.bs","MWCMUseFolder.bs","MWChatUnavailableComposer.bs","MWLSActor.bs","MWLSFeatureLimitedStatus.bs","MWLSThreadReportingToken.bs","MWPParticipantsAndContactsForThread.bs","MWV2ComposerDisclosure.bs","MWV2DisabledPageComposer.bs","MWV2ErrorComposer.bs","MWV2OpenComposer.bs","MWV2ThreadIsPage.bs","MessengerThreadCannotReplyReason","ReQL.bs","ReQLSubscription.bs","RecoverableViolation.react","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_int64","cr:1163","cr:2885","gkx","react","stylex","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("JSResource")("MWChatFeatureLimitsBlockedComposer.bs").__setRef("MWV2ComposerCommon.bs");function a(a){return{}}function k(a){return i.createElement(b("BootloaderResource").read(j).make,a)}a={reasonResource:j,makeProps:a,make:k};var l=b("JSResource")("MWChatLeftGroupComposer.bs").__setRef("MWV2ComposerCommon.bs");function c(a,c){c={};a!==void 0&&(c.thread=b("bs_caml_option").valFromOption(a));return c}function m(a){return i.createElement(b("BootloaderResource").read(l).make,a)}c={reasonResource:l,makeProps:c,make:m};var n=b("JSResource")("MWCMGroupMutedComposer.bs").__setRef("MWV2ComposerCommon.bs");function d(a,c){c={};a!==void 0&&(c.size=b("bs_caml_option").valFromOption(a));return c}function o(a){return i.createElement(b("BootloaderResource").read(n).make,a)}d={reasonResource:n,makeProps:d,make:o};var p=b("JSResource")("MWChatRestrictedComposer.bs").__setRef("MWV2ComposerCommon.bs");function q(a,b,c,d){return{fbid:a,thread:b,threadKey:c}}function r(a){return i.createElement(b("BootloaderResource").read(p).make,a)}var s={reasonResource:p,makeProps:q,make:r},t=b("JSResource")("MWChatBlockedComposer.bs").__setRef("MWV2ComposerCommon.bs");function u(a,c,d,e,f,g){g={fbid:a,thread:c,reportingToken:d};e!==void 0&&(g.size=b("bs_caml_option").valFromOption(e));f!==void 0&&(g.isReachable=b("bs_caml_option").valFromOption(f));return g}function v(a){return i.createElement(b("BootloaderResource").read(t).make,a)}var w={reasonResource:t,makeProps:u,make:v},x=b("JSResource")("MWChatCutoverComposer.bs").__setRef("MWV2ComposerCommon.bs");function e(a,c){c={};a!==void 0&&(c.thread=b("bs_caml_option").valFromOption(a));return c}function y(a){return i.createElement(b("BootloaderResource").read(x).make,a)}e={reasonResource:x,makeProps:e,make:y};var z={placeholder:{borderTop:"opwvks06"}};function A(a){a=a.height;return i.jsx("div",{className:(h||(h=b("stylex")))(z.placeholder),style:{height:a.toString()+"px"}})}var B={styles:z,make:A};function C(a){var c=a.thread,d=a.isPreviewThread,e=a.afterSendMessage;a=a.onSendEmptyMessage;var f=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType),g=b("MAWDualSendPermissionsManager.bs").useIsThreadEligible(c.threadKey,c.threadType),h;if(b("cr:2885")==null)h=2;else{if(f)return i.jsx(b("cr:2885").make,{thread:c,isPreviewThread:d,afterSendMessage:e,onSendEmptyMessage:a});h=2}return h===2&&!(b("cr:1163")==null)&&g?i.jsx(b("cr:1163").make,{thread:c,isPreviewThread:d,afterSendMessage:e,onSendEmptyMessage:a}):i.jsx(b("MWV2OpenComposer.bs").make,{thread:c,isPreviewThread:d,afterSendMessage:e,onSendEmptyMessage:a})}var D={make:C};function E(a){var c=a.thread,d=a.afterSendMessage,e=a.onSendEmptyMessage;a=a.isPreviewThread;var f=b("bs_caml_obj").caml_equal(c.cannotReplyReason,b("MessengerThreadCannotReplyReason").VIEWER_NOT_SUBSCRIBED),g=b("MWCMUseFolder.bs").useHook(c);if(g!==void 0){g=g.sendsBlockedUntil;g=g!==void 0?b("bs_caml").i64_neq(g,b("bs_caml_int64").zero):!1}else g=!1;var h=b("MAWThreadCutover.bs").useIsCutoverThread(c.threadKey);if(f&&b("gkx")("408"))return i.jsx(m,{});else if(g)return i.jsx(o,{size:"small"});else if(h)return i.jsx(y,{});else return i.jsx(C,{thread:c,isPreviewThread:a,afterSendMessage:d,onSendEmptyMessage:e})}var F={make:E};function G(a){var c=a.thread,d=a.otherUser,e=a.afterSendMessage,f=a.onSendEmptyMessage;a=a.isPreviewThread;var g=b("MWLSThreadReportingToken.bs").fromThread(c),h=b("bs_caml").i64_neq(d.blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").unblocked),j=b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").message,d),!0),k=b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").replyMessage,d),!0),l=b("MWV2ThreadIsPage.bs").useIsPage(void 0);l=!l&&(!j||!k);j=d.blockedSinceTimestampMs;k=j!==void 0?!1:l;j=d.contactReachabilityStatusType;l=j!==void 0?b("bs_caml").i64_eq(b("LSContactReachabilityStatusType.bs").reachable,j):!0;j=b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").restrictPlaced,d),!1);var m=b("MAWThreadCutover.bs").useIsCutoverThread(c.threadKey);if(l)if(h)return i.jsx(b("CometPlaceholder.react"),{children:i.jsx(v,u(b("FBID.bs").ofStringExn(b("bs_int64").to_string(d.id)),c,g,void 0,void 0,void 0)),fallback:i.jsx(A,{height:189})});else if(j)return i.jsx(b("CometPlaceholder.react"),{children:i.jsx(r,q(b("FBID.bs").ofStringExn(b("bs_int64").to_string(d.id)),c,c.threadKey,void 0)),fallback:i.jsx(A,{height:128})});else if(k)return i.jsx(b("MWChatUnavailableComposer.bs").make,{});else if(m)return i.jsx(y,{});else return i.jsx(C,{thread:c,isPreviewThread:a,afterSendMessage:e,onSendEmptyMessage:f});else return i.jsx(b("CometPlaceholder.react"),{children:i.jsx(v,u(b("FBID.bs").ofStringExn(b("bs_int64").to_string(d.id)),c,void 0,void 0,!1,void 0)),fallback:i.jsx(A,{height:35})})}var H={make:G};function I(a){var c=a.thread,d=a.isPreviewThread,e=a.afterSendMessage;a=a.onSendEmptyMessage;var f=b("useReStore")(),g=b("MWLSActor.bs").useActor(void 0),h=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(f.table("thread_nullstate")),{hd:c.threadKey,tl:0})},[f,JSON.stringify(c.threadKey)]));h=h!==void 0?b("bs_caml").i64_eq(h.ctaType,b("LSNullstateCTAType.bs").getStarted):!1;var j=b("bs_caml").i64_neq(c.lastActivityTimestampMs,b("bs_caml_int64").zero),l=b("MWPParticipantsAndContactsForThread.bs").useValue(c),m=b("bs_caml").i64_eq(g,c.threadKey),n=i.useMemo(function(){if(!b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.threadType))return;if(l.length===1){var a=l[0];if(m)return a}return b("bs_caml_option").undefined_to_opt(l.find(function(a){return b("bs_caml").i64_neq(a[1].id,g)}))},[JSON.stringify(g),m,l]),o=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType);o=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0)&&(!o||b("MAWGating.bs").isFeatureLimitEnabled(void 0));return i.jsxs(i.Fragment,{children:[i.jsx(b("MWV2ComposerDisclosure.bs").make,{thread:c,participantsAndContacts:l}),h&&!j?null:c.disableComposerInput&&c.hasPersistentMenu?i.jsx(b("MWV2DisabledPageComposer.bs").make,{thread:c}):o?i.jsx(k,{}):b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.threadType)?n!==void 0?i.jsx(G,{thread:c,otherUser:n[1],afterSendMessage:e,onSendEmptyMessage:a,isPreviewThread:d}):i.jsx(b("RecoverableViolation.react"),{errorMessage:"Missing contact row",projectName:"messenger_comet"}):i.jsx(E,{thread:c,afterSendMessage:e,onSendEmptyMessage:a,isPreviewThread:d})]})}var J={make:I};function K(a){var c=a.thread,d=a.isPreviewThread,e=a.afterSendMessage;a=a.onSendEmptyMessage;return i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return i.jsx(b("MWV2ErrorComposer.bs").make,{})},children:i.jsx(b("CometPlaceholder.react"),{children:i.jsx(b("MWV2ThreadIsPage.bs").make,{thread:c,children:i.jsx(I,{thread:c,isPreviewThread:d,afterSendMessage:e,onSendEmptyMessage:a})}),fallback:null})})}K=K;f.MWChatFeatureLimitsBlockedComposerLazy=a;f.MWChatLeftGroupComposerLazy=c;f.MWCMGroupMutedComposerLazy=d;f.MWChatRestrictedComposerLazy=s;f.MWChatBlockedComposerLazy=w;f.MWChatCutoverComposerLazy=e;f.Placeholder=B;f.$MAWSecureComposer$requireCondXplat=b("cr:2885");f.$MWV2DualSendComposer$requireCond=b("cr:1163");f.ActualComposer=D;f.GroupComposer=F;f.OneToOneComposer=H;f.Impl=J;f.make=K}),null);
__d("MWV2ChatTabComposer.bs",["LS.bs","LSAddMessengerContact","LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","LSTransaction.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWLSActor.bs","MWV2ComposerCommon.bs","ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){}function a(a){var c=a.thread,d=a.tab,e=a.isPreviewThread,f=a.secureThreadToggle;a=a.afterSendMessage;var g=f!==void 0?f:!1,j=a!==void 0?a:i,k=b("useReStore")(),l=b("MWChatStateV2.bs").useDispatch(void 0);f=d.tabType;var m;m=f.TAG===0?c.clientThreadKey:f._0.clientThreadKey;var n=b("MWLSActor.bs").useActor(void 0),o=h.useCallback(function(a){a=d.tabType;if(a.TAG===0)return b("bs_curry")._1(l,b("MWChatStateActions.bs").lockInTab(Date.now(),d.tabId,{threadKey:c.threadKey,clientThreadKey:c.clientThreadKey,threadType:c.threadType}))},[d,c]);a=h.useCallback(function(a){if(!b("LSMessagingThreadTypeUtil.bs").isGroup(c.threadType))return b("bs_curry")._1(o,void 0)},[o,c]);f=h.useCallback(function(a){b("bs_curry")._1(j,void 0);b("bs_curry")._1(o,void 0);if(m!==void 0&&b("bs_caml").i64_neq(c.authorityLevel,b("LSAuthorityLevel.bs").authoritative)){var e={contents:function(a){}};e.contents=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexAscending(k.table("threads").index("clientThreadKey")),{hd:m,tl:0}),function(a,c){if(typeof c==="number")return;a=c._0;if(b("bs_caml").i64_eq(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative)){b("bs_curry")._1(e.contents,void 0);return b("bs_curry")._1(l,b("MWChatStateActions.bs").updateThreadKeyDescriptor(d.tabId,a.threadKey,a.clientThreadKey))}})}if((b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType)||g)&&b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.threadType)){b("promiseDone")(b("LSTransaction.bs").run(k,function(a){var d;return(d=b("ReQL.bs")).first(d.filter(d.map(d.getKeyRange(d.fromTableAscending(k.table("participants")),{hd:c.threadKey,tl:0}),function(a){return a.contactId}),function(a){return b("bs_caml").i64_neq(a,n)})).then(function(c){if(c!==void 0)return b("LSAddMessengerContact")(c,b("LS.bs").make(a))})},"readWrite"),void 0,void 0);return}},[c,d,l,JSON.stringify(m),j,k,n]);return h.jsx(b("MWV2ComposerCommon.bs").make,{thread:c,isPreviewThread:e,afterSendMessage:f,onSendEmptyMessage:a})}c=a;f.noop=i;f.make=c}),null);
__d("FBLikeSvgIcon.bs",["bs_caml_option","react","uniqueID"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.className,d=a.color,e=a.size;a=a.title;e=e!==void 0?e:"20";var f=a!==void 0?b("bs_caml_option").valFromOption(a):null;a=h.useState(function(){if(f===null)return;else return b("uniqueID")()});a=a[0];return h.jsxs("svg",{"aria-labelledby":a,viewBox:"0 0 16 16",height:e,width:e,className:c,children:[a!==void 0&&f!==null?h.jsx("title",{id:a,children:f}):null,h.jsx("path",{fill:d,d:"M16,9.1c0-0.8-0.3-1.1-0.6-1.3c0.2-0.3,0.3-0.7,0.3-1.2c0-1-0.8-1.7-2.1-1.7h-3.1c0.1-0.5,0.2-1.3,0.2-1.8 c0-1.1-0.3-2.4-1.2-3C9.3,0.1,9,0,8.7,0C8.1,0,7.7,0.2,7.6,0.4C7.5,0.5,7.5,0.6,7.5,0.7L7.6,3c0,0.2,0,0.4-0.1,0.5L5.7,6.6 c0,0-0.1,0.1-0.1,0.1l0,0l0,0L5.3,6.8C5.1,7,5,7.2,5,7.4v6.1c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,1,1,2,1h5.2c0.9,0,1.4-0.3,1.8-0.9 c0.3-0.5,0.2-1,0.1-1.4c0.5-0.2,0.9-0.5,1.1-1.2c0.1-0.4,0-0.8-0.2-1C15.6,10.3,16,9.9,16,9.1z"}),h.jsx("path",{fill:d,d:"M3.3,6H0.7C0.3,6,0,6.3,0,6.7v8.5C0,15.7,0.3,16,0.7,16h2.5C3.7,16,4,15.7,4,15.3V6.7C4,6.3,3.7,6,3.3,6z"})]})}c=a;f.make=c}),null);
__d("MWChatBlockQuote.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsx("blockquote",{className:"ii04i59q dati1w0a hv4rvrfc tvmbv18p aahdfvyu hcukyx3x cxmmr5t8 peup4ujy mk2mc5f4 lmiizvyk",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSExecuteCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(119).fetch(),function(b){return c.i64.eq(b.ctaId,a[0])}).next().then(function(a,e){var g=a.done;a=a.value;return g?0:(e=a.item,d[0]=new c.Map(),d[0].set("banner_id",e.bannerId),d[0].set("cta_type",e.ctaType),d[0].set("context_id",e.contextId),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"in_thread_banner_execute_cta_queue",[0,73],d[1],f,f,[0,0],[0,0],f,f,[0,0]))})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSFetchBanners",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"in_thread_banner_fetch_activity_banners_queue",[0,72],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticProcessMarketplaceCallFunctionCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=[0,1],d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("action_type",a[4]),d[2].set("attachment_fbid",a[2]),d[2].set("message_id",a[0]),d[2].set("target_id",a[3]),d[2].set("thread_key",a[1]),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"process_marketplace_xma_cta",[0,185],d[3],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSServerMutationCta",["LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?(d[4]=c.localizeV2([0,2285622730],f),d[5]=c.localizeV2([0,1919524925],f),c.sp(b("LSIssueNewError"),f,[0,1545093],d[4],d[5])):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("marketplace_cta_type",a[1]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"marketplace_server_mutation_cta",[0,279],d[3],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSRequestAdContextFromThreadKey",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"ctm_ad_context",[0,235],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MessengerPlatformClientTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};c.setIsemployee=function(a){this.$1.isemployee=a;return this};c.setLoggingToken=function(a){this.$1.logging_token=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setRawclienttime=function(a){this.$1.rawclienttime=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};return a}();c={appid:!0,appversion:!0,client_userid:!0,clienttime:!0,country:!0,deviceid:!0,extra_client_data:!0,isemployee:!0,logging_token:!0,name:!0,rawclienttime:!0,sessionid:!0,thread_id:!0};f["default"]=a}),66);
__d("FBPayHubTransactionDetailDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5143584382330074"}),null);
__d("FBPayHubTransactionDetailDialogQuery$Parameters.facebook",["FBPayHubTransactionDetailDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("FBPayHubTransactionDetailDialogQuery_facebookRelayOperation"),metadata:{},name:"FBPayHubTransactionDetailDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("FBPayHubTransactionDetailDialogQuery$Parameters",["cr:1932967"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1932967")}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4252207364789784"}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters",["CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceConfirmMarkAsPaidDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4048841598565751"}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters",["CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogContentQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4754947091203574"}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters",["CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogNUXQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3372974126058277"}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery$Parameters",["CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceInboxLabelChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3780157165378049"}),null);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters",["CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useMessengerUnsendNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3302322696546660"}),null);
__d("useMessengerUnsendNUXQuery.graphql",["useMessengerUnsendNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c=[{kind:"Variable",name:"nux_id",variableName:"id"}],d={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("useMessengerUnsendNUXQuery_facebookRelayOperation"),metadata:{},name:"useMessengerUnsendNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="1365264733527467"}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql",["GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerPlatformCtaPostHandlingResponsePayload",kind:"LinkedField",name:"messenger_platform_cta_post_handling",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:c},params:{id:b("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"),metadata:{},name:"GraphQLMessengerPlatformCtaPostHandlingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("FBPayHubTransactionDetailDialog.entrypoint",["FBPayHubTransactionDetailDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.transactionID;return{queries:{fBPayHubTransactionDetailDialogQueryReference:{parameters:b("FBPayHubTransactionDetailDialogQuery$Parameters"),variables:{transaction_id:a}}}}},root:c("JSResourceForInteraction")("FBPayHubTransactionDetailDialog.react").__setRef("FBPayHubTransactionDetailDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint",["CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceConfirmMarkAsPaidDialogQueryReference:{parameters:c("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters"),variables:{thread_id:a.threadId}}}}},root:c("JSResourceForInteraction")("CometMarketplaceConfirmMarkAsPaidDialog.react").__setRef("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceCreateDiscountedPriceDialog.entrypoint",["CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters","CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=d("WebPixelRatio").get();return{queries:{cometMarketplaceCreateDiscountedPriceDialogContentQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters"),variables:{thread_id:a.threadId}},cometMarketplaceCreateDiscountedPriceDialogNUXQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters"),variables:{contentParams:{pixelRatio:b},scale:b}}}}},root:c("JSResourceForInteraction")("CometMarketplaceCreateDiscountedPriceDialog.react").__setRef("CometMarketplaceCreateDiscountedPriceDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceInboxLabelChatDialog.entrypoint",["CometMarketplaceInboxLabelChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceInboxLabelChatDialogQueryReference:{parameters:c("CometMarketplaceInboxLabelChatDialogQuery$Parameters"),variables:{id:a.thread_id}}}}},root:c("JSResourceForInteraction")("CometMarketplaceInboxLabelChatDialog.react").__setRef("CometMarketplaceInboxLabelChatDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint",["CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQueryReference:{parameters:c("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters"),variables:{id:a.threadId,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.react").__setRef("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint")};g["default"]=a}),98);
__d("MAWChatJid.bs",["MAWBackendBridge.bs","MAWThreadId.bs","Promise","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=h.useMemo(function(){return{contents:void 0}},[]);h.useMemo(function(){b("promiseDone")(b("MAWThreadId.bs").ofThreadKey(c,a).then(function(a){if(a)return b("bs_curry")._1(b("MAWBackendBridge.bs").getThreadJidByChatId({threadId:a._0}).sendAndReceive,void 0).then(function(a){d.contents=a});else return b("Promise").resolve((d.contents=void 0,void 0))}),void 0,void 0)},[c,a,d]);return function(a){return d.contents}}f.useThreadJidCallback=a}),null);
__d("MWLSAdContextCtaParser.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");c=new Set(["ads_context"]);function a(a){var c=h.useRef(null);a=b("useCometLazyDialog")(b("JSResource")("MWCTMAdContextDialog.react").__setRef("MWLSAdContextCtaParser.bs"));var d=a[0];return function(a,b){var e=b.ctaType;if(e==="ads_context")return{TAG:1,_0:function(c){return d({adId:b.ctaId,threadKey:a.banner.threadKey,onClose:function(a){}},function(a){})},_1:c};else return 0}}f.adContextCta=c;f.useHook=a}),null);
__d("MWLSEnsureAdContextExists.bs",["LS.bs","LSRequestAdContextFromThreadKey","LSTransaction.bs","MWThreadKey.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);h.useEffect(function(){var a=b("LSTransaction.bs").run(c,function(a){return b("LSRequestAdContextFromThreadKey")(d,b("LS.bs").make(a))},"readWrite");b("promiseDone")(a,void 0,void 0)},[d,c])}f.useHook=a}),null);
__d("MWChatVideoPlayer.bs",["MWChatVideoPlayer.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWChatVideoPlayer.react");f.make=a}),null);
__d("MWChatHeaderDetailsSubtitleIcons.bs",["cr:1737008"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1737008").Muted;f.$MDSMWChatHeaderDetailsSubtitleIcons$OR$TetraMWChatHeaderDetailsSubtitleIcons$requireCond=b("cr:1737008");f.Muted=a}),null);
__d("MWChatHeaderDetailsSubtitle.bs",["fbt","ix","CometMiddot.react","CometTintedIcon.react","MWCMInboxHeaderCommunityGroupName.bs","MWCMThreadTypes.bs","MWChatHeaderDetailsSubtitleIcons.bs","MWLSThread.bs","MWThread_DEPRECATED.bs","MWTooltip.react","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.isMuted,d=a.isOngoingCall,e=a.isActiveNow;a=a.actorAttribution;var f=b("MWThread_DEPRECATED.bs").useIdExn(void 0);f=b("MWThread_DEPRECATED.bs").toThreadKey(f);f=b("MWLSThread.bs").useThread(f);var i,k=0;f!==void 0&&b("MWCMThreadTypes.bs").isJoinedCMThread(f.threadType)?i=j.jsx(b("MWCMInboxHeaderCommunityGroupName.bs").make,{thread:f}):k=1;k===1&&(i=d?g._(/*FBT_CALL*/"Ongoing call"/*FBT_CALL*/):e?g._(/*FBT_CALL*/"Active Now"/*FBT_CALL*/):a!==void 0?a:null);f=c&&i!==null?j.jsx(b("CometMiddot.react"),{}):null;k=c?j.jsx(b("MWTooltip.react"),{tooltip:g._(/*FBT_CALL*/"This conversation is muted. Chat tabs will not pop up for it and push notifications are off."/*FBT_CALL*/),align:"start",position:"above",children:j.jsx(b("CometTintedIcon.react"),{color:"secondary",icon:b("fbicon")._(h("636130"),12),testid:"comet_messenger_mute_icon"})}):null;return j.jsxs(j.Fragment,{children:[i,f,k]})}function c(a){return g._(/*FBT_CALL*/"Active Now"/*FBT_CALL*/)}function d(a){a=a.forceInlineDisplay;var c={tooltip:g._(/*FBT_CALL*/"This conversation is muted. Chat tabs will not pop up for it and push notifications are off."/*FBT_CALL*/),align:"start",position:"above",children:b("bs_curry")._1(b("MWChatHeaderDetailsSubtitleIcons.bs").Muted.icon,void 0)};a!==void 0&&(c.forceInlineDisplay=a);return j.jsx(b("MWTooltip.react"),c)}function e(a){return g._(/*FBT_CALL*/"Ongoing call"/*FBT_CALL*/)}a=a;c=c;d=d;e=e;f.make=a;f.activeNow=c;f.mutedIcon=d;f.ongoingCall=e}),null);
__d("MWChatRTCButtonIcons.bs",["cr:1755417"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1755417")).$$Audio;d=a.Video;e=a.Info;f.$MDSMWChatRTCButtonIcons$OR$TetraMWChatRTCButtonIcons$requireCond=a;f.$$Audio=c;f.Video=d;f.Info=e}),null);
__d("TetraMWChatHeaderDetailsSubtitleIcons.bs",["ix","CometTintedIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){return i.jsx(b("CometTintedIcon.react"),{color:"secondary",icon:b("fbicon")._(g("636130"),12),testid:"comet_messenger_mute_icon"})}c={icon:a};f.Muted=c}),null);
__d("TetraMWChatRTCButtonIcons.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={isActive:{fill:"p5kwug6e"}};function a(a,b){return i.jsxs("svg",{role:"presentation",width:b,height:b,viewBox:"-5 -5 30 30",children:[i.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648a15.9 15.9 0 011.713 1.147c.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",fill:a}),i.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648.824.484 1.394.898 1.713 1.147.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",stroke:a,fill:"none"})]})}e={icon:a};function c(a,c,d){d=d!==void 0?d:!1;var e=d?"-3":"-5";return i.jsxs("svg",{role:"presentation",width:c,height:c,viewBox:e+" -5 30 30",children:[i.jsx("path",{d:"M19.492 4.112a.972.972 0 00-1.01.063l-3.052 2.12a.998.998 0 00-.43.822v5.766a1 1 0 00.43.823l3.051 2.12a.978.978 0 001.011.063.936.936 0 00.508-.829V4.94a.936.936 0 00-.508-.828zM10.996 18A3.008 3.008 0 0014 14.996V5.004A3.008 3.008 0 0010.996 2H3.004A3.008 3.008 0 000 5.004v9.992A3.008 3.008 0 003.004 18h7.992z",fill:a}),d?i.jsx("circle",{cx:"24",cy:"10",r:"2",className:(h||(h=b("stylex")))(j.isActive)}):null]})}a={icon:c};function d(a,b){return i.jsx("svg",{role:"presentation",name:"icon",width:"24px",height:"24px",viewBox:"0 0 36 36",children:i.jsx("g",{transform:"translate(18,18)scale(1.2)translate(-18,-18)",children:i.jsx("path",{fill:a,stroke:a,d:"M18,10 C16.6195,10 15.5,11.119 15.5,12.5 C15.5,13.881 16.6195,15 18,15 C19.381,15 20.5,13.881 20.5,12.5 C20.5,11.119 19.381,10 18,10 Z M16,25 C16,25.552 16.448,26 17,26 L19,26 C19.552,26 20,25.552 20,25 L20,18 C20,17.448 19.552,17 19,17 L17,17 C16.448,17 16,17.448 16,18 L16,25 Z M18,30 C11.3725,30 6,24.6275 6,18 C6,11.3725 11.3725,6 18,6 C24.6275,6 30,11.3725 30,18 C30,24.6275 24.6275,30 18,30 Z"},"lens")})})}c={icon:d};f.styles=j;f.$$Audio=e;f.Video=a;f.Info=c}),null);
__d("MWChatConnectionStatus.bs",["fbt","MqttState.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{textAlign:"oqcyycmt",color:"eqrdut5j",fontWeight:"ekzkrbhg",fontSize:"r9r71o1u",display:"a8c37x1j",backgroundColor:"nred35xi"}};function l(a){return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:a})}function a(a){a=a.connectionStatus;if(a===b("MqttState.bs").connected)return null;else if(a===b("MqttState.bs").disconnected)return l(g._(/*FBT_CALL*/"No internet connection"/*FBT_CALL*/));else if(a===b("MqttState.bs").connecting)return l(g._(/*FBT_CALL*/"Connecting..."/*FBT_CALL*/));else return null}c=a;f.styles=k;f.renderStatus=l;f.make=c}),null);
__d("MWChatConnectionStatusCard.bs",["LSPlatformConnectionStatusContext.bs","MWChatConnectionStatus.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=h.useContext(b("LSPlatformConnectionStatusContext.bs").context);return h.jsx(b("MWChatConnectionStatus.bs").make,{connectionStatus:a.status})}c=a;f.make=c}),null);
__d("MWLSMarketplaceXmaCallFunctionCtaHandler.bs",["LS.bs","LSOptimisticProcessMarketplaceCallFunctionCTA","LSTransaction.bs","MWLSActor.bs","MWThreadKey.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=b("MWLSActor.bs").useActor(void 0);return h.useCallback(function(a){return function(e,f,g){var h=b("LSTransaction.bs").run(c,function(c){return b("LSOptimisticProcessMarketplaceCallFunctionCTA")(a,d,e,f,g,b("LS.bs").make(c))},"readWrite");b("promiseDone")(h,void 0,void 0)}},[c,d,a])}f.useMarketplaceXmaCallFunctionCtaHandler=a}),null);
__d("MWLSGroupMembershipDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResource","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){}function a(a){var c=a.children,d=h.useRef(null);return h.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWLSGroupMembershipDialog.react").__setRef("MWLSGroupMembershipDialogTrigger.bs"),dialogProps:{onClose:i},children:function(a){return b("bs_curry")._2(c,a,d)}})}c=a;f.onClose=i;f.make=c}),null);
__d("LSContactLink.bs",["CometLink.react","CometPressable.react","CurrentEnvironment","FBID.bs","MWLSContactTypeExactUtils.bs","XCometVanityURLControllerRouteBuilder","bs_caml_option","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.secondaryName,d=b("MWLSContactTypeExactUtils.bs").isIgContact(a);return c!==void 0&&d?"https://www.instagram.com/"+c:(b("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+b("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.id))})}var i={expanding:{display:"j83agx80"}};function c(a){var c=a.contact,d=a.children,e=a.isText,f=a.label;a=a.testid;e=e!==void 0?e:!0;var g=f!==void 0?b("bs_caml_option").some(f):void 0,j=c.secondaryName,k=b("MWLSContactTypeExactUtils.bs").isIgContact(c);if(j!==void 0&&k){k="https://www.instagram.com/"+j;if(e){j={href:k,target:"_blank",children:d};f!==void 0&&(j.label=f);a!==void 0&&(j.testid=a);return h.jsx(b("CometLink.react"),j)}j={expanding:!0,linkProps:{target:"_blank",url:k},overlayRadius:"50%",xstyle:function(a){return[i.expanding]},children:d};g!==void 0&&(j.label=b("bs_caml_option").valFromOption(g));a!==void 0&&(j.testid=b("bs_caml_option").valFromOption(a));return h.jsx(b("CometPressable.react"),j)}k=(b("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+b("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.id))});j=b("CurrentEnvironment").facebookdotcom?void 0:"_blank";if(e){c={href:k,children:d};j!==void 0&&(c.target=b("bs_caml_option").valFromOption(j));f!==void 0&&(c.label=f);a!==void 0&&(c.testid=a);return h.jsx(b("CometLink.react"),c)}e={url:k};j!==void 0&&(e.target=b("bs_caml_option").valFromOption(j));f={expanding:!0,linkProps:e,overlayRadius:"50%",xstyle:function(a){return[i.expanding]},children:d};g!==void 0&&(f.label=b("bs_caml_option").valFromOption(g));a!==void 0&&(f.testid=b("bs_caml_option").valFromOption(a));return h.jsx(b("CometPressable.react"),f)}d=c;f.getHref=a;f.styles=i;f.make=d}),null);
__d("LSPresenceStatusText.bs",["fbt","CometRelativeTimestamp.react","MWChatContactPresenceHook.bs","MWLSActor.bs","MessagingThreadType.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_curry","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._(/*FBT_CALL*/"Active now"/*FBT_CALL*/);function k(a){var c=a.threadKey;a=b("bs_int64").to_string(c);var d=b("useReStore")(),e=b("MWLSActor.bs").useActor(void 0);return b("ReQLSubscription.bs").useArray(i.useMemo(function(){var a;return(a=b("ReQL.bs")).map(a.filter(a.getKeyRange(a.fromTableAscending(d.table("participants")),{hd:c,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,e)}),function(a){return a.contactId})},[d,e,a]))}function l(a){var c=a.contactId,d=a.renderWrapper;a=a.renderNullState;var e=b("MWChatContactPresenceHook.bs").useIsActive(c);c=b("MWChatContactPresenceHook.bs").useLastActiveTimestampMs(c);if(e)return b("bs_curry")._1(d,j);else if(c!==void 0)return b("bs_curry")._1(d,g._(/*FBT_CALL*/"Active {time} ago"/*FBT_CALL*/,[g._param("time",i.jsx(b("CometRelativeTimestamp.react"),{date:new Date(c),format:"minimized"}))]));else return b("bs_curry")._1(a,void 0)}c={make:l};function m(a){var c=a.thread,d=a.renderWrapper;a=a.renderNullState;c=k(c);if(c.length!==1)return b("bs_curry")._1(a,void 0);c=c[0];return i.jsx(l,{contactId:c,renderWrapper:d,renderNullState:a})}d={PresenceText:c,make:m};function n(a){var c=a.thread,d=a.renderWrapper;a=a.renderNullState;c=k(c);c=b("MWChatContactPresenceHook.bs").useHasActiveContact(c);if(c)return b("bs_curry")._1(d,j);else return b("bs_curry")._1(a,void 0)}e={make:n};function o(a){return a}function p(a){return null}function a(a){var c=a.thread,d=a.renderWrapper;a=a.renderNullState;d=d!==void 0?d:o;a=a!==void 0?a:p;var e=c.threadType;if(b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").oneToOne))return i.jsx(m,{thread:c,renderWrapper:d,renderNullState:a});else if(b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").group))return i.jsx(n,{thread:c,renderWrapper:d,renderNullState:a});else return null}c=a;f.OneOnOnePresence=d;f.GroupPresence=e;f.defaultRenderWrapper=o;f.defaultRenderNullState=p;f.make=c}),null);
__d("LSVerificationBadge.bs",["CometPageVerificationIcon.react","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_caml","react","stylex","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={badge:{paddingStart:"scb9dxdr"}};function a(a){var c=a.thread;a=a.size;var d=b("useReStore")(),e=b("MWLSActor.bs").useActor(void 0),f=b("ReQLSubscription.bs").useArray(i.useMemo(function(){var a;return(a=b("ReQL.bs")).take(a.map(a.filter(a.getKeyRange(a.fromTableAscending(d.table("participants")),{hd:c.threadKey,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,e)}),function(a){var c=b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("contacts")),{hd:a.contactId,tl:0}));return[a,c]}),2)},[d,JSON.stringify(c.threadKey),e]));if(f.length!==1)return null;f=f[0];f=f[1];if(f!==void 0&&b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").verified,f)===!0)return i.jsx("span",{className:(h||(h=b("stylex")))(j.badge),children:i.jsx(b("CometPageVerificationIcon.react"),{size:a,verificationBadge:"BLUE_VERIFIED"})});else return null}c=a;f.styles=j;f.make=c}),null);
__d("MWInboxHeaderDetails.bs",["CometMiddot.react","CometPlaceholder.react","LSContactLink.bs","LSPresenceStatusText.bs","LSRtcCallState.bs","LSThreadTitle.bs","LSVerificationBadge.bs","MDSText.react","MWCMInboxHeaderCommunityGroupName.bs","MWCMThreadTypes.bs","MWChatCalculateIsMutedFromExpireTime.bs","MWChatHeaderDetailsSubtitle.bs","MWLSContactTypeExactUtils.bs","MWSeparatorContainer.react","MWVerticalRhythm.bs","MessagingThreadType.bs","MessengerMuteUtils.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_option","react","stylex","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"j83agx80",flexDirection:"cbu4d94t",alignItems:"ll8tlv6m",justifyContent:"taijpn5t",flexGrow:"buofh1pr",minHeight:"qx9c56kf"},item:{maxWidth:"d2edcug0",display:"j83agx80",alignItems:"bp9cbjyn"},middot:{paddingEnd:"ihtri3yf",paddingStart:"e9o6kcyi"}};function a(a){var c=a.thread,d=a.threadNameSize,e=a.color;a=a.isTitleALink;a=a!==void 0?a:!0;var f=b("useReStore")(),g=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(f.table("contacts")),{hd:c.threadKey,tl:0}),b("MWLSContactTypeExactUtils.bs").isIgContact)},[f,JSON.stringify(c.threadKey)])),k;if(g!==void 0){g=g.secondaryName;k=g!==void 0&&g!==""?g:null}else k=null;g=b("MWCMThreadTypes.bs").isJoinedCMThread(c.threadType);var l=b("MessengerMuteUtils.bs").calcMuteUntilMs(c),m=b("MWChatCalculateIsMutedFromExpireTime.bs").useHook(l);l=b("bs_caml").i64_neq(c.ongoingCallState,b("LSRtcCallState.bs").noOngoingCall);var n={align:"center",type:"meta3",numberOfLines:1,children:i.jsx(b("CometMiddot.react"),{})};e!==void 0&&(n.color=b("bs_caml_option").valFromOption(e));var o=i.jsx("div",{className:(h||(h=b("stylex")))(j.middot),children:i.jsx(b("MDSText.react"),n)});n=b("bs_caml").i64_eq(c.threadType,b("MessagingThreadType.bs").oneToOne)&&a?i.jsx(b("LSThreadTitle.bs").make,{thread:c,wrapOutput:function(a,c){return i.jsx(b("LSContactLink.bs").make,{contact:a,children:c})}}):i.jsx(b("LSThreadTitle.bs").make,{thread:c});a={align:"center",isSemanticHeading:!0,type:d,numberOfLines:1,children:[n,i.jsx(b("CometPlaceholder.react"),{children:i.jsx(b("LSVerificationBadge.bs").make,{thread:c,size:"small"}),fallback:null})],testid:"mw_inbox_header_details_title"};e!==void 0&&(a.color=b("bs_caml_option").valFromOption(e));if(g)d=i.jsx(b("MWCMInboxHeaderCommunityGroupName.bs").make,{thread:c,renderWrapper:function(a){a={align:"center",type:"meta3",numberOfLines:1,children:a};e!==void 0&&(a.color=b("bs_caml_option").valFromOption(e));return i.jsxs(i.Fragment,{children:[i.jsx(b("MWVerticalRhythm.bs").make,{height:6}),i.jsx("div",{className:(h||(h=b("stylex")))(j.item),children:i.jsx(b("MDSText.react"),a)})]})}});else{if(l){if(k!==null){n={align:"center",type:"meta3",numberOfLines:1,children:k};e!==void 0&&(n.color=b("bs_caml_option").valFromOption(e));g=i.jsx(b("MDSText.react"),n)}else g=null;l={align:"center",type:"meta3",numberOfLines:1,children:i.jsx(b("MWChatHeaderDetailsSubtitle.bs").ongoingCall,{})};e!==void 0&&(l.color=b("bs_caml_option").valFromOption(e));n=i.jsxs(i.Fragment,{children:[i.jsx(b("MWVerticalRhythm.bs").make,{height:6}),i.jsxs(b("MWSeparatorContainer.react"),{children:[g,i.jsx(b("MDSText.react"),l),m?i.jsx(b("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null],separator:o,xstyle:j.item})]})}else n=i.jsx(b("LSPresenceStatusText.bs").make,{thread:c,renderWrapper:function(a){if(k!==null){var c={align:"center",type:"meta3",numberOfLines:1,children:k};e!==void 0&&(c.color=b("bs_caml_option").valFromOption(e));c=i.jsx(b("MDSText.react"),c)}else c=null;a={align:"center",type:"meta3",numberOfLines:1,children:a};e!==void 0&&(a.color=b("bs_caml_option").valFromOption(e));return i.jsxs(i.Fragment,{children:[i.jsx(b("MWVerticalRhythm.bs").make,{height:6}),i.jsxs(b("MWSeparatorContainer.react"),{children:[c,i.jsx(b("MDSText.react"),a),m?i.jsx(b("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null],separator:o,xstyle:j.item})]})},renderNullState:function(a){if(k!==null){a={align:"center",type:"meta3",numberOfLines:1,children:k};e!==void 0&&(a.color=b("bs_caml_option").valFromOption(e));a=i.jsx(b("MDSText.react"),a)}else a=null;return i.jsxs(b("MWSeparatorContainer.react"),{beforeContent:i.jsx(b("MWVerticalRhythm.bs").make,{height:6}),children:[a,m?i.jsx(b("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null],separator:o,xstyle:j.item})}});d=i.jsx(i.Fragment,{children:n})}return i.jsxs("div",{className:h(j.container),children:[i.jsx("div",{className:h(j.item),children:i.jsxs(b("MDSText.react"),a)}),d]})}c=a;f.styles=j;f.make=c}),null);
__d("MWInboxHeaderDetailsContainer.bs",["CometLazyDialogTrigger.react","CometPlaceholder.react","CometPressable.react","JSResourceForInteraction","LSContactLink.bs","LSMessagingThreadTypeUtil.bs","MDSRow.react","MDSRowItem.react","MWInboxHeaderDetails.bs","MWLSActor.bs","MWThreadPicture.bs","MWV2GetOtherUser.bs","MWV2GetThreadTitle.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml_option","bs_curry","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={detailsContainer:{paddingStart:"hyh9befq"}};function a(a){var c=a.thread,d=a.photoSize,e=a.badgeSize,f=a.threadNameSize,g=a.color;a=a.isTitleALink;d=d!==void 0?d:"s_40";e=e!==void 0?e:10;f=f!==void 0?f:"headlineEmphasized3";var j=b("MWLSActor.bs").useActor(void 0),k=b("useReStore")(),l=b("ReQLSubscription.bs").useArray(h.useMemo(function(){var a;return(a=b("ReQL.bs")).leftJoin(a.getKeyRange(a.fromTableAscending(k.table("participants")),{hd:c.threadKey,tl:0}),a.fromTableAscending(k.table("contacts")))},[k,JSON.stringify(c.threadKey)])),m=b("MWV2GetOtherUser.bs").useOtherUser(c,l),n=h.jsx(b("MWThreadPicture.bs").make,{photoSize:d,badgeSize:e,thread:c}),o=h.useRef(null);if(m!==void 0){d=m[1];e=h.jsx(b("LSContactLink.bs").make,{contact:d,children:n,isText:!1,label:d.name})}else e=b("LSMessagingThreadTypeUtil.bs").isGroup(c.threadType)?h.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResourceForInteraction")("MWLSGroupMembershipDialog.react",{name:"MWLSGroupMembershipDialog","class":"fluid"}).__setRef("MWInboxHeaderDetailsContainer.bs"),dialogProps:{onClose:function(a){}},children:function(a){var d=b("bs_belt_Option").getWithDefault(b("MWV2GetThreadTitle.bs").computeThreadTitle(void 0,c,l,j),"");return h.jsx(b("CometPressable.react"),{"aria-label":d,ref:o,onPress:function(c){return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,children:n})}}):n;m={thread:c,threadNameSize:f};g!==void 0&&(m.color=b("bs_caml_option").valFromOption(g));a!==void 0&&(m.isTitleALink=b("bs_caml_option").valFromOption(a));return h.jsx(b("MDSRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",expanding:!0,children:h.jsxs(b("CometPlaceholder.react"),{children:[h.jsx(b("MDSRowItem.react"),{children:e}),h.jsx(b("MDSRowItem.react"),{expanding:!0,xstyle:[i.detailsContainer],children:h.jsx(b("MWInboxHeaderDetails.bs").make,m)})],fallback:null})})}c=a;f.styles=i;f.make=c}),null);
__d("MWEditThreadNameDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResource","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread,d=a.children,e=h.useRef(null);return h.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWV2ThreadNameDialog.react").__setRef("MWEditThreadNameDialogTrigger.bs"),dialogProps:{thread:c,onClose:function(a){}},children:function(a){return b("bs_curry")._2(d,a,e)}})}c=a;f.make=c}),null);
__d("MWChatInThreadBanner.bs",["CometImageIcon_DEPRECATED.react","CometPressable.react","MDSRow.react","MDSRowItem.react","MDSText.react","MDSTextPairing.react","TetraButton.react","bs_belt_Option","bs_caml_option","bs_curry","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{position:"l9j0dhe7",backgroundColor:"nred35xi"},sheet:{borderBottom:"s1tcr66n"},sheetInner:{width:"k4urcfbm",paddingBottom:"osnr6wyh"},image:{marginEnd:"cxmmr5t8"},infoLabel:{backgroundColor:"tdjehn4e",borderTopStartRadius:"jk6sbkaj",borderTopEndRadius:"kdgqqoy6",borderBottomEndRadius:"ihh4hy1g",borderBottomStartRadius:"qttc61fc",overflowX:"ni8dbmo4",overflowY:"stjgntxs",paddingTop:"ggysqto6",paddingEnd:"ph5uu5jm",paddingBottom:"ojkyduve",paddingStart:"b3onmgus",textOverflow:"ltmttdrg",whiteSpace:"g0qnabr5"},grow:{flexGrow:"buofh1pr"},linkBanner:{width:"k4urcfbm"}};function k(a){var c=a.button;a=a.action;var d=c.ctaTitle;if(typeof a==="number"){b("recoverableViolation")("In thread banner cta not implemented: "+c.ctaType,"messenger_web_product");return null}switch(a.TAG|0){case 0:return i.jsx(b("MDSRowItem.react"),{xstyle:[j.grow],children:i.jsx(b("TetraButton.react"),{label:d,type:"secondary",linkProps:{target:"_blank",url:a._0}})});case 1:var e=a._0;c={label:d,type:"secondary",onPress:function(a){return b("bs_curry")._1(e,void 0)}};a._1!==void 0&&(c.ref=b("bs_caml_option").valFromOption(a._1));return i.jsx(b("MDSRowItem.react"),{xstyle:[j.grow],children:i.jsx(b("TetraButton.react"),c)});case 2:return i.jsx(b("MDSRowItem.react"),{xstyle:[j.grow],children:b("bs_curry")._1(a._0,function(a,c,e,f,g,h,j){return i.jsx(b("TetraButton.react"),{label:d,type:"secondary",onPress:function(a){return b("bs_curry")._1(c,void 0)},ref:a})})})}}c={make:k};function a(a){var c=a.banner;a=a.ctaParser;var d=c.banner.iconUrl;d=d!==void 0?i.jsx(b("MDSRowItem.react"),{expanding:!1,children:i.jsx("div",{className:(h||(h=b("stylex")))(j.image),children:i.jsx(b("CometImageIcon_DEPRECATED.react"),{size:24,src:d,style:"circle"})})}):null;var e=i.jsx(b("MDSRowItem.react"),{expanding:!0,children:i.jsx(b("MDSTextPairing.react"),{body:b("bs_belt_Option").getWithDefault(c.banner.titleSectionOne,"")+b("bs_belt_Option").getWithDefault(c.banner.titleSectionTwo,""),meta:b("bs_belt_Option").mapWithDefault(c.banner.heading,null,function(a){return a}),level:4,bodyLineLimit:1,metaLineLimit:1,metaLocation:"above"})}),f=c.banner.infoLabel;f=f!==void 0?i.jsx(b("MDSRowItem.react"),{children:i.jsx(b("MDSText.react"),{type:"meta1",children:i.jsx("span",{className:(h||(h=b("stylex")))(j.infoLabel),children:f})})}):null;var g=c.leftButton,l=c.rightButton,m,n=0,o;g!==void 0?l!==void 0?m=i.jsxs(b("MDSRow.react"),{paddingTop:8,children:[i.jsx(k,{button:g,action:b("bs_curry")._2(a,c,g)}),i.jsx(k,{button:l,action:b("bs_curry")._2(a,c,l)})]}):(o=g,n=1):l!==void 0?(o=l,n=1):m=null;n===1&&(m=i.jsx(b("MDSRow.react"),{paddingTop:8,children:i.jsx(k,{button:o,action:b("bs_curry")._2(a,c,o)})}));var p=i.jsxs("div",{className:(h||(h=b("stylex")))(j.sheetInner),children:[i.jsxs(b("MDSRow.react"),{children:[d,e,f]}),m]});g=b("bs_belt_Option").map(c.bannerAction,b("bs_curry")._1(a,c));var q;if(g!==void 0)if(typeof g==="number")b("recoverableViolation")("In thread banner cta not implemented: "+b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(c.bannerAction,function(a){return a.ctaType}),""),"messenger_web_product"),q=p;else switch(g.TAG|0){case 0:q=i.jsx(b("CometPressable.react"),{expanding:!0,linkProps:{target:"_blank",url:g._0},xstyle:function(a){return[j.linkBanner]},children:p});break;case 1:var r=g._0;l={expanding:!0,onPress:function(a){return b("bs_curry")._1(r,void 0)},children:p};g._1!==void 0&&(l.ref=b("bs_caml_option").valFromOption(g._1));q=i.jsx(b("CometPressable.react"),l);break;case 2:q=b("bs_curry")._1(g._0,function(a,c,d,e,f,g,h){return i.jsx(b("CometPressable.react"),{expanding:!0,ref:a,onPress:function(a){return b("bs_curry")._1(c,void 0)},children:p})});break}else q=p;return i.jsx("div",{className:h(j.container),children:i.jsx("div",{className:h(j.sheet),children:q})})}d=a;f.styles=j;f.BannerButton=c;f.make=d}),null);
__d("MWLSEnsureInThreadBannerExists.bs",["LS.bs","LSFetchBanners","LSTransaction.bs","MWThreadKey.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);h.useEffect(function(){var a=b("LSTransaction.bs").run(c,function(a){return b("LSFetchBanners")(d,b("LS.bs").make(a))},"readWrite");b("promiseDone")(a,void 0,void 0)},[d,c])}f.useHook=a}),null);
__d("MWLSExecuteInThreadBannerCta.bs",["LS.bs","LSExecuteCTA","LSTransaction.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return h.useCallback(function(a){var d=b("LSTransaction.bs").run(c,function(c){return b("LSExecuteCTA")(a,b("LS.bs").make(c))},"readWrite");b("promiseDone")(d,void 0,void 0)},[c])}f.useHook=a}),null);
__d("MWLSInThreadBanner.bs",["ReQL.bs","ReQLSuspense","bs_belt_Array","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_int64"],(function(a,b,c,d,e,f){"use strict";d={threadKey:(c=b("bs_caml_int64")).zero,bannerId:c.zero,timestampMs:c.zero,iconUrl:void 0,iconUrlFallback:void 0,iconUrlExpirationTimestampMs:void 0,heading:void 0,titleSectionOne:void 0,titleSectionTwo:void 0,cta1Id:void 0,cta1Title:void 0,cta1Type:void 0,cta2Id:void 0,cta2Title:void 0,cta2Type:void 0,chevronCtaId:void 0,chevronCtaType:void 0,bannerCtaId:void 0,bannerCtaType:void 0,infoLabel:void 0};e={bannerId:c.zero,ctaId:c.zero,threadKey:c.zero,ctaType:"fallback",ctaTitle:"",deeplinkUrl:void 0,webviewUrl:void 0,contextId:void 0,actionContentBlob:void 0};var g=[];g={banner:d,leftButton:void 0,rightButton:void 0,bannerAction:void 0,overflowMenuActions:g};function a(a,c){var d;return(d=b("ReQL.bs")).map(d.leftJoin(d.getKeyRange(d.fromTableAscending(a.table("in_thread_banner")),{hd:c,tl:0}),d.getKeyRange(d.fromTableAscending(a.table("in_thread_banner_overflow_menu")),{hd:c,tl:0})),function(c){var d=c[1];c=c[0];var e=new Map(b("ReQLSuspense").toArray(b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("in_thread_banner_ctas")),{hd:c.bannerId,tl:0}),function(a){return[b("bs_int64").to_string(a.ctaId),a]}))),f=function(a){return b("bs_caml_option").nullable_to_opt(e.get(b("bs_int64").to_string(a)))};return{banner:c,leftButton:b("bs_belt_Option").flatMap(c.cta1Id,f),rightButton:b("bs_belt_Option").flatMap(c.cta2Id,f),bannerAction:b("bs_belt_Option").flatMap(c.bannerCtaId,f),overflowMenuActions:d!==void 0?b("bs_belt_Array").keepMap([d.cta1Id,d.cta2Id,d.cta3Id,d.cta4Id,d.cta5Id],function(a){return b("bs_belt_Option").flatMap(a,f)}):[]}})}c={threadKey:c.zero,bannerId:c.zero,cta1Id:void 0,cta1Title:void 0,cta1Type:void 0,cta2Id:void 0,cta2Title:void 0,cta2Type:void 0,cta3Id:void 0,cta3Title:void 0,cta3Type:void 0,cta4Id:void 0,cta4Title:void 0,cta4Type:void 0,cta5Id:void 0,cta5Title:void 0,cta5Type:void 0};f.emptyBanner=d;f.emptyCta=e;f.emptyMenu=c;f.empty=g;f.getInThread=a}),null);
__d("C2CTransactionActionConvert.bs",["bs_js_exn"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="LABEL_COMPLETED")return"LABEL_COMPLETED";else if(a==="MARK_AS_SOLD")return"MARK_AS_SOLD";else if(a==="RATE_SELLER")return"RATE_SELLER";else if(a==="LABEL_AWAITING_PAYMENT")return"LABEL_AWAITING_PAYMENT";else if(a==="LABEL_SHIPPED")return"LABEL_SHIPPED";else if(a==="RATE_BUYER")return"RATE_BUYER";else if(a==="MAKE_AN_OFFER")return"MAKE_AN_OFFER";else if(a==="LABEL_PAID")return"LABEL_PAID";else if(a==="LISTING_REMOVAL")return"LISTING_REMOVAL";else if(a==="BUYER_SURVEY_THREAD_AFTER_MAS")return"BUYER_SURVEY_THREAD_AFTER_MAS";else if(a==="LABEL_CASH_ON_DELIVERY")return"LABEL_CASH_ON_DELIVERY";else if(a==="BUYER_SURVEY_BROWSE_FEED")return"BUYER_SURVEY_BROWSE_FEED";else if(a==="LABEL_NEEDS_SHIPPING")return"LABEL_NEEDS_SHIPPING";else if(a==="REQUEST_RATING")return"REQUEST_RATING";else if(a==="DELETE")return"DELETE";else if(a==="MARK_AS_SHIPPED")return"MARK_AS_SHIPPED";else if(a==="X_DAYS_MESSENGER_BOT")return"X_DAYS_MESSENGER_BOT";else if(a==="BUYER_SURVEY_BSG_GROUP_MALL")return"BUYER_SURVEY_BSG_GROUP_MALL";else return"MARK_AS_PAID"}function c(a){switch(a){case"BUYER_SURVEY_BROWSE_FEED":return"BUYER_SURVEY_BROWSE_FEED";case"BUYER_SURVEY_BSG_GROUP_MALL":return"BUYER_SURVEY_BSG_GROUP_MALL";case"BUYER_SURVEY_THREAD_AFTER_MAS":return"BUYER_SURVEY_THREAD_AFTER_MAS";case"DELETE":return"DELETE";case"LABEL_AWAITING_PAYMENT":return"LABEL_AWAITING_PAYMENT";case"LABEL_CASH_ON_DELIVERY":return"LABEL_CASH_ON_DELIVERY";case"LABEL_COMPLETED":return"LABEL_COMPLETED";case"LABEL_NEEDS_SHIPPING":return"LABEL_NEEDS_SHIPPING";case"LABEL_PAID":return"LABEL_PAID";case"LABEL_SHIPPED":return"LABEL_SHIPPED";case"LISTING_REMOVAL":return"LISTING_REMOVAL";case"MAKE_AN_OFFER":return"MAKE_AN_OFFER";case"MARK_AS_PAID":return"MARK_AS_PAID";case"MARK_AS_SHIPPED":return"MARK_AS_SHIPPED";case"MARK_AS_SOLD":return"MARK_AS_SOLD";case"RATE_BUYER":return"RATE_BUYER";case"RATE_SELLER":return"RATE_SELLER";case"REQUEST_RATING":return"REQUEST_RATING";case"X_DAYS_MESSENGER_BOT":return"X_DAYS_MESSENGER_BOT";default:return b("bs_js_exn").raiseError("Invalid C2CTransactionAction.t: "+a)}}d={toJS:a,toRe:c};f.converter=d}),null);
__d("MWLSMarketplaceServerMutationCta.bs",["LS.bs","LSServerMutationCta","LSTransaction.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return h.useCallback(function(a){return function(d){var e=b("LSTransaction.bs").run(c,function(c){return b("LSServerMutationCta")(a,d,b("LS.bs").make(c))},"readWrite");b("promiseDone")(e,void 0,void 0)}},[c])}f.useHook=a}),null);
__d("MWLSMarketplaceCtaParser.bs",["C2CTransactionActionConvert.bs","CometLazyPopoverTrigger.react","CometMarketplaceConfirmMarkAsPaidDialog.entrypoint","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometMarketplaceInboxLabelChatDialog.entrypoint","CometMarketplaceLogger","CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint","JSResource","MWLSActor.bs","MWLSExecuteInThreadBannerCta.bs","MWLSMarketplaceServerMutationCta.bs","MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_curry","bs_int64","bs_js_dict","bs_js_json","qex","react","recoverableViolation","useCometEntryPointDialog","useCometLazyDialog","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");c=["marketplace_mark_as_available","marketplace_mark_as_pending","marketplace_mark_as_sold","marketplace_mark_as_sold_scaled","marketplace_mark_as_sold_with_txn_survey","marketplace_mark_as_sold_with_txn_survey_scaled","marketplace_mark_as_sold_with_select_buyer","marketplace_mark_as_sold_with_select_buyer_scaled"];var i=new Set(c);d=new Set(c.concat(["marketplace_rate_buyer","marketplace_scaled_rate_buyer","marketplace_rate_seller","marketplace_scaled_rate_seller","marketplace_report_buyer","marketplace_report_seller","marketplace_see_details","marketplace_request_payment","marketplace_send_payment","marketplace_find_similar","marketplace_more_options","marketplace_p2m_request_payment","marketplace_xma_call_function","marketplace_label_chat","marketplace_mark_as_paid","marketplace_view_profile","marketplace_create_discount","marketplace_server_mutation"]));function j(a){var c=b("useReStore")(),d=b("MWLSActor.bs").useActor(void 0),e=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=h.useMemo(function(){var a;return(a=b("ReQL.bs")).map(a.filter(a.getKeyRange(a.fromTableAscending(c.table("participants")),{hd:e,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,d)}),function(a){return a.contactId})},[JSON.stringify(d),e,c]);a=b("ReQLSubscription.bs").useFirst(a);if(a!==void 0)return b("bs_int64").to_string(a)}function a(a){var c,d=b("MWLSExecuteInThreadBannerCta.bs").useHook(void 0),e=b("MWLSMarketplaceServerMutationCta.bs").useHook(void 0),f=j(void 0),g=h.useRef(null);a=b("useCometLazyDialog")(b("JSResource")("CometFRX_DEPRECATED.react").__setRef("MWLSMarketplaceCtaParser.bs"));var k=a[0],l=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=b("bs_int64").to_string(l);var m=(c=b("useCometEntryPointDialog"))(b("CometMarketplaceInboxLabelChatDialog.entrypoint"),{thread_id:a}),n=m[0];m=c(b("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint"),{threadId:a});var o=m[0];m=c(b("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint"),{threadId:a});var p=m[0];m=c(b("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"),{threadId:a});var q=m[0];return h.useMemo(function(){var a=function a(c,j){var m=j.ctaType;if(m==="marketplace_see_details"){var r=j.webviewUrl;if(r!==void 0)return{TAG:0,_0:r};r=j.deeplinkUrl;if(r!==void 0)return{TAG:0,_0:r};else{b("recoverableViolation")("Marketplace see details cta without url","messenger_web_product");return 0}}if(m==="marketplace_view_profile"){r=j.webviewUrl;if(r!==void 0)return{TAG:0,_0:r};r=j.deeplinkUrl;if(r!==void 0)return{TAG:0,_0:r};else{b("recoverableViolation")("Marketplace view profile cta without url","messenger_web_product");return 0}}if(m==="marketplace_more_options"&&c.overflowMenuActions.length>0)return{TAG:2,_0:function(d){return h.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("MWLSMarketplacePopoverMenu.react").__setRef("MWLSMarketplaceCtaParser.bs"),popoverProps:{menu:c.overflowMenuActions,ctaParser:function(b){return a(c,b)}},align:"end",children:d})}};if(m==="marketplace_report_buyer"||m==="marketplace_report_seller")if(f!==void 0)return{TAG:1,_0:function(a){return k({entryPoint:"REPORT_BUTTON",id:f,location:m==="marketplace_report_buyer"?"marketplace_messenger_report_buyer":"marketplace_messenger_report_seller"},function(a){})},_1:g};else{b("recoverableViolation")("Haven't implemented report buyer/seller for threads with more than 1 person","messenger_web_product");return 0}if(m==="marketplace_mark_as_sold_with_txn_survey"||m==="marketplace_mark_as_sold_with_txn_survey_scaled")return{TAG:1,_0:function(a){b("bs_curry")._1(d,j.ctaId);if(b("qex")._("1510")===!0)return o({action:b("bs_curry")._1(b("C2CTransactionActionConvert.bs").converter.toJS,"MARK_AS_SOLD")},function(a){})},_1:void 0};if(i.has(m))return{TAG:1,_0:function(a){return b("bs_curry")._1(d,j.ctaId)},_1:void 0};if(m!=="marketplace_server_mutation")if(m==="marketplace_label_chat")return{TAG:1,_0:function(a){return n({threadID:b("bs_int64").to_string(l)},function(a){return b("bs_curry")._1(d,j.ctaId)})},_1:void 0};else if(m==="marketplace_mark_as_paid")return{TAG:1,_0:function(a){return p({threadID:b("bs_int64").to_string(l)},function(a){return b("bs_curry")._1(d,j.ctaId)})},_1:void 0};else if(m==="marketplace_create_discount")return{TAG:1,_0:function(a){b("CometMarketplaceLogger").logClick("create_discount","messenger_thread_view");return q({threadID:b("bs_int64").to_string(l)},function(a){return b("bs_curry")._1(d,j.ctaId)})},_1:void 0};else return 0;r=j.actionContentBlob;var s=r!==void 0?b("bs_belt_Option").getExn(b("bs_js_json").decodeString(b("bs_belt_Option").getExn(b("bs_js_dict").get(b("bs_belt_Option").getExn(b("bs_js_json").decodeObject(JSON.parse(r))),"marketplace_cta_type")))):"";return{TAG:1,_0:function(a){return b("bs_curry")._2(e,l,s)},_1:void 0}};return a},[d,e,f,k,g,n,o,l])}f.marketplaceCta=d;f.useOtherParticipantId=j;f.useHook=a}),null);
__d("MWLSInThreadBannerCtaParser.bs",["MWLSAdContextCtaParser.bs","MWLSMarketplaceCtaParser.bs","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("MWLSMarketplaceCtaParser.bs").useHook(void 0),d=b("MWLSAdContextCtaParser.bs").useHook(void 0);return function(a,e){var f=e.ctaType;if(b("MWLSMarketplaceCtaParser.bs").marketplaceCta.has(f))return b("bs_curry")._2(c,a,e);else if(b("MWLSAdContextCtaParser.bs").adContextCta.has(f))return b("bs_curry")._2(d,a,e);else return 0}}f.useHook=a}),null);
__d("MWLSInThreadBannerComponent.bs",["MWChatInThreadBanner.bs","MWLSEnsureAdContextExists.bs","MWLSEnsureInThreadBannerExists.bs","MWLSInThreadBanner.bs","MWLSInThreadBannerCtaParser.bs","MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","bs_caml_int64","bs_caml_option","bs_curry","cr:1300","cr:1575","gkx","qex","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");c=b("cr:1300")==null?void 0:b("bs_caml_option").some(b("cr:1300"));d=b("cr:1575")==null?void 0:b("bs_caml_option").some(b("cr:1575"));var i=b("cr:1300")==null?function(a,b,c){}:c.useHook,j=b("cr:1575")==null?function(a,b,c,d){}:d.useHook;function a(a){b("MWLSEnsureInThreadBannerExists.bs").useHook(void 0);b("MWLSEnsureAdContextExists.bs").useHook(void 0);var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=h.useMemo(function(){return b("MWLSInThreadBanner.bs").getInThread(c,d)},[c,d]);a=b("ReQLSubscription.bs").useFirst(a);var e=b("MWLSInThreadBannerCtaParser.bs").useHook(void 0),f=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("threads")),{hd:d,tl:0})},[c,d]));f=f!==void 0?f.proactiveWarningDismissTime:b("bs_caml_int64").one;b("bs_curry")._3(i,c,f,d);b("bs_curry")._4(j,a,c,f,d);if(a===void 0)return null;f=a.banner.bannerCtaType;if(f==="ads_context")if(b("qex")._("1509")===!0)return h.jsx(b("MWChatInThreadBanner.bs").make,{banner:a,ctaParser:e});else return null;f=a.banner.cta1Type;if(f!==void 0)if(b("gkx")("5089")&&f==="proactive_warning_negative")return null;else return h.jsx(b("MWChatInThreadBanner.bs").make,{banner:a,ctaParser:e});else return h.jsx(b("MWChatInThreadBanner.bs").make,{banner:a,ctaParser:e})}e=a;f.$MWFetchProactiveWarning$OR$null$requireCond=b("cr:1300");f.$MWShowProactiveWarningDialog$OR$null$requireCond=b("cr:1575");f.useFetchProactiveWarning=i;f.useShowProactiveWarningDialog=j;f.make=e}),null);
__d("MWMarkThreadAsReadWhenNewMessagesArrive.bs",["MWLSThreadDisplayContext.bs","MWV2IsTabFocusedContext.bs","UserActivity","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","cr:10880","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){var d=b("MWV2IsTabFocusedContext.bs").useContext(void 0),e=b("MWLSThreadDisplayContext.bs").useHook(void 0),f=e===0?d:!0,g;if(c!==void 0){e=b("bs_caml").i64_gt(c.timestampMs,a.lastActivityTimestampMs)?c.timestampMs:a.lastActivityTimestampMs;g=b("bs_caml").i64_gt(e,a.lastReadWatermarkTimestampMs)}else g=!1;return h.useCallback(function(a){if(b("UserActivity").isOnTab()&&b("UserActivity").isActive()&&f)return g;else return!1},[f,g])}function j(a,c,d){var e=i(a,c);return h.useCallback(function(a){if(b("bs_curry")._1(e,void 0))return b("bs_curry")._1(d,void 0)},[e,d])}function k(a,c){h.useEffect(function(){var d=function(d){if(a.current===0)return b("bs_curry")._1(c,void 0)},e=b("bs_belt_Option").getExn(b("bs_caml_option").undefined_to_opt(typeof window==="undefined"?void 0:window));e.addEventListener("focus",d);document.hasFocus()&&a.current===0&&b("bs_curry")._1(c,void 0);return function(a){e.removeEventListener("focus",d)}},[c,a])}var l=b("cr:10880")==null?function(a){}:b("cr:10880").useHook;function a(a,c,d,e){c=j(a,c,d);b("bs_curry")._1(l,a);k(e.scrollPositionRef,c);return c}f.$MAWThreadEvent$OR$null$requireCond=b("cr:10880");f.useHook=a}),null);
__d("isEventSupported",["fbjs/lib/ExecutionEnvironment"],(function(a,b,c,d,e,f){"use strict";var g;b("fbjs/lib/ExecutionEnvironment").canUseDOM&&(g=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function a(a,c){if(!b("fbjs/lib/ExecutionEnvironment").canUseDOM||c&&!("addEventListener"in document))return!1;c="on"+a;var d=c in document;if(!d){var e=document.createElement("div");e.setAttribute(c,"return;");d=typeof e[c]==="function"}!d&&g&&a==="wheel"&&(d=document.implementation.hasFeature("Events.wheel","3.0"));return d}e.exports=a}),null);
__d("MWChatConversationScroller.bs",["BaseScrollableAreaContext","CometThrottle","ExecutionEnvironment","bs_caml_obj","bs_caml_option","bs_curry","isEventSupported","react","stylex","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a,b){a=a!==void 0?a:20;if(b==null)return!1;else return b.scrollTop+b.clientHeight>=b.scrollHeight-a}function k(a,b){a=a!==void 0?a:20;if(b==null)return!1;else return b.scrollTop<=a}var l={root:{flexGrow:"buofh1pr",display:"j83agx80",overflowY:"eg9m0zos",overflowX:"ni8dbmo4",flexDirection:"cbu4d94t",overscrollBehavior:"gok29vw1"},contained:{contain:"isf3ygkp"}},m=b("ExecutionEnvironment").canUseDOM?document.body.style.overscrollBehavior===void 0&&document.body.style.scrollBoundaryBehavior===void 0:!1;function a(a,c){var d=a.children,e=a.boundingClientRectRef,f=a.scrollPositionRef,g=a.dispatch,n=a.hasMoreAfter;a=a.onScroll;var o=a!==void 0?a:function(a){},p=i.useRef(g),q=i.useRef(null),r=i.useCallback(function(a){q.current=a;if(e!==void 0){e.current=a==null?void 0:b("bs_caml_option").some(a.getBoundingClientRect());return}},[e]);i.useEffect(function(){p.current=g});var s=function(a,b){b=q.current;if(!(b==null)){b.scrollTop=a;return}},t=function(a,b){b=a!==void 0?a:!1;a=q.current;if(!(a==null))return s(a.scrollHeight,b)},u=function(a,b){var c=q.current;if(!(c==null))return s(c.scrollHeight-(a+c.clientHeight),b)},v=i.useRef(!1);v.current=n;var w=function(a){a=f.current;var c=q.current;c=c==null?void 0:c.scrollHeight-(c.scrollTop+c.clientHeight);var d=j(void 0,q.current),e=k(void 0,q.current);f.current=d?v.current?1:0:c!==void 0?e?{TAG:0,_0:c}:{TAG:1,_0:c}:0;d=f.current;e=0;typeof a==="number"?a===0&&(e=1):typeof d==="number"?p.current(1):d.TAG===0&&(e=1);if(e===1){e=0;(typeof a==="number"||a.TAG!==0)&&(e=2);e===2&&typeof d!=="number"&&d.TAG===0&&p.current(2)}return b("bs_curry")._1(o,c)},x=function(a){if(m){var b=a.deltaY>0,c=a.deltaY<0;(b&&j(0,q.current)||c&&k(0,q.current))&&a.preventDefault()}return w(void 0)},y=function(a){var c=b("isEventSupported")("mousewheel")?"mousewheel":b("isEventSupported")("wheel")?"wheel":"DOMMouseScroll",d=function(b,c){a.addEventListener(b,c,{passive:!0});return function(d){return a.removeEventListener(b,c,{passive:!0})}},e=function(b){return a.addEventListener(c,x,{passive:!m})},f=function(b){return a.removeEventListener(c,x,{passive:!m})},g=d("mouseenter",e),h=d("mouseleave",f);e=b("CometThrottle")(w,50,{trailing:!0});var i=d("scroll",e),j=d("mouseup",w),k=d("mousedown",w);return function(a){f(void 0);(a=b("bs_curry"))._1(i,void 0);a._1(g,void 0);a._1(h,void 0);a._1(k,void 0);return a._1(j,void 0)}};i.useEffect(function(){var a=q.current;if(a==null)return;var c=y(a);return function(a){return b("bs_curry")._1(c,void 0)}},[]);i.useLayoutEffect(function(){var a=q.current;!(a==null)&&a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20&&p.current(0)});b("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=f.current;typeof a==="number"?a===0&&t(void 0,void 0):a.TAG===0&&u(a._0,!1)});b("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=f.current;typeof a==="number"?a!==0||t(void 0,void 0):u(a._0,!1)},[]);var z=i.useContext(b("BaseScrollableAreaContext")),A=i.useMemo(function(){return{getDOMNode:function(a){return q.current}}},[]);a=i.useMemo(function(){return z.concat([A])},[A,z]);i.useImperativeHandle(c,function(){return{getScroller:function(a){return r},scrollToBottom:function(a){f.current=0;return t(void 0,void 0)},scrollToElement:function(a,c){var d=q.current;if(d==null)return;a.scrollIntoView();a=a.getBoundingClientRect();var e=d.getBoundingClientRect();a=a.top;e=e.top;if(b("bs_caml_obj").caml_lessequal(a,e)){d.scrollBy(0,-c|0);return w(void 0)}},scrollElementIntoViewIfNeeded:function(a){var c=q.current;if(c==null)return;var d=a.getBoundingClientRect();c=c.getBoundingClientRect();d=d.top;c=c.top;if(b("bs_caml_obj").caml_lessequal(d,c)){a.scrollIntoView();return}},isContainerFilled:function(a){a=q.current;if(a==null)return!0;else return!(a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20)}}},[]);return i.createElement(b("BaseScrollableAreaContext").Provider,{children:i.jsx("div",{ref:r,className:(h||(h=b("stylex")))(l.root,l.contained),"data-release-focus-from":"CLICK",tabIndex:-1,children:d}),value:a})}c=i.forwardRef(a);d=20;f.scrollTolerance=d;f.isScrolledToBottom=j;f.isScrolledToTop=k;f.styles=l;f.disableElasticScroll=m;f.make=c}),null);
__d("MWV2MessageScroller.bs",["LSMailboxMessagesRangeQueryDirection.bs","MWChatConversationScroller.bs","MWMarkThreadAsReadWhenNewMessagesArrive.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.children,d=a.thread,e=a.fetchMore,f=a.markThreadAsRead,g=a.lastMessageToCalculateIfThreadIsRead,i=a.scrollerRefs,j=a.hasMoreBefore,k=a.hasMoreAfter;a=a.onScroll;a=a!==void 0?a:function(a){};var l=b("MWMarkThreadAsReadWhenNewMessagesArrive.bs").useHook(d,g,f,i);return h.jsx(b("MWChatConversationScroller.bs").make,{children:c,scrollPositionRef:i.scrollPositionRef,dispatch:function(a){switch(a){case 0:if(j)return b("bs_curry")._1(e,b("LSMailboxMessagesRangeQueryDirection.bs").before);else return;case 1:if(k)return b("bs_curry")._1(e,b("LSMailboxMessagesRangeQueryDirection.bs").after);else return b("bs_curry")._1(l,void 0);case 2:return b("bs_curry")._1(e,b("LSMailboxMessagesRangeQueryDirection.bs").before)}},hasMoreAfter:k,onScroll:a,ref:i.scrollerRef})}c=a;f.make=c}),null);
__d("MWVisibleMessageContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){}e={setVisibleMessage:a,visibleMessage:void 0};var i=h.createContext(e);function c(a){var b=a.value;a=a.children;return h.createElement(i.Provider,{value:b,children:a})}b={make:c};function d(a){return h.useContext(i)}f.Provider=b;f.useHook=d}),null);
__d("useMWUIPaymentDetailsDialog",["FBPayHubTransactionDetailDialog.entrypoint","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useCometEntryPointDialog")(c("FBPayHubTransactionDetailDialog.entrypoint"),{transactionID:a})}g["default"]=a}),98);
__d("MWLSShowPaymentDetails.bs",["fbt","LSDatabaseType.bs","MWLSDatabaseLazySync.bs","bs_curry","react","useMWUIPaymentDetailsDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a=i.useState(function(){return null});var c=a[1],d=a[0];a=i.useState(function(){return!1});var e=a[1],f=a[0];a=b("useMWUIPaymentDetailsDialog")(d);var h=a[0],j=b("MWLSDatabaseLazySync.bs").useSync(b("LSDatabaseType.bs").payments);i.useEffect(function(){!(d==null)&&f&&h({title:g._(/*FBT_CALL*/"Payment Details"/*FBT_CALL*/),transactionID:d},function(a){return b("bs_curry")._1(e,function(a){return!1})})},[d,f]);return i.useMemo(function(){return function(a){b("bs_curry")._1(j,void 0);b("bs_curry")._1(e,function(a){return!0});return b("bs_curry")._1(c,function(b){return a})}},[e,c,j])}f.useHook=a}),null);
__d("MWLSOpenStaticLocationDialog.bs",["JSResource","MWThreadKey.bs","Promise","ReQL.bs","ReQLSuspense","bs_caml_array","bs_caml_option","bs_int64","promiseDone","react","useCometLazyDialog","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=b("useCometLazyDialog")(b("JSResource")("MWChatStaticLocationDialog.react").__setRef("MWLSOpenStaticLocationDialog.bs"));var e=a[0];return h.useCallback(function(a){var f;f=(f=b("ReQL.bs")).first(f.map(f.getKeyRange(f.fromTableAscending(c.table("attachments")),{hd:d,tl:{hd:a,tl:0}}),function(a){a=a.defaultCtaId;a=a!==void 0?a:b("bs_int64").zero;a=b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("attachment_ctas")),{hd:a,tl:0}));if(a!==void 0)return a.nativeUrl})).then(function(a){if(a!==void 0){a=b("bs_caml_option").valFromOption(a);a=a!==void 0?a:""}else a="";var c=b("bs_caml_array").get(a.split(","),0);a=b("bs_caml_array").get(a.split(","),1);e({latitude:c,longitude:a},function(a){});return b("Promise").resolve(void 0)});b("promiseDone")(f,void 0,void 0)},[c,d])}f.useHook=a}),null);
__d("MessengerDefaultTheme.bs",["CurrentEnvironment","bs_caml_format"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_format").caml_int64_of_string("196241301102133");c={TAG:0,_0:{id:a,color:b("CurrentEnvironment").messengerdotcom?"#0099FF":"#0084FF",label:"Default Blue"}};f.defaultThemeInt64=a;f.$$default=c;f["default"]=c;f.__esModule=!0}),null);
__d("MWChatUnsendNUXReceiverBanner.bs",["fbt","ix","CometLazyDialogTrigger.react","CometSkittleIcon.react","JSResource","MDSRow.react","MDSRowItem.react","MDSText.react","TetraButton.react","bs_curry","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={button:{flexGrow:"buofh1pr",flexBasis:"rj1gh0hx"},imageRow:{paddingTop:"jwdofwj8"},card:{width:"k4urcfbm",position:"pmk7jnqg",zIndex:"tkr6xdv7",backgroundColor:"nred35xi",boxShadow:"rlauoc8d"}};function a(a){var c=a.onView;a=a.onDismiss;var d=g._(/*FBT_CALL*/"A reminder about unsent messages"/*FBT_CALL*/),e=g._(/*FBT_CALL*/"Unsending messages gives people more control over the messages they've sent. They can still be included in reports."/*FBT_CALL*/);return k.jsxs("div",{className:(j||(j=b("stylex")))(l.card),children:[k.jsxs(b("MDSRow.react"),{paddingHorizontal:12,paddingTop:12,children:[k.jsx(b("MDSRowItem.react"),{xstyle:[l.imageRow],children:k.jsx(b("CometSkittleIcon.react"),{color:"gray",size:36,icon:b("fbicon")._(h("685851"),16)})}),k.jsxs(b("MDSRowItem.react"),{expanding:!0,children:[k.jsx(b("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,children:k.jsx(b("MDSRowItem.react"),{children:k.jsx(b("MDSText.react"),{color:"primary",type:"headline4",children:d})})}),k.jsx(b("MDSRow.react"),{paddingHorizontal:0,paddingTop:8,children:k.jsx(b("MDSRowItem.react"),{children:k.jsx(b("MDSText.react"),{color:"secondary",type:"body4",children:e})})})]})]}),k.jsxs(b("MDSRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:[k.jsx(b("MDSRowItem.react"),{xstyle:[l.button],children:k.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatUnsendNUXInterstitialDialog.react").__setRef("MWChatUnsendNUXReceiverBanner.bs"),dialogProps:{onClose:function(a){}},children:function(a){return k.jsx(b("TetraButton.react"),{label:g._(/*FBT_CALL*/"Learn more"/*FBT_CALL*/),type:"secondary",onPress:function(d){b("bs_curry")._1(a,void 0);return b("bs_curry")._1(c,void 0)}})}})}),k.jsx(b("MDSRowItem.react"),{xstyle:[l.button],children:k.jsx(b("TetraButton.react"),{label:g._(/*FBT_CALL*/"OK"/*FBT_CALL*/),type:"secondary",onPress:a})})]})]})}c=a;f.styles=l;f.make=c}),null);
__d("useMessengerUnsendNUX",["CometDismissFBNuxMutation","CometLogImpressionFBNuxMutation","CometRelay","RelayHooks","promiseDone","react","useMessengerUnsendNUXQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback,j=h!==void 0?h:h=b("useMessengerUnsendNUXQuery.graphql");function a(a){var b=d("RelayHooks").useRelayEnvironment(),e=i(function(e){c("promiseDone")(d("CometRelay").fetchQuery(b,j,{id:a}).toPromise(),function(a){a=(a=a==null?void 0:(a=a.nux)==null?void 0:a.should_show)!=null?a:!1;e(a)},null)},[b,a]),f=i(function(){d("CometDismissFBNuxMutation").commit(b,a)},[b,a]),g=i(function(){d("CometLogImpressionFBNuxMutation").commit(b,a)},[b,a]);return[e,f,g]}g["default"]=a}),98);
__d("MWChatUnsendNUXReceiver.bs",["MWChatUnsendNUXReceiverBanner.bs","MWLSActor.bs","MWThreadKey.bs","ReQL.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_curry","react","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){return Date.now()-b("bs_caml_int64").to_float(b("bs_belt_Option").getWithDefault(a.unsentTimestampMs,b("bs_caml_int64").zero))<=1e4}function a(a){var c=b("MWLSActor.bs").useActor(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0),e=b("useReStore")();a=h.useState(function(){return!1});var f=a[1],g=a[0],j=h.useRef(!1),k=h.useRef(!1),l=h.useRef(void 0);a=b("useMessengerUnsendNUX")(8568);var m=a[2],n=a[1],o=a[0],p=h.useCallback(function(a){a=l.current;if(a!==void 0){b("bs_curry")._1(a,void 0);l.current=void 0;return}},[]);a=h.useCallback(function(a){k.current=!0;b("bs_curry")._1(n,void 0);b("bs_curry")._1(p,void 0);return b("bs_curry")._1(f,function(a){return!1})},[]);var q=h.useCallback(function(a){var c=!g&&!j.current;if(c&&i(a)){j.current=!0;return b("bs_curry")._1(o,function(a){j.current=!1;if(a)return b("bs_curry")._1(f,function(a){return!0});else{b("bs_curry")._1(p,void 0);k.current=!0;return}})}},[c,g]);h.useEffect(function(){if(k.current)return;else{l.current=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("messages")),{hd:d,tl:0}),function(a){if(a.isUnsent)return b("bs_caml").i64_neq(a.senderId,c);else return!1}),function(a,c){if(typeof c==="number")return;else return b("bs_curry")._1(q,c._0)});return function(a){b("bs_curry")._1(p,void 0);if(g&&!k.current)return b("bs_curry")._1(m,void 0)}}},[g,q,d,p]);if(g)return h.jsx(b("MWChatUnsendNUXReceiverBanner.bs").make,{onView:a,onDismiss:a});else return null}c=8568;d=1e4;e=a;f.cNUX_ID=c;f.cTEN_SECONDS=d;f.isMessageUnsentInLastTenSeconds=i;f.make=e}),null);
__d("MWChatUnsendNUXSender.bs",["JSResource","MWChatUnsendNUXReceiver.bs","MWLSActor.bs","MWThreadKey.bs","ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_curry","react","useCometLazyDialog","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWLSActor.bs").useActor(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0),e=b("useReStore")(),f=h.useRef(!1),g=h.useRef(!1),i=h.useRef(!1),j=h.useRef(void 0);a=b("useMessengerUnsendNUX")(8598);var k=a[1],l=a[0],m=h.useCallback(function(a){a=j.current;if(a!==void 0){b("bs_curry")._1(a,void 0);j.current=void 0;return}},[]),n=h.useCallback(function(a){if(!i.current){i.current=!0;b("bs_curry")._1(m,void 0);return b("bs_curry")._1(k,void 0)}},[]);a=b("useCometLazyDialog")(b("JSResource")("MWChatUnsendNUXSenderDialog.react").__setRef("MWChatUnsendNUXSender.bs"));var o=a[0],p=h.useCallback(function(a){var c=!f.current&&!g.current;if(c&&b("MWChatUnsendNUXReceiver.bs").isMessageUnsentInLastTenSeconds(a)){f.current=!0;return b("bs_curry")._1(l,function(a){f.current=!1,a?(o({onView:n},function(a){}),g.current=!0):(b("bs_curry")._1(m,void 0),i.current=!0)})}},[c,m]);h.useEffect(function(){j.current=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("messages")),{hd:d,tl:0}),function(a){if(a.isUnsent)return b("bs_caml").i64_eq(a.senderId,c);else return!1}),function(a,c){if(typeof c==="number")return;else return b("bs_curry")._1(p,c._0)});return m},[d,p,m]);return null}c=8598;d=a;f.cNUX_ID=c;f.make=d}),null);
__d("MWV2ChatRTCButtons.bs",["fbt","CometPressable.react","FBID.bs","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSContactType.bs","LSMessagingThreadTypeUtil.bs","LSRtcCallState.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWGating.bs","MWChatContactPresenceHook.bs","MWChatIsMessageRequest.bs","MWChatRTCButtonIcons.bs","MWLSActor.bs","MWLSFeatureLimitedStatus.bs","MWTooltip.react","MessagingThreadType.bs","Promise","RTCCallState.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_belt_Option","bs_caml","bs_caml_array","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","bs_js_null_undefined","gkx","promiseDone","react","useRTWebCometStartCallCallback","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j="startVideoCall",k="startVoiceCall";function l(a,c,d,e){var f=b("useReStore")(),g=b("useRTWebCometStartCallCallback")();return i.useCallback(function(h){h=(h=b("ReQL.bs")).first(h.map(h.getKeyRange(h.fromTableAscending(f.table("rtc_ongoing_calls_on_threads_v2")),{hd:a.threadKey,tl:0}),function(a){return a.ongoingCallServerInfoData}));h=h.then(function(f){b("bs_curry")._1(c,void 0);g({existingCall:f!==void 0?{initiator_fbid:null,call_state:b("RTCCallState.bs").ofLsRtcCallState(a.ongoingCallState,a.threadType),server_info_data:b("bs_js_null_undefined").fromOption(b("bs_caml_option").valFromOption(f))}:null,isE2eeMandated:b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),mediaType:d,thread:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.threadKey)),type:b("bs_caml_int64").to_int32(a.threadType)},trigger:e});return b("Promise").resolve(void 0)});b("promiseDone")(h,void 0,void 0)},[f,g,JSON.stringify(a.threadKey),a.ongoingCallState,e,c])}function m(a){var c=b("useReStore")(),d=b("MWLSActor.bs").useActor(void 0),e=i.useMemo(function(){var e;return(e=b("ReQL.bs")).take(e.filter(e.getKeyRange(e.fromTableAscending(c.table("participants")),{hd:a.threadKey,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,d)}),1)},[c,a.threadKey,JSON.stringify(d)]);e=b("ReQLSubscription.bs").useArray(e);return b("MWChatContactPresenceHook.bs").useHasActiveContact(e.map(function(a){return a.contactId}))}function n(a){var c=a.threadKey,d=b("useReStore")(),e=b("MWLSActor.bs").useActor(void 0);a=b("ReQLSubscription.bs").useArray(i.useMemo(function(){var a;return(a=b("ReQL.bs")).map(a.filter(a.take(a.getKeyRange(a.fromTableAscending(d.table("participants")),{hd:c,tl:0}),2),function(a){return b("bs_caml").i64_neq(a.contactId,e)}),function(a){return b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("contacts")),{hd:a.contactId,tl:0}))})},[d,JSON.stringify(c),JSON.stringify(e)]));var f;if(a.length!==1)f=!1;else{var g=a[0];f=g!==void 0?b("bs_caml").i64_eq(g.contactType,b("LSContactType.bs").page):!1}if(!f)return[!0,!0];g=!0;f=!0;for(var h=0,j=a.length;h<j;++h){var k=b("bs_caml_array").get(a,h);if(k!==void 0){var l=b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").rtcVoiceCall,k),!0);k=b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").rtcVideoCall,k),!0);g=g&&l;f=f&&k}}if(b("gkx")("1710932"))return[g,f];else return[!1,!1]}function o(a){var c=b("useReStore")(),d=b("MWLSActor.bs").useActor(void 0),e=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableDescending(c.table("messages_ranges_v2__generated")),{hd:a.threadKey,tl:0})},[c,JSON.stringify(a.threadKey)]))),f=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("participants")),{hd:a.threadKey,tl:{hd:d,tl:0}})},[c,JSON.stringify(a.threadKey),JSON.stringify(d)]))),g=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").rtcVoiceCall,a),h=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").rtcVideoCall,a),j=b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),k=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0)&&(!j||b("MAWGating.bs").isFeatureLimitEnabled(void 0)),l=n(a),m=a.threadType;f=(b("bs_caml").i64_eq(m,b("MessagingThreadType.bs").group)||b("bs_caml").i64_eq(m,b("MessagingThreadType.bs").secureMessageOverWaGroup))&&f||b("bs_caml").i64_eq(m,b("MessagingThreadType.bs").oneToOne)||b("bs_caml").i64_eq(m,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)?[g,h]:[!1,!1];m=b("MWChatIsMessageRequest.bs").fn(a.folderName);g=!m&&e&&!k&&(!j||b("gkx")("5709"));if(g)return[l[0]&&f[0],l[1]&&f[1]];else return[!1,!1]}function p(a){var c=a.onPress,d=a.label,e=a.icon,f=a.overlayDisabled,g=a.renderContainer;a=a.testid;c={"aria-label":d,onPress:c,overlayDisabled:f,overlayRadius:"50%",children:e};a!==void 0&&(c.testid=b("bs_caml_option").valFromOption(a));f=i.jsx(b("MWTooltip.react"),{tooltip:d,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),c)});if(g!==void 0)return b("bs_curry")._1(g,f);else return f}c={make:p};function q(a){var c=a.startAudioCall,d=a.fill,e=a.size,f=a.overlayDisabled;a=a.renderContainer;c={onPress:c,label:g._(/*FBT_CALL*/"Start a voice call"/*FBT_CALL*/),icon:b("bs_curry")._2(b("MWChatRTCButtonIcons.bs").$$Audio.icon,d,e),overlayDisabled:f,testid:k};a!==void 0&&(c.renderContainer=b("bs_caml_option").valFromOption(a));return i.jsx(p,c)}d={make:q};function r(a){var c=a.startVideoCall,d=a.fill,e=a.size,f=a.isActive,h=a.overlayDisabled;a=a.renderContainer;c={onPress:c,label:g._(/*FBT_CALL*/"Start a video call"/*FBT_CALL*/),icon:b("bs_curry")._3(b("MWChatRTCButtonIcons.bs").Video.icon,d,e,f),overlayDisabled:h,testid:j};a!==void 0&&(c.renderContainer=b("bs_caml_option").valFromOption(a));return i.jsx(p,c)}e={make:r};function s(a){var c=a.startVideoCall,d=a.startAudioCall,e=a.ongoingCallState,f=a.fill,h=a.size,j=a.overlayDisabled;a=a.renderContainer;if(b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").noOngoingCall))return null;d={onPress:b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").audioGroupCall)?d:b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").videoGroupCall)?c:function(a){},label:b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").audioGroupCall)?g._(/*FBT_CALL*/"Join audio chat"/*FBT_CALL*/):b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").videoGroupCall)?g._(/*FBT_CALL*/"Join video chat"/*FBT_CALL*/):"",icon:b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").audioGroupCall)?b("bs_curry")._2(b("MWChatRTCButtonIcons.bs").$$Audio.icon,f,h):b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").videoGroupCall)?b("bs_curry")._3(b("MWChatRTCButtonIcons.bs").Video.icon,f,h,void 0):null,overlayDisabled:j};a!==void 0&&(d.renderContainer=b("bs_caml_option").valFromOption(a));return i.jsx(p,d)}var t={make:s};function a(a){var c=a.thread,d=a.fill,e=a.size,f=a.disableOverlayOnHover,g=a.audioCallingSurface,h=a.videoCallingSurface,j=a.logAudio,k=a.logVideo;a=a.renderContainer;e=e!==void 0?e:"26px";f=f!==void 0?f:!1;j=j!==void 0?j:function(a){};k=k!==void 0?k:function(a){};var n=m(c),p=o(c),t=p[1];p=p[0];k=l(c,k,"video",h);h=l(c,j,"audio",g);if(!(p||t))return null;j=c.ongoingCallState;if(b("bs_caml").i64_neq(j,b("LSRtcCallState.bs").noOngoingCall)){g={startVideoCall:k,startAudioCall:h,ongoingCallState:j,fill:d,size:e,overlayDisabled:f};a!==void 0&&(g.renderContainer=b("bs_caml_option").valFromOption(a));return i.jsx(s,g)}if(p){c={startAudioCall:h,fill:d,size:e,overlayDisabled:f};a!==void 0&&(c.renderContainer=b("bs_caml_option").valFromOption(a));j=i.jsx(q,c)}else j=null;if(t){g={startVideoCall:k,fill:d,size:e,isActive:n,overlayDisabled:f};a!==void 0&&(g.renderContainer=b("bs_caml_option").valFromOption(a));p=i.jsx(r,g)}else p=null;return i.jsxs(i.Fragment,{children:[j,p]})}a=a;f.startVideoCallTestid=j;f.startVoiceCallTestid=k;f.BaseButton=c;f.$$Audio=d;f.Video=e;f.JoinExistingChat=t;f.make=a}),null);
__d("MWV2HeaderMinimizeButton.bs",["fbt","CometPressable.react","MWTooltip.react","react","useSetAttributeRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.onPress;a=a.color;var d=b("useSetAttributeRef")("data-prevent_chattab_focus","1"),e=g._(/*FBT_CALL*/"Minimize chat"/*FBT_CALL*/);return i.jsx(b("MWTooltip.react"),{tooltip:e,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":e,ref:d,onPress:c,overlayRadius:"50%",children:i.jsx("svg",{width:"26px",height:"26px",viewBox:"-4 -4 24 24",children:i.jsx("line",{x1:"2",x2:"14",y1:"8",y2:"8",strokeLinecap:"round",strokeWidth:"2",stroke:a})})})})}c=a;f.make=c}),null);
__d("MWV2HeaderSettingsButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","MDSRow.react","MWTooltip.react","ODS","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={icon:{marginStart:"h676nmdw"}};function l(a){var c=a.size;a=a.color;c=c!==void 0?c:"10px";return j.jsx("svg",{className:(i||(i=b("stylex")))(k.icon),width:c,height:c,viewBox:"0 0 18 10",children:j.jsx("path",{fill:a,fillRule:"evenodd",clipRule:"evenodd",d:"M1 2.414A1 1 0 012.414 1L8.293 6.88a1 1 0 001.414 0L15.586 1A1 1 0 0117 2.414L9.707 9.707a1 1 0 01-1.414 0L1 2.414z"})})}c={styles:k,make:l};var m={settingsButton:{flexShrink:"g5gj957u",minWidth:"hpfvmrgz",marginEnd:"oi9244e8"}};function a(a){var c=a.children,d=a.thread,e=a.tab,f=a.iconColor,h=g._(/*FBT_CALL*/"Chat settings"/*FBT_CALL*/);return j.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResourceForInteraction")("MWV2HeaderSettingsMenuForJSResource.react").__setRef("MWV2HeaderSettingsButton.bs"),popoverProps:{thread:d,tab:e,onClose:function(a){}},position:"start",preloadTrigger:"button",children:function(a,d,e,g,i,k,n){return j.jsx(b("MWTooltip.react"),{tooltip:h,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":h,ref:a,testid:"messenger-chat-title-text",onHoverIn:b("bs_curry").__1(g),onHoverOut:function(a){return b("bs_curry")._1(i,void 0)},onPressIn:b("bs_curry").__1(k),onPress:function(a){b("bs_curry")._1(d,void 0),b("ODS").bumpEntityKey(3185,"mwchat_header","settings")},overlayRadius:5,xstyle:function(a){return[m.settingsButton]},children:j.jsxs(b("MDSRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",spacingHorizontal:0,children:[c,j.jsx(l,{color:f})]})})})}})}d=a;f.Chevron=c;f.styles=m;f.make=d}),null);
__d("RTWebLoggingComponentConvert.bs",["bs_js_exn"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="participate_live_dialog")return"participate_live_dialog";else if(a==="free_call")return"free_call";else if(a==="submit_feedback")return"submit_feedback";else if(a==="calendar_clock")return"calendar_clock";else if(a==="rating_not_now")return"rating_not_now";else if(a==="breakout_start_button")return"breakout_start_button";else if(a==="view_participants")return"view_participants";else if(a==="video_escalate_accept")return"video_escalate_accept";else if(a==="media_access_pending")return"media_access_pending";else if(a==="calendar_clock_tooltip")return"calendar_clock_tooltip";else if(a==="create_live_dialog_next_button")return"create_live_dialog_next_button";else if(a==="caller_warning_continue_call_button")return"caller_warning_continue_call_button";else if(a==="raise_hand_queue")return"raise_hand_queue";else if(a==="self_view_minimize")return"self_view_minimize";else if(a==="banner")return"banner";else if(a==="live_indicator")return"live_indicator";else if(a==="more_options")return"more_options";else if(a==="end_live_dialog_end_button")return"end_live_dialog_end_button";else if(a==="create_live_dialog_show_button")return"create_live_dialog_show_button";else if(a==="save_button")return"save_button";else if(a==="start_call_button")return"start_call_button";else if(a==="mweb_roster_row")return"mweb_roster_row";else if(a==="create_live_dialog_start_button")return"create_live_dialog_start_button";else if(a==="incoming_ring_tone")return"incoming_ring_tone";else if(a==="upgrade_chrome")return"upgrade_chrome";else if(a==="recent_calls")return"recent_calls";else if(a==="toggle_filters")return"toggle_filters";else if(a==="screensharing_pop_out_button")return"screensharing_pop_out_button";else if(a==="join_call_button")return"join_call_button";else if(a==="window_resize")return"window_resize";else if(a==="fullscreen_enable")return"fullscreen_enable";else if(a==="calendar_meeting_now_notification_join")return"calendar_meeting_now_notification_join";else if(a==="participant_remove")return"participant_remove";else if(a==="self_view_unminimize")return"self_view_unminimize";else if(a==="review_room")return"review_room";else if(a==="call_back")return"call_back";else if(a==="copy_link")return"copy_link";else if(a==="caller_warning_cancel_call_button")return"caller_warning_cancel_call_button";else if(a==="schedule_room")return"schedule_room";else if(a==="scroll_filters")return"scroll_filters";else if(a==="media_access_rejected")return"media_access_rejected";else if(a==="participant_row_unselect")return"participant_row_unselect";else if(a==="participate_live_dialog_join_button")return"participate_live_dialog_join_button";else if(a==="fullscreen")return"fullscreen";else if(a==="pin_speaker")return"pin_speaker";else if(a==="video_escalate")return"video_escalate";else if(a==="browser_notification")return"browser_notification";else if(a==="calendar_end_call_view")return"calendar_end_call_view";else if(a==="upgrade_edge")return"upgrade_edge";else if(a==="redial")return"redial";else if(a==="toggle_video_first")return"toggle_video_first";else if(a==="poor_network_tooltip")return"poor_network_tooltip";else if(a==="install_app_button")return"install_app_button";else if(a==="video_filter_option")return"video_filter_option";else if(a==="calendar_end_call_view_join")return"calendar_end_call_view_join";else if(a==="chat_panel_message")return"chat_panel_message";else if(a==="audio_button")return"audio_button";else if(a==="plus_expander_menu")return"plus_expander_menu";else if(a==="participant_row_select")return"participant_row_select";else if(a==="fullscreen_disable")return"fullscreen_disable";else if(a==="toggle_chat")return"toggle_chat";else if(a==="toggle_camera")return"toggle_camera";else if(a==="accept_button")return"accept_button";else if(a==="settings")return"settings";else if(a==="participate_live_dialog_leave_button")return"participate_live_dialog_leave_button";else if(a==="calendar_meeting_now_notification")return"calendar_meeting_now_notification";else if(a==="raise_hand")return"raise_hand";else if(a==="breakout_end_button")return"breakout_end_button";else if(a==="call_again")return"call_again";else if(a==="toggle_audio")return"toggle_audio";else if(a==="video_button")return"video_button";else if(a==="create_room")return"create_room";else if(a==="star_rating")return"star_rating";else if(a==="message")return"message";else if(a==="video_layout_switch")return"video_layout_switch";else if(a==="more_options_live_comments_menu")return"more_options_live_comments_menu";else if(a==="unpin_speaker")return"unpin_speaker";else if(a==="select_invitees")return"select_invitees";else if(a==="upsell_rooms_chrome_extension")return"upsell_rooms_chrome_extension";else if(a==="close_dialog")return"close_dialog";else if(a==="add_participant")return"add_participant";else if(a==="toggle_video")return"toggle_video";else if(a==="self_view")return"self_view";else if(a==="close_chat")return"close_chat";else if(a==="end_live_dialog_show_button")return"end_live_dialog_show_button";else if(a==="end_call_button")return"end_call_button";else if(a==="video_escalate_decline")return"video_escalate_decline";else if(a==="calendar_meeting_soon_notification")return"calendar_meeting_soon_notification";else if(a==="decline_button")return"decline_button";else if(a==="upgrade_browser")return"upgrade_browser";else if(a==="screensharing")return"screensharing";else if(a==="close_window")return"close_window";else return"cancel_button"}function c(a){switch(a){case"accept_button":return"accept_button";case"add_participant":return"add_participant";case"audio_button":return"audio_button";case"banner":return"banner";case"breakout_end_button":return"breakout_end_button";case"breakout_start_button":return"breakout_start_button";case"browser_notification":return"browser_notification";case"calendar_clock":return"calendar_clock";case"calendar_clock_tooltip":return"calendar_clock_tooltip";case"calendar_end_call_view":return"calendar_end_call_view";case"calendar_end_call_view_join":return"calendar_end_call_view_join";case"calendar_meeting_now_notification":return"calendar_meeting_now_notification";case"calendar_meeting_now_notification_join":return"calendar_meeting_now_notification_join";case"calendar_meeting_soon_notification":return"calendar_meeting_soon_notification";case"call_again":return"call_again";case"call_back":return"call_back";case"caller_warning_cancel_call_button":return"caller_warning_cancel_call_button";case"caller_warning_continue_call_button":return"caller_warning_continue_call_button";case"cancel_button":return"cancel_button";case"chat_panel_message":return"chat_panel_message";case"close_chat":return"close_chat";case"close_dialog":return"close_dialog";case"close_window":return"close_window";case"copy_link":return"copy_link";case"create_live_dialog_next_button":return"create_live_dialog_next_button";case"create_live_dialog_show_button":return"create_live_dialog_show_button";case"create_live_dialog_start_button":return"create_live_dialog_start_button";case"create_room":return"create_room";case"decline_button":return"decline_button";case"end_call_button":return"end_call_button";case"end_live_dialog_end_button":return"end_live_dialog_end_button";case"end_live_dialog_show_button":return"end_live_dialog_show_button";case"free_call":return"free_call";case"fullscreen":return"fullscreen";case"fullscreen_disable":return"fullscreen_disable";case"fullscreen_enable":return"fullscreen_enable";case"incoming_ring_tone":return"incoming_ring_tone";case"install_app_button":return"install_app_button";case"join_call_button":return"join_call_button";case"live_indicator":return"live_indicator";case"media_access_pending":return"media_access_pending";case"media_access_rejected":return"media_access_rejected";case"message":return"message";case"more_options":return"more_options";case"more_options_live_comments_menu":return"more_options_live_comments_menu";case"mweb_roster_row":return"mweb_roster_row";case"participant_remove":return"participant_remove";case"participant_row_select":return"participant_row_select";case"participant_row_unselect":return"participant_row_unselect";case"participate_live_dialog":return"participate_live_dialog";case"participate_live_dialog_join_button":return"participate_live_dialog_join_button";case"participate_live_dialog_leave_button":return"participate_live_dialog_leave_button";case"pin_speaker":return"pin_speaker";case"plus_expander_menu":return"plus_expander_menu";case"poor_network_tooltip":return"poor_network_tooltip";case"raise_hand":return"raise_hand";case"raise_hand_queue":return"raise_hand_queue";case"rating_not_now":return"rating_not_now";case"recent_calls":return"recent_calls";case"redial":return"redial";case"review_room":return"review_room";case"save_button":return"save_button";case"schedule_room":return"schedule_room";case"screensharing":return"screensharing";case"screensharing_pop_out_button":return"screensharing_pop_out_button";case"scroll_filters":return"scroll_filters";case"select_invitees":return"select_invitees";case"self_view":return"self_view";case"self_view_minimize":return"self_view_minimize";case"self_view_unminimize":return"self_view_unminimize";case"settings":return"settings";case"star_rating":return"star_rating";case"start_call_button":return"start_call_button";case"submit_feedback":return"submit_feedback";case"toggle_audio":return"toggle_audio";case"toggle_camera":return"toggle_camera";case"toggle_chat":return"toggle_chat";case"toggle_filters":return"toggle_filters";case"toggle_video":return"toggle_video";case"toggle_video_first":return"toggle_video_first";case"unpin_speaker":return"unpin_speaker";case"upgrade_browser":return"upgrade_browser";case"upgrade_chrome":return"upgrade_chrome";case"upgrade_edge":return"upgrade_edge";case"upsell_rooms_chrome_extension":return"upsell_rooms_chrome_extension";case"video_button":return"video_button";case"video_escalate":return"video_escalate";case"video_escalate_accept":return"video_escalate_accept";case"video_escalate_decline":return"video_escalate_decline";case"video_filter_option":return"video_filter_option";case"video_layout_switch":return"video_layout_switch";case"view_participants":return"view_participants";case"window_resize":return"window_resize";default:return b("bs_js_exn").raiseError("Invalid RTWebLoggingComponent.t: "+a)}}d={toJS:a,toRe:c};f.converter=d}),null);
__d("RTWebLoggingSurfaceConvert.bs",["bs_js_exn"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="caller_warning_dialog")return"caller_warning_dialog";else if(a==="screensharing_pop_out")return"screensharing_pop_out";else if(a==="group_call_participant_picker_dialog")return"group_call_participant_picker_dialog";else if(a==="chat_panel")return"chat_panel";else if(a==="setting_dialog")return"setting_dialog";else if(a==="pre_call_screen")return"pre_call_screen";else if(a==="admin_message")return"admin_message";else if(a==="timeline_top_section")return"timeline_top_section";else if(a==="group_call_view_members_dialog")return"group_call_view_members_dialog";else if(a==="chat_tab")return"chat_tab";else if(a==="missed_call_dialog")return"missed_call_dialog";else if(a==="meeting_room_intern_search_card")return"meeting_room_intern_search_card";else if(a==="meeting_room_map_dialog")return"meeting_room_map_dialog";else if(a==="call_controls")return"call_controls";else if(a==="mweb_roster_view")return"mweb_roster_view";else if(a==="work_profile")return"work_profile";else if(a==="audio_fallback_dialog")return"audio_fallback_dialog";else if(a==="call_container")return"call_container";else if(a==="chat_sidebar")return"chat_sidebar";else if(a==="post_vc_call_upsell")return"post_vc_call_upsell";else if(a==="messenger_bubble")return"messenger_bubble";else if(a==="www_roster_view")return"www_roster_view";else if(a==="incoming_call_dialog")return"incoming_call_dialog";else if(a==="unsupported_browser_dialog")return"unsupported_browser_dialog";else if(a==="workplace_group_chat")return"workplace_group_chat";else if(a==="star_rating_surface")return"star_rating_surface";else if(a==="group_call_add_members_dialog")return"group_call_add_members_dialog";else if(a==="dropdown_call_menu")return"dropdown_call_menu";else if(a==="messages_jewel")return"messages_jewel";else if(a==="chat_sidebar_confirmation_dialog")return"chat_sidebar_confirmation_dialog";else if(a==="meeting_room_profile")return"meeting_room_profile";else if(a==="messenger_header")return"messenger_header";else if(a==="workplace_p2p_chat")return"workplace_p2p_chat";else if(a==="work_hovercard")return"work_hovercard";else if(a==="thread_list")return"thread_list";else if(a==="call_header")return"call_header";else if(a==="post_rooms_call_upsell")return"post_rooms_call_upsell";else return"desktop_notification"}function c(a){switch(a){case"admin_message":return"admin_message";case"audio_fallback_dialog":return"audio_fallback_dialog";case"call_container":return"call_container";case"call_controls":return"call_controls";case"call_header":return"call_header";case"caller_warning_dialog":return"caller_warning_dialog";case"chat_panel":return"chat_panel";case"chat_sidebar":return"chat_sidebar";case"chat_sidebar_confirmation_dialog":return"chat_sidebar_confirmation_dialog";case"chat_tab":return"chat_tab";case"desktop_notification":return"desktop_notification";case"dropdown_call_menu":return"dropdown_call_menu";case"group_call_add_members_dialog":return"group_call_add_members_dialog";case"group_call_participant_picker_dialog":return"group_call_participant_picker_dialog";case"group_call_view_members_dialog":return"group_call_view_members_dialog";case"incoming_call_dialog":return"incoming_call_dialog";case"meeting_room_intern_search_card":return"meeting_room_intern_search_card";case"meeting_room_map_dialog":return"meeting_room_map_dialog";case"meeting_room_profile":return"meeting_room_profile";case"messages_jewel":return"messages_jewel";case"messenger_bubble":return"messenger_bubble";case"messenger_header":return"messenger_header";case"missed_call_dialog":return"missed_call_dialog";case"mweb_roster_view":return"mweb_roster_view";case"post_rooms_call_upsell":return"post_rooms_call_upsell";case"post_vc_call_upsell":return"post_vc_call_upsell";case"pre_call_screen":return"pre_call_screen";case"screensharing_pop_out":return"screensharing_pop_out";case"setting_dialog":return"setting_dialog";case"star_rating_surface":return"star_rating_surface";case"thread_list":return"thread_list";case"timeline_top_section":return"timeline_top_section";case"unsupported_browser_dialog":return"unsupported_browser_dialog";case"work_hovercard":return"work_hovercard";case"work_profile":return"work_profile";case"workplace_group_chat":return"workplace_group_chat";case"workplace_p2p_chat":return"workplace_p2p_chat";case"www_roster_view":return"www_roster_view";default:return b("bs_js_exn").raiseError("Invalid RTWebLoggingSurface.t: "+a)}}d={toJS:a,toRe:c};f.converter=d}),null);
__d("XCometGroupChatsThreadViewControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groups/{idorvanity}/chats/{thread_id}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWV2ChatTabHeader.bs",["LSMessagingThreadTypeUtil.bs","MWCMUseFolder.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWInboxHeaderDetailsContainer.bs","MWPThreadTheme.bs","MWTooltipGroup.react","MWV2ChatRTCButtons.bs","MWV2HeaderCloseButton.bs","MWV2HeaderContainer.bs","MWV2HeaderMinimizeButton.bs","MWV2HeaderSettingsButton.bs","MWV2IsTabFocusedContext.bs","ODS","RTWebLoggingComponentConvert.bs","RTWebLoggingSurfaceConvert.bs","UseCurrentDisplayMode.bs","UseMWV2CloseTab.bs","XCometGroupChatsThreadViewControllerRouteBuilder","bs_caml","bs_caml_option","bs_curry","bs_int64","cr:2834","react","requireDeferred","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWV2ChatTabHeader.bs"),k=b("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWV2ChatTabHeader.bs");function l(a){var c=a.thread;a=a.color;var d=i.useCallback(function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","audio"),k.onReady(function(a){return b("bs_curry")._1(a.logClick,{component:b("bs_curry")._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,"audio_button"),surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,"chat_tab")})})},[]),e=i.useCallback(function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","video"),j.onReady(function(a){return b("bs_curry")._1(a.logClick,{component:b("bs_curry")._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,"video_button"),surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,"chat_tab")})})},[]);return i.jsx(b("MWV2ChatRTCButtons.bs").make,{thread:c,fill:a,audioCallingSurface:"comet_chattab_audio_button",videoCallingSurface:"comet_chattab_video_button",logAudio:d,logVideo:e})}c={make:l};function m(a){var c=b("useCurrentDisplayMode")(),d=b("MWV2IsTabFocusedContext.bs").useContext(void 0),e=b("MWPThreadTheme.bs").useTop(void 0),f=b("bs_caml").i64_gt(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs);f=f&&!d;a=b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)&&c===b("UseCurrentDisplayMode.bs").darkTheme&&d;c=f||a?"var(--always-white)":d?e:"var(--disabled-icon)";d=f?e:void 0;e=f||a?"white":void 0;return[c,e,d]}var n={endContentContainer:{alignItems:"bp9cbjyn",display:"j83agx80",marginEnd:"dlv3wnog"}};function a(a){var c=a.tab;a=a.thread;var d=b("MWCMUseFolder.bs").useHook(a),e=b("MWChatStateV2.bs").useDispatch(void 0),f=b("UseMWV2CloseTab.bs").useHook(a,c),g=m(a),j=g[0],k;if(b("cr:2834")==null||d===void 0)k=null;else{d={url:b("XCometGroupChatsThreadViewControllerRouteBuilder").buildURL({idorvanity:b("bs_int64").to_string(d.fbGroupId),thread_id:b("bs_int64").to_string(a.threadKey)})};k=i.jsx(b("cr:2834").make,{color:j,link:d})}d={thread:a,photoSize:"s_32",threadNameSize:"headlineEmphasized4",isTitleALink:!1};var o=g[1];o!==void 0&&(d.color=b("bs_caml_option").valFromOption(o));o={startContent:i.jsx(b("MWV2HeaderSettingsButton.bs").make,{children:i.jsx(b("MWInboxHeaderDetailsContainer.bs").make,d),thread:a,tab:c,iconColor:j}),endContent:i.jsx(b("MWTooltipGroup.react"),{children:i.jsxs("div",{className:(h||(h=b("stylex")))(n.endContentContainer),children:[i.jsx(l,{thread:a,color:j}),i.jsx(b("MWV2HeaderMinimizeButton.bs").make,{onPress:function(a){return b("bs_curry")._1(e,b("MWChatStateActions.bs").minimizeTab(Date.now(),c.tabId))},color:j}),k,i.jsx(b("MWV2HeaderCloseButton.bs").make,{onPress:function(a){return b("bs_curry")._1(f,void 0)},color:j,testid:"mwchattab-closebutton-"+b("bs_int64").to_string(a.threadKey)})]})})};d=g[2];d!==void 0&&(o.backgroundColor=b("bs_caml_option").valFromOption(d));return i.jsx(b("MWV2HeaderContainer.bs").make,o)}d=b("cr:2834");e=a;f.$MWV2ChatExpandButton$requireCond=b("cr:2834");f.mExpandButton=d;f.$ZenonUserActionLoggerCommon$Deferred=j;f.$ZenonUserActionLoggerCommon$Deferred$1=k;f.RTCButtons=c;f.styles=n;f.make=e}),null);
__d("MAWInThreadBannerNuxReqCondWrapper.react",["deferredLoadComponent","nux:174","nux:201","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("nux:201")==null?void 0:b("nux:201")("www_armadillo_disappearing_messages_banner"),j=b("nux:174")==null?void 0:b("nux:174")("www_armadillo_education_receiving_nux"),k=c("deferredLoadComponent")(c("requireDeferred")("MWInThreadEncryptedBackupsVerifyDeviceNux.react").__setRef("MAWInThreadBannerNuxReqCondWrapper.react"));function a(a){if(j)return j(a);else if(!a.isGroup&&i)return i(a);return h.jsx(k,{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWInThreadBannerNuxReqCondWrapper.bs",["LSMessagingThreadTypeUtil.bs","MAWChatJid.bs","MAWInThreadBannerNuxReqCondWrapper.react","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_option","bs_curry","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread;a=b("MAWChatJid.bs").useThreadJidCallback(c.threadKey);var d=b("LSMessagingThreadTypeUtil.bs").isGroup(c.threadType),e=b("useReStore")(),f=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").take(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("contacts")),{hd:c.threadKey,tl:0}),2)},[e,JSON.stringify(c.threadKey)])),g=b("MWLSActor.bs").useActor(void 0),i=h.useMemo(function(){if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.threadType))return b("bs_caml_option").undefined_to_opt(f.find(function(a){return b("bs_caml").i64_neq(a.id,g)}))},[JSON.stringify(g),f]);i=i!==void 0?i.name:void 0;return b("bs_curry")._1(b("MAWInThreadBannerNuxReqCondWrapper.react"),{getThreadJid:a,isGroup:d,otherUserFullName:i})}c=a;f.make=c}),null);
__d("MWV2InThreadBanner.bs",["CometErrorBoundary.re","LSMessagingThreadTypeUtil.bs","MWLSInThreadBannerComponent.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.thread;if(b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType))return null;else return h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:h.jsx(b("MWLSInThreadBannerComponent.bs").make,{})})}c=a;f.make=c}),null);
__d("MWV2ThreadGradientBackground.bs",["MWPThreadTheme.bs","MWV2ColorUtils.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",display:"j83agx80",position:"l9j0dhe7",flexDirection:"cbu4d94t",overflowX:"ni8dbmo4",overflowY:"stjgntxs",maxHeight:"nwf6jgls"}};function a(a){a=a.children;var c=b("MWPThreadTheme.bs").useHook(void 0),d=c.gradientColors;c=i.useMemo(function(){if(d.length>1)return{backgroundImage:b("MWV2ColorUtils.bs").gradient(d,void 0,void 0,void 0)};else return{}},[d]);return i.jsx("div",{style:c,className:(h||(h=b("stylex")))(j.container),children:a})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2OpenAndSecureThreadView.bs",["LSMessagingThreadTypeUtil.bs","MWV2ThreadGradientBackground.bs","cr:2858","cr:2890","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("cr:2858").make;c={make:i};function a(a){a=a.thread;return h.jsx(b("MWV2ThreadGradientBackground.bs").make,{children:b("cr:2890")==null?h.jsx(i,{thread:a}):b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)?h.jsx(b("cr:2890").make,{thread:a}):h.jsx(i,{thread:a})})}d=b("cr:2890");e=a;f.$MAWSecureThreadDetail$requireCondXplat=b("cr:2890");f.mawSecureThreadDetail=d;f.$MWV3OpenThreadDetail$OR$MWV2OpenThreadDetail$requireCond=b("cr:2858");f.OpenThreadDetail=c;f.make=e}),null);
__d("MWV2ChatTab.bs",["CometErrorBoundary.re","CometTransientDialogProvider.react","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWInThreadBannerNuxReqCondWrapper.bs","MWChatConnectionStatusCard.bs","MWPThreadTheme.bs","MWSelectedThreadOptionsIdContext.bs","MWThreadKey.bs","MWV2ChatTabComposer.bs","MWV2ChatTabHeader.bs","MWV2ComposerHasContentContext.bs","MWV2EnsureThatChatTabExists.bs","MWV2ErrorComposer.bs","MWV2FileDropzone.bs","MWV2InThreadBanner.bs","MWV2OpenAndSecureThreadView.bs","MWV2TabContainer.bs","MWV2ThreadIsPage.bs","MWVisibleMessageContext.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=a.tab;a=a.thread;var d=h.useState(function(){}),e=d[1],f=d[0];d=h.useMemo(function(){return{setVisibleMessage:e,visibleMessage:f}},[f,e]);var g=!b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").filePicker,a),i=b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType);return h.jsx(b("MWPThreadTheme.bs").make,{themeFbid:a.themeFbid,children:h.jsx(b("MWV2ThreadIsPage.bs").make,{thread:a,children:h.jsx(b("MWThreadKey.bs").make,{id:a.threadKey,children:h.jsx(b("MWSelectedThreadOptionsIdContext.bs").make,{children:h.jsx(b("CometTransientDialogProvider.react"),{children:h.jsx(b("MWV2ComposerHasContentContext.bs").make,{children:h.jsxs(b("MWV2TabContainer.bs").make,{tab:c,thread:a,children:[h.jsx(b("MWV2ChatTabHeader.bs").make,{tab:c,thread:a}),i?h.jsx(b("MAWInThreadBannerNuxReqCondWrapper.bs").make,{thread:a}):null,h.jsx(b("MWChatConnectionStatusCard.bs").make,{}),h.jsx(b("MWV2InThreadBanner.bs").make,{thread:a}),h.jsxs(b("MWV2FileDropzone.bs").make,{children:[h.jsx(b("MWVisibleMessageContext.bs").Provider.make,{value:d,children:h.jsx(b("MWV2OpenAndSecureThreadView.bs").make,{thread:a})}),h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return h.jsx(b("MWV2ErrorComposer.bs").make,{})},children:h.jsx(b("MWV2ChatTabComposer.bs").make,{thread:a,tab:c,isPreviewThread:!1})})],isMediaOnly:g})]})})}),threadId:a.threadKey})})})})}c={make:i};function a(a){var c=a.tab;a=a.threadKeyDescriptor;var d=b("useReStore")(),e=a.clientThreadKey,f=a.threadKey;b("MWV2EnsureThatChatTabExists.bs").useHook(f,a.threadType);a=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("threads")),{hd:f,tl:0})},[d,JSON.stringify(f)]));var g=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(e!==void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexAscending(d.table("threads").index("clientThreadKey")),{hd:e,tl:0});else return b("SortedAsyncIterable.bs").empty(void 0)},[d,JSON.stringify(e)]));a=a!==void 0?a:g!==void 0?g:void 0;if(a!==void 0)return h.jsx(i,{tab:c,thread:a});else return null}d=a;f.Impl=c;f.make=d}),null);
__d("FDSContextBannerQuickActionsIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("fbicon"))._(g("497885"),20);d={icon:c};e=a._(g("477826"),20);b={icon:e};c=a._(g("485091"),20);e={icon:c};c=a._(g("481761"),20);a={icon:c};f.AddPeople=d;f.EditName=b;f.Members=e;f.Link=a}),null);
__d("MWContextBannerQuickActionsIcons.bs",["cr:808"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:808")).AddPeople;d=a.EditName;e=a.Members;b=a.Link;f.$MDSContextBannerQuickActionsIcons$OR$FDSContextBannerQuickActionsIcons$requireCond=a;f.AddPeople=c;f.EditName=d;f.Members=e;f.Link=b}),null);
__d("MWContextBannerQuickActions.bs",["fbt","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MDSCircleButton.react","MDSText.react","MWAddMemberToGroupDialogTrigger.bs","MWCMEditChatInfoDialogTrigger.bs","MWCMLinkShare.bs","MWCMThreadTypes.bs","MWContextBannerQuickActionsIcons.bs","MWEditThreadNameDialogTrigger.bs","MWGroupLimitContainer.bs","MWLSGroupMembershipDialogTrigger.bs","MWVerticalRhythm.bs","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={container:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t",paddingBottom:"f10w8fjw",paddingTop:"cxgpxx05"},item:{alignItems:"bp9cbjyn",display:"j83agx80",flexDirection:"cbu4d94t",width:"orwu60u2"}};function a(a){a=a.thread;var c=b("MWCMThreadTypes.bs").isAnyCMThread(a.threadType),d=j.useMemo(function(){return[c?g._(/*FBT_CALL*/"Copy link"/*FBT_CALL*/):g._(/*FBT_CALL*/"Add"/*FBT_CALL*/),c?g._(/*FBT_CALL*/"Info"/*FBT_CALL*/):g._(/*FBT_CALL*/"Name"/*FBT_CALL*/),g._(/*FBT_CALL*/"Members"/*FBT_CALL*/)]},[c]),e=d[2],f=d[1],h=d[0];d=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").threadNameCustomization,a);var l=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").threadDescriptionCustomization,a),m=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").addMember,a);return j.jsxs("ul",{className:(i||(i=b("stylex")))(k.container),children:[c?j.jsx(b("MWCMLinkShare.bs").make,{thread:a,children:function(a){return j.jsxs("li",{className:(i||(i=b("stylex")))(k.item),children:[j.jsx(b("MDSCircleButton.react"),{icon:b("MWContextBannerQuickActionsIcons.bs").Link.icon,size:36,label:h,onPress:a}),j.jsx(b("MWVerticalRhythm.bs").make,{height:8}),j.jsx(b("MDSText.react"),{align:"center",color:"primary",type:"body4",numberOfLines:1,children:h})]})}}):null,!c&&m?j.jsx(b("MWGroupLimitContainer.bs").make,{children:j.jsxs("li",{className:(i||(i=b("stylex")))(k.item),children:[j.jsx(b("MWAddMemberToGroupDialogTrigger.bs").make,{thread:a,children:function(a,c){return j.jsx(b("MDSCircleButton.react"),{icon:b("MWContextBannerQuickActionsIcons.bs").AddPeople.icon,size:36,label:h,onPress:function(c){return b("bs_curry")._1(a,void 0)},ref:c})}}),j.jsx(b("MWVerticalRhythm.bs").make,{height:8}),j.jsx(b("MDSText.react"),{align:"center",color:"primary",type:"body4",numberOfLines:1,children:h})]}),groupLimitReachedContent:null,thread:a}):null,c&&d&&l?j.jsxs("li",{className:(i||(i=b("stylex")))(k.item),children:[j.jsx(b("MWCMEditChatInfoDialogTrigger.bs").make,{thread:a,children:function(a){return j.jsx(b("MDSCircleButton.react"),{icon:b("MWContextBannerQuickActionsIcons.bs").EditName.icon,size:36,label:f,onPress:function(c){return b("bs_curry")._1(a,void 0)}})}}),j.jsx(b("MWVerticalRhythm.bs").make,{height:8}),j.jsx(b("MDSText.react"),{align:"center",color:"primary",type:"body4",numberOfLines:1,children:f})]}):null,!c&&d?j.jsxs("li",{className:(i||(i=b("stylex")))(k.item),children:[j.jsx(b("MWEditThreadNameDialogTrigger.bs").make,{thread:a,children:function(a,c){return j.jsx(b("MDSCircleButton.react"),{icon:b("MWContextBannerQuickActionsIcons.bs").EditName.icon,size:36,label:f,onPress:function(c){return b("bs_curry")._1(a,void 0)},ref:c})}}),j.jsx(b("MWVerticalRhythm.bs").make,{height:8}),j.jsx(b("MDSText.react"),{align:"center",color:"primary",type:"body4",numberOfLines:1,children:f})]}):null,j.jsxs("li",{className:i(k.item),children:[j.jsx(b("MWLSGroupMembershipDialogTrigger.bs").make,{children:function(a,c){return j.jsx(b("MDSCircleButton.react"),{icon:b("MWContextBannerQuickActionsIcons.bs").Members.icon,size:36,label:e,onPress:function(c){return b("bs_curry")._1(a,void 0)},ref:c})}}),j.jsx(b("MWVerticalRhythm.bs").make,{height:8}),j.jsx(b("MDSText.react"),{align:"center",color:"primary",type:"body4",numberOfLines:1,children:e})]})]})}c=a;f.styles=k;f.make=c}),null);
__d("MWNotificationMessageManageNotificationsLazyDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResourceForInteraction","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.threadKey,d=a.targetId,e=a.isOptOut,f=a.renderer,g=h.useRef(null);return h.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResourceForInteraction")("MWNotificationMessagesManageNotificationsDialog.react",{name:"MWNotificationMessagesManageNotificationsDialog","class":"fluid"}).__setRef("MWNotificationMessageManageNotificationsLazyDialogTrigger.bs"),dialogProps:{threadKey:c,targetId:d,isOptOut:e},children:function(a){return b("bs_curry")._2(f,a,g)}})}c=a;f.make=c}),null);
__d("MWNotificationMessageManageNotificationsAdminMsgCta.bs",["CometPressable.react","CometTextWithEntities.react","MWNotificationMessageManageNotificationsLazyDialogTrigger.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.threadKey,d=a.title,e=a.targetId;a=a.isOptOut;var f=function(a,c){return h.jsx(b("CometPressable.react"),{onPress:function(c){return b("bs_curry")._1(a,void 0)},children:h.jsx(b("CometTextWithEntities.react"),{text:d})})};return h.jsx(b("MWNotificationMessageManageNotificationsLazyDialogTrigger.bs").make,{threadKey:c,targetId:e,isOptOut:a,renderer:f})}c=a;f.make=c}),null);
__d("MWMessageListProtectedMedia.bs",["fbt","CometPressable.react","MDSText.react","MWLSThreadDisplayContext.bs","MWVerticalRhythm.bs","bs_caml_obj","bs_caml_option","bs_caml_splice_call","bs_curry","react","setTimeout","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={pressable:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},container:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t",minHeight:"eggzr9dk",minWidth:"lak48g0i",position:"l9j0dhe7"},containerForInbox:{minWidth:"dz1m1g88"},containerUncoverable:{minWidth:"lak48g0i"},overlay:{maxWidth:"d2edcug0",":before":{content:"g25sr70m",height:"lv4avms3",start:"hflslkkl",position:"lzm9zonv",top:"rpsrzwoy",width:"lh7m5usf",zIndex:"c4u49bkg"}},overlayBlurred:{filter:"gatxuefm"},overlayDisabled:{pointerEvents:"hzruof5a"},sneezeguard:{backgroundColor:"j9guq4sk",height:"datstx6m",start:"j9ispegn",position:"pmk7jnqg",top:"kr520xx4",width:"k4urcfbm",zIndex:"tkr6xdv7"},sneezeguardTransparent:{backgroundColor:"tg2g9j9d"}},l={container:{alignItems:"bp9cbjyn",boxSizing:"rq0escxv",display:"j83agx80",flexDirection:"cbu4d94t",height:"datstx6m",justifyContent:"taijpn5t",start:"j9ispegn",paddingTop:"discj3wi",paddingEnd:"hv4rvrfc",paddingBottom:"ihqw7lf3",paddingStart:"dati1w0a",position:"pmk7jnqg",top:"kr520xx4",width:"k4urcfbm",zIndex:"kavbgo14"},inner:{display:"j83agx80",flexDirection:"cbu4d94t",textAlign:"oqcyycmt",maxWidth:"jjpuek73"}};function m(a){var c=a.state;a=a.uncoverable;a=a!==void 0?a:!0;var d;switch(c){case 0:d=b("bs_caml_option").some(j.jsxs(j.Fragment,{children:[j.jsx(b("MDSText.react"),{color:"white",type:"body3",children:g._(/*FBT_CALL*/"Images sent in message requests are covered."/*FBT_CALL*/),testid:"covered-image-label"}),a?j.jsxs(j.Fragment,{children:[j.jsx(b("MWVerticalRhythm.bs").make,{height:25}),j.jsx(b("MDSText.react"),{color:"white",type:"bodyLink3",children:g._(/*FBT_CALL*/"Click to see blurred image"/*FBT_CALL*/),testid:"reveal-blurred-image-label"})]}):null]}));break;case 1:d=b("bs_caml_option").some(j.jsxs(j.Fragment,{children:[j.jsx(b("MDSText.react"),{color:"white",type:"body3",children:g._(/*FBT_CALL*/"Images sent in message requests are covered."/*FBT_CALL*/),testid:"covered-image-label"}),j.jsx(b("MWVerticalRhythm.bs").make,{height:25}),j.jsx(b("MDSText.react"),{color:"white",type:"bodyLink3",children:g._(/*FBT_CALL*/"Click to see image"/*FBT_CALL*/),testid:"reveal-full-image-label"})]}));break;case 2:d=void 0;break}if(d===void 0)return null;var e;switch(c){case 0:e="0";break;case 1:e="1";break;case 2:e=void 0;break}return j.jsx("div",{className:(i||(i=b("stylex")))(l.container),key:e,"aria-live":"polite","aria-relevant":"all",children:j.jsx("div",{className:i(l.inner),children:b("bs_caml_option").valFromOption(d)})})}c={styles:l,make:m};function n(a){}function a(a){var c=a.url,d=a.type_,e=a.onPress,f=a.children,g=a.xstyle,h=a.overlayDisabled,l=a.testid,o=a.ariaLabel,p=a.linkProps_;a=a.uncoverable;var q=e!==void 0?e:n;e=h!==void 0?h:!1;h=a!==void 0?a:!0;a=b("MWLSThreadDisplayContext.bs").useHook(void 0);var r=j.useMemo(function(){return g.concat([k.pressable])},[g]),s=j.useState(function(){return 0}),t=s[1],u=s[0],v=j.useRef(null);s=j.useMemo(function(){return{url:"#"}},[]);var w=j.useMemo(function(){if(d===0)return{};else if(c!==void 0)return{backgroundImage:"url("+c+")",height:"100%",left:"0",position:"absolute",right:"0",width:"100%",backgroundSize:"cover",transform:"scale(1.2)",filter:"blur(10px)"};else return{}},[c,d]);a=j.jsxs("div",{className:(i||(i=b("stylex")))(k.container,b("bs_caml_obj").caml_equal(a,1)?k.containerForInbox:!1,h?k.containerUncoverable:!1),children:[j.jsx("div",{style:w}),j.jsx("div",{"aria-hidden":u!==2,className:i(k.overlay,u!==2?k.overlayDisabled:!1,u===1?k.overlayBlurred:!1),children:f}),u===2?null:j.jsx("div",{className:(i||(i=b("stylex")))(k.sneezeguard,u===1?k.sneezeguardTransparent:!1)}),j.jsx(m,{state:u,uncoverable:h})]});if(!h)return j.jsx("div",{"data-testid":l,className:b("bs_caml_splice_call").spliceApply(i||(i=b("stylex")),[r]),children:a});w={ref:v,onPress:function(a){if(u===2)return b("bs_curry")._1(q,void 0);else return b("bs_curry")._1(t,function(a){switch(a){case 0:return 1;case 1:var c=function(a){b("setTimeout")(function(a){a=v.current;if(!(a==null))return a.focus()},0)};c(void 0);return 2;case 2:return a}})},overlayDisabled:e,xstyle:function(a){return r},children:a};f=u===2?o:void 0;f!==void 0&&(w["aria-label"]=b("bs_caml_option").valFromOption(f));h=u===2?p:s;h!==void 0&&(w.linkProps=b("bs_caml_option").valFromOption(h));l!==void 0&&(w.testid=b("bs_caml_option").valFromOption(l));return j.jsx(b("CometPressable.react"),w)}d=a;f.styles=k;f.$$Text=c;f.defaultOnPress=n;f.make=d}),null);
__d("getRingbackUrl",["URI"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a==null)return null;a=new(c("URI"))(a);a.addQueryData("users_to_ring",[b]);return a.toString()}g["default"]=a}),98);
__d("MakeRoomRingback.bs",["FBID.bs","MWThreadKey.bs","MessagingThreadType.bs","Promise","RTWebPreCallHooks","ReQL.bs","bs_caml","bs_int64","getRingbackUrl","promiseDone","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("getRingbackUrl");function a(a){var c=b("RTWebPreCallHooks").useJoinMeetupCallback(),d=b("useReStore")(),e=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return h.useCallback(function(a){var f=a.linkUrl;a=b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("threads")),{hd:e,tl:0})).then(function(a){if(a!==void 0){a=b("bs_caml").i64_eq(a.threadType,b("MessagingThreadType.bs").oneToOne)?i(f,b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.threadKey))):(b("recoverableViolation")("Cannot ring a non user thread","rtc_www"),f);return b("Promise").resolve(c(a))}b("recoverableViolation")("Cannot find thread when trying to ring a user","rtc_www");return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,function(a){b("recoverableViolation")("Error making a ring back","rtc_www",{error:a.Error})})},[c,e,d])}f.getRingbackUrl=i;f.useHook=a}),null);
__d("PopupWindow",["DOMDimensions","DOMQuery","FlowMigrationUtilsForLegacyFiles","Layer","Popup","getViewportDimensions","isFalsey"],(function(a,b,c,d,e,f,g){var h={allowShrink:!0,strategy:"vector",timeout:100,widthElement:null};function b(a){Object.assign(h,a),window.setInterval(i,h.timeout)}function i(){var a=c("getViewportDimensions")(),b=j(),e=c("Layer").getTopmostLayer();if(e){e=(e=e.getRoot())==null?void 0:e.firstChild;e||d("FlowMigrationUtilsForLegacyFiles").invariantViolation("topMostLayer.getRoot().firstChild is null.");var f=d("DOMDimensions").getElementDimensions(e);f.height+=d("DOMDimensions").measureElementBox(e,"height",!0,!0,!0);f.width+=d("DOMDimensions").measureElementBox(e,"width",!0,!0,!0);b.height=Math.max(b.height,f.height);b.width=Math.max(b.width,f.width)}e=b.height-a.height;f=b.width-a.width;f<0&&c("isFalsey")(h.widthElement)&&(f=0);f=f>1?f:0;c("isFalsey")(h.allowShrink)&&e<0&&(e=0);if(e||f)try{window.console&&window.console.firebug,window.resizeBy(f,e),f&&window.moveBy(f/-2,0)}catch(a){}}function j(){var b=d("DOMDimensions").getDocumentDimensions();if(h.strategy==="offsetHeight"){var e=document.body;if(!e)d("FlowMigrationUtilsForLegacyFiles").invariantViolation("document.body is null.");else{b.height=(e=e.offsetHeight)!=null?e:0}}if(c("isFalsey")(h.widthElement)&&typeof h.widthElement==="string"){e=d("DOMQuery").scry(document.body,h.widthElement)[0];e&&(b.width=d("DOMDimensions").getElementDimensions(e).width)}e=a.Dialog;e&&e.max_bottom&&e.max_bottom>b.height&&(b.height=e.max_bottom);return b}function e(a,b,c,e){return d("Popup").open(a,c,b,e)}g._opts=h;g.init=b;g._resizeCheck=i;g._getDocumentSize=j;g.open=e}),98);
__d("XMNCommerceCTAPostProcessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/cta/postprocess/",{cta_id:{type:"String",required:!0},message_id:{type:"String"}})}),null);
__d("MNCommerceCTAProcessor",["AsyncRequest","CurrentUser","GraphQLMessengerPlatformCtaPostHandlingMutation.graphql","MessengerPlatformClientTypedLogger","PopupWindow","WebGraphQLMutationHelper","XMNCommerceCTAPostProcessController","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.process=function(a,b){b===void 0&&(b=null);var e=d("PopupWindow").open("",500,1024);a=c("XMNCommerceCTAPostProcessController").getURIBuilder().setString("cta_id",a).setString("message_id",b).getURI();new(c("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){return e.location=a.payload}).send()};b.postHandle=function(a,b){a=d("WebGraphQLMutationHelper").getMutationURI(c("nullthrows")(c("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql").params.id),{cta_id:a,message_id:b});new(c("AsyncRequest"))().setURI(a).send()};b.logCTAClick=function(a){var b,d;d=(d=a)!=null?d.logging_token:d;var e=d?JSON.parse(d).click_source:"UNKNOWN";e={action_id:(b=a)!=null?b.id:b,action_type:(b=a)!=null?b.action_type:b,action_url:((b=a)!=null?b.action_url:b)||((b=a)!=null?b.action_link:b),click_source:e,page_id:(b=a)!=null?b.page_id:b};new(c("MessengerPlatformClientTypedLogger"))().setClientUserID(c("CurrentUser").getID()).setName("did_tap_call_to_action").setExtraClientData(JSON.stringify(e)).setLoggingToken(d).log()};return a}();b=new a();g["default"]=b}),98);
__d("MNCommerceCTAProcessor.bs",["MNCommerceCTAProcessor","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){b("MNCommerceCTAProcessor").logCTAClick(a)}function c(a,c){b("MNCommerceCTAProcessor").process(a,c!==void 0?b("bs_caml_option").valFromOption(c):void 0)}f.logCTAClick=a;f.$$process=c}),null);
if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }

__d("LSSetMessengerRestrict",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.fe(c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq([0,1],[0,1])}),function(b){var c=b.update;b.item;return c({pendingMessengerRestrictAction:a[1]})})},function(e){return d[0]=new c.Map(),d[0].set("restrictee_id",a[0]),d[0].set("request_id",a[2]),d[0].set("messenger_restrict_action",a[1]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"messenger_restrict",[0,367],d[1],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpdateThreadImage",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.fe(c.ftr(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(b.threadType,[0,2])}),function(b){var c=b.update;b.item;return c({authorityLevel:[0,60],threadPictureUrl:a[2]===""?f:a[2],threadPictureUrlFallback:a[3],threadPictureUrlExpirationTimestampMs:a[4]})})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=[0,1],d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("image_id",a[1]),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"thread_image",[0,37],d[3],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MessengerDesktopPromoFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744027");c=b("FalcoLoggerInternal").create("messenger_desktop_promo",a);e.exports=c}),null);
__d("MessengerDesktopPromoEventLogger",["MessengerDesktopPromoFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return c("MessengerDesktopPromoFalcoEvent").log(function(){return a})};g.log=a}),98);
__d("MWInboxInfoBlockMessages.bs",["fbt","CometLazyDialogTrigger.react","FBID.bs","JSResourceForInteraction","LSContactBlockedByViewerStatus.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_curry","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.thread,d=a.contactId,e=a.children,f=a.loggingEntryPoint;a=a.loggingSource;var h=b("useReStore")(),j=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(h.table("contacts")),{hd:d,tl:0})},[h,JSON.stringify(d)])),k=j!==void 0?b("bs_caml").i64_eq(j.blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").messageBlocked):!1,l=j!==void 0?b("bs_caml").i64_eq(j.blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").fullyBlocked):!1,m=k||l?g._(/*FBT_CALL*/"Unblock"/*FBT_CALL*/):g._(/*FBT_CALL*/"Block"/*FBT_CALL*/),n=i.useRef(null);if(j!==void 0)return i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResourceForInteraction")("MWChatBlockActionDialog",{name:"MWChatBlockActionDialog","class":"fluid"}).__setRef("MWInboxInfoBlockMessages.bs"),dialogProps:{thread:c,targetFBID:b("FBID.bs").ofStringExn(b("bs_int64").to_string(d)),onClose:function(a){},loggingData:{entryPoint:f,requestId:void 0,source:a}},children:function(a){return b("bs_curry")._4(e,a,n,m,k||l)}});else return null}c=a;f.make=c}),null);
__d("LSContactMessengerRestrictAction.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.restrict=a;f.unrestrict=c}),null);
__d("MAWInboxInfoButton.bs",["MDSListCell.react","MDSText.react","MDSTextPairing.react","bs_caml_option","gkx","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={addOnStartContained:{backgroundColor:"tdjehn4e",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",height:"mudddibn",minWidth:"pa2m88jb",display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t"}},k=b("gkx")("571")&&b("gkx")("1968579")?"contained":"normal";a=i.forwardRef(function(a,c){var d=a.addOnStart,e=a.addOnStartStyle,f=a.subLabel,g=a.label,l=a.onPress,m=a.testid;a=a.disabled;e=e!==void 0?e:k;a=a!==void 0?a:!1;if(d!==void 0){d=b("bs_caml_option").valFromOption(d);e=e==="contained"?i.jsx("div",{className:(h||(h=b("stylex")))(j.addOnStartContained),children:d}):d}else e=null;d={headline:i.jsx(b("MDSText.react"),{type:"headline4",children:g}),level:4};g=f!==void 0?b("bs_caml_option").some(i.jsx(b("MDSText.react"),{type:"meta3",children:f})):void 0;g!==void 0&&(d.meta=b("bs_caml_option").valFromOption(g));f={addOnStart:e,addOnStartVerticalAlign:"top",content:i.jsx(i.Fragment,{children:i.jsx(b("MDSTextPairing.react"),d)}),disabled:a,size:"medium",onPress:l};m!==void 0&&(f.testid=m);g=c==null?void 0:b("bs_caml_option").some(c);g!==void 0&&(f.ref=b("bs_caml_option").valFromOption(g));return i.jsx(b("MDSListCell.react"),f)});f.styles=j;f.defaultAddOnStartStyle=k;f.make=a}),null);
__d("MWRestrictDialogActionToggle.react",["nux:89","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("nux:89")==null?void 0:b("nux:89")("web_msgr_restrict_first_time_nux");function a(a){var b=a.children;a=a.dialogProps;if(i!=null&&!a.isRestricted)return h.jsx(i,{dialogProps:a,children:function(a,c){return b(a)}});else return b(a.onPress)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LsMessengerThreadDamagingActionsSource",[],(function(a,b,c,d,e,f){a=Object.freeze({BLOCKED_PEOPLE:0,CANONICAL_THREAD:1,EMPTY_THREAD:2,GROUP_THREAD:3,INCOMING_CALL:4,PAGE:5,STORY:6,TINCAN_THREAD:7,USER:8,CARRIER_THREAD:9,MESSAGE_REQUEST:10,SUPPORT_INBOX:11,DISAPPEARING_THREAD:12,OFFLINE_RETRIES:13,ONGOING_CALL:14,POST_CALL:15,CONTACT_MANAGER:16,SECURE_OVER_WA_CANONICAL:17,SECURE_OVER_WA_GROUP:18,GROUP_COMMUNITY_MESSAGING_THREAD:19,GROUP_COMMUNITY_MEMBER_LIST:20});f["default"]=a}),66);
__d("LsMessengerThreadDamagingActionsSourceOwner",[],(function(a,b,c,d,e,f){a=Object.freeze({MCI:0,MBI:1,RTC:2,HI:3});f["default"]=a}),66);
__d("LsMessengerThreadDamagingActionsSourceType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.$$default=a;f["default"]=a;f.__esModule=!0;f.gxac=c;f.cmsg=d}),null);
__d("LsThreadType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];var g=[0,4],h=[0,5],i=[0,6],j=[0,7],k=[0,8],l=[0,10],m=[0,11],n=[0,12],o=[0,13],p=[0,14],q=[0,15],r=[0,16];b=b("bs_caml_int64").neg_one;var s=[-1,4294967294],t=[0,17],u=[0,18],v=[0,19],w=[0,20];f.unknown=a;f.oneToOne=c;f.group=d;f.room=e;f.montage=g;f.marketplace=h;f.folder=i;f.tincan=j;f.optimisticGroupThread=k;f.carrierMessagingOneToOne=l;f.carrierMessagingGroup=m;f.selfThread=n;f.tincanDisappearing=o;f.pageFollowUp=p;f.secureMessageOverWaOneToOne=q;f.secureMessageOverWaGroup=r;f.armadilloOneToOne=b;f.armadilloGroup=s;f.communityFolder=t;f.communityGroup=u;f.communityGroupUnjoined=v;f.xacGroup=w}),null);
__d("MWMessengerResetBlockOrRestrictWC.bs",["Promise","ReQL.bs","UseBlockedUserInterstitial.bs","WebStorage.bs","bs_caml","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=b("WebStorage.bs").getLocalStorage(void 0);if(c===void 0)return;a=a.then(function(a){a.forEach(function(a){a=b("UseBlockedUserInterstitial.bs").getWarningCardStorageKey(a);return c.removeItem(a)});return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,void 0)}function a(a){var c=b("useReStore")();return h.useMemo(function(){return function(a){var d;return i((d=b("ReQL.bs")).toArray(d.map(d.filter(d.fromTableAscending(c.table("participants")),function(c){return b("bs_caml").i64_eq(c.contactId,a)}),function(a){return a.threadKey})))}},[c])}f.clearStoredWarningCardFlags=i;f.useHook=a}),null);
__d("MWLSMessengerRestrict.bs",["FBID.bs","LS.bs","LSContactMessengerRestrictAction.bs","LSMessagingThreadTypeUtil.bs","LSSetMessengerRestrict","LSTransaction.bs","LsMessengerThreadDamagingActionsSource","LsMessengerThreadDamagingActionsSourceOwner","LsMessengerThreadDamagingActionsSourceType.bs","LsThreadType.bs","MWMessengerResetBlockOrRestrictWC.bs","bs_caml","bs_caml_int64","bs_curry","bs_int64","cr:2075","promiseDone","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("requireDeferred")("MessengerWellbeingRestrictSucceededFalcoEvent.bs").__setRef("MWLSMessengerRestrict.bs"),j=b("requireDeferred")("MessengerWellbeingUnrestrictSucceededFalcoEvent.bs").__setRef("MWLSMessengerRestrict.bs");function k(a,c,d,e,f,g){var h=d!==void 0?b("LSMessagingThreadTypeUtil.bs").isSecure(d.threadType):!1;d=d!==void 0?b("bs_caml").i64_eq(d.threadType,b("LsThreadType.bs").secureMessageOverWaOneToOne):!1;var k=d?b("LsMessengerThreadDamagingActionsSource").SECURE_OVER_WA_CANONICAL:b("LsMessengerThreadDamagingActionsSource").CANONICAL_THREAD;a===b("LSContactMessengerRestrictAction.bs").unrestrict?j.onReady(function(a){return b("bs_curry")._1(a.log,function(){return{data:{source:k,entry_point:b("bs_caml_int64").to_int32(g),source_owner:b("LsMessengerThreadDamagingActionsSourceOwner").MCI,request_id:f,source_type:b("LsMessengerThreadDamagingActionsSourceType.bs").$$default},thread:{id:h?"-1":b("bs_int64").to_string(e)},other_user:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c))}}})}):i.onReady(function(a){return b("bs_curry")._1(a.log,function(){return{data:{source:k,entry_point:b("bs_caml_int64").to_int32(g),source_owner:b("LsMessengerThreadDamagingActionsSourceOwner").MCI,request_id:f,source_type:b("LsMessengerThreadDamagingActionsSourceType.bs").$$default},thread:{id:h?"-1":b("bs_int64").to_string(e)},other_user:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c))}}})})}var l=b("requireDeferred")("MessengerWellbeingRestrictFailedFalcoEvent.bs").__setRef("MWLSMessengerRestrict.bs"),m=b("requireDeferred")("MessengerWellbeingUnrestrictFailedFalcoEvent.bs").__setRef("MWLSMessengerRestrict.bs");function n(a,c,d,e,f,g){var h=d!==void 0?b("LSMessagingThreadTypeUtil.bs").isSecure(d.threadType):!1;d=d!==void 0?b("bs_caml").i64_eq(d.threadType,b("LsThreadType.bs").secureMessageOverWaOneToOne):!1;var i=d?b("LsMessengerThreadDamagingActionsSource").SECURE_OVER_WA_CANONICAL:b("LsMessengerThreadDamagingActionsSource").CANONICAL_THREAD;a===b("LSContactMessengerRestrictAction.bs").unrestrict?m.onReady(function(a){return b("bs_curry")._1(a.log,function(){return{data:{source:i,entry_point:b("bs_caml_int64").to_int32(g),source_owner:b("LsMessengerThreadDamagingActionsSourceOwner").MCI,request_id:f,source_type:b("LsMessengerThreadDamagingActionsSourceType.bs").$$default},thread:{id:h?"-1":b("bs_int64").to_string(e)},other_user:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c))}}})}):l.onReady(function(a){return b("bs_curry")._1(a.log,function(){return{data:{source:i,entry_point:b("bs_caml_int64").to_int32(g),source_owner:b("LsMessengerThreadDamagingActionsSourceOwner").MCI,request_id:f,source_type:b("LsMessengerThreadDamagingActionsSourceType.bs").$$default},thread:{id:h?"-1":b("bs_int64").to_string(e)},other_user:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c))}}})})}function a(a,c,d,e,f){var g=b("useReStore")(),i=b("cr:2075")==null?function(a,b){}:b("bs_curry")._1(b("cr:2075").useHook,void 0),j=b("MWMessengerResetBlockOrRestrictWC.bs").useHook(void 0);return h.useCallback(function(h){b("promiseDone")(b("LSTransaction.bs").run(g,function(c){return b("LSSetMessengerRestrict")(a,h,e,b("LS.bs").make(c))},"readWrite"),function(g){b("bs_curry")._2(i,a,h);b("bs_curry")._1(j,a);return k(h,a,c,d,e,f)},function(b){return n(h,a,c,d,e,f)})},[g,JSON.stringify(a),JSON.stringify(d),e,f])}f.$MessengerWellbeingRestrictSucceededFalcoEvent$Deferred=i;f.$MessengerWellbeingUnrestrictSucceededFalcoEvent$Deferred=j;f.logRestrictOrUnrestrictSuccess=k;f.$MessengerWellbeingRestrictFailedFalcoEvent$Deferred=l;f.$MessengerWellbeingUnrestrictFailedFalcoEvent$Deferred=m;f.logRestrictOrUnrestrictFailure=n;f.$MAWMessengerRestrictUtils$requireCondXplat=b("cr:2075");f.useHook=a}),null);
__d("UseMWRestrictContactOneOnOneThread.bs",["CurrentEnvironment","FBID.bs","LSContactMessengerRestrictAction.bs","LSMessagingThreadTypeUtil.bs","LsMessengerThreadDamagingActionsSource","LsMessengerThreadDamagingActionsSourceOwner","LsMessengerThreadDamagingActionsSourceType.bs","LsThreadType.bs","MWChatStateActions.bs","MWLSMessengerRestrict.bs","MWLSThreadDisplayContext.bs","bs_caml","bs_caml_int64","bs_curry","bs_int64","cr:12115","requireDeferred","useCometRouterDispatcher","uuid"],(function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("MessengerWellbeingRestrictTappedFalcoEvent.bs").__setRef("UseMWRestrictContactOneOnOneThread.bs"),h=b("requireDeferred")("MessengerWellbeingUnrestrictTappedFalcoEvent.bs").__setRef("UseMWRestrictContactOneOnOneThread.bs");function i(a,c,d,e,f,i){var j=e!==void 0?b("LSMessagingThreadTypeUtil.bs").isSecure(e.threadType):!1;e=e!==void 0?b("bs_caml").i64_eq(e.threadType,b("LsThreadType.bs").secureMessageOverWaOneToOne):!1;var k=e?b("LsMessengerThreadDamagingActionsSource").SECURE_OVER_WA_CANONICAL:b("LsMessengerThreadDamagingActionsSource").CANONICAL_THREAD;a?h.onReady(function(a){return b("bs_curry")._1(a.log,function(){return{data:{source:k,entry_point:b("bs_caml_int64").to_int32(i),source_owner:b("LsMessengerThreadDamagingActionsSourceOwner").MCI,request_id:c,source_type:b("LsMessengerThreadDamagingActionsSourceType.bs").$$default},thread:{id:j?"-1":b("bs_int64").to_string(f)},other_user:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(d))}}})}):g.onReady(function(a){return b("bs_curry")._1(a.log,function(){return{data:{source:k,entry_point:b("bs_caml_int64").to_int32(i),source_owner:b("LsMessengerThreadDamagingActionsSourceOwner").MCI,request_id:c,source_type:b("LsMessengerThreadDamagingActionsSourceType.bs").$$default},thread:{id:j?"-1":b("bs_int64").to_string(f)},other_user:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(d))}}})})}function a(a,c,d,e,f){var g=b("uuid")(),h=b("MWLSMessengerRestrict.bs").useHook(a,c,d,g,e),j=b("useCometRouterDispatcher")(),k=b("MWLSThreadDisplayContext.bs").useHook(void 0),l=b("cr:12115")==null?function(a){}:b("bs_curry")._1(b("cr:12115").useDispatch,void 0);return function(m){i(f,g,a,c,d,e);b("bs_curry")._1(h,f?b("LSContactMessengerRestrictAction.bs").unrestrict:b("LSContactMessengerRestrictAction.bs").restrict);!f&&k===1&&!(j==null)&&j.go(b("CurrentEnvironment").messengerdotcom?"/":"/messages");if(!f)return b("bs_curry")._1(l,b("MWChatStateActions.bs").closeTabByThreadKey(Date.now(),d))}}f.$MessengerWellbeingRestrictTappedFalcoEvent$Deferred=g;f.$MessengerWellbeingUnrestrictTappedFalcoEvent$Deferred=h;f.logRestrictOrUnrestrictTapped=i;f.$MWChatStateV2$requireCond=b("cr:12115");f.useHook=a}),null);
__d("MWInboxInfoMessengerRestrict.bs",["fbt","ix","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSContactMessengerRestrictAction.bs","MAWInboxInfoButton.bs","MWInboxInfoPrivacyAndSupportSectionIcons.bs","MWMenuItem.react","MWRestrictDialogActionToggle.react","ReQL.bs","ReQLSubscription.bs","TetraButton.react","TetraIcon.react","UseMWRestrictContactOneOnOneThread.bs","bs_belt_Option","bs_curry","fbicon","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a){var c=a.buttonSource,d=a.isPendingState,e=a.buttonTitle,f=a.onPress;a=j.useCallback(function(a){return b("bs_curry")._1(f,void 0)},[f]);switch(c){case"CHAT_TAB_SETTINGS":return j.jsx(b("MWMenuItem.react"),{primaryText:e,onClick:a,icon:b("fbicon")._(h("995804"),20),disabled:d,testid:"mw_restrict_messages_button"});case"RESTRICT_COMPOSER":return j.jsx(b("TetraButton.react"),{disabled:d,label:e,type:"secondary",onPress:a});default:return j.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:j.jsx(b("TetraIcon.react"),{icon:d?b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").RestrictMessagesPendingState.icon:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").RestrictMessages.icon}),label:e,onPress:a,testid:"mw_restrict_messages_button",disabled:d})}}c={make:k};function a(a){var c=a.contactId,d=a.thread,e=a.threadKey,f=a.loggingEntryPoint,h=a.buttonSource,i=b("useReStore")();a=b("ReQLSubscription.bs").useFirst(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(i.table("contacts")),{hd:c,tl:0})},[JSON.stringify(c),i]));var l=b("bs_belt_Option").mapWithDefault(a,!1,function(a){return b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").restrictPlaced,a),!1)}),m=b("bs_belt_Option").mapWithDefault(b("ReQLSubscription.bs").useFirst(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(i.table("contacts")),{hd:c,tl:0})},[JSON.stringify(c),i])),[0,10],function(a){a=a.pendingMessengerRestrictAction;if(a!==void 0)return a;else return[0,10]}),n=m===b("LSContactMessengerRestrictAction.bs").restrict||m===b("LSContactMessengerRestrictAction.bs").unrestrict,o=h==="RESTRICT_COMPOSER"?g._(/*FBT_CALL*/"Unrestrict"/*FBT_CALL*/):l?g._(/*FBT_CALL*/"Unrestrict"/*FBT_CALL*/):g._(/*FBT_CALL*/"Restrict"/*FBT_CALL*/);m=m===b("LSContactMessengerRestrictAction.bs").unrestrict?g._(/*FBT_CALL*/"Unrestricting..."/*FBT_CALL*/):g._(/*FBT_CALL*/"Restricting..."/*FBT_CALL*/);d=b("UseMWRestrictContactOneOnOneThread.bs").useHook(c,d,e,f,l);var p=n?m:o;if(a!==void 0)return j.jsx(b("MWRestrictDialogActionToggle.react"),{dialogProps:{restrictedUser:a,onPress:d,isRestricted:l},children:function(a){return j.jsx(k,{buttonSource:h,isPendingState:n,buttonTitle:p,onPress:a})}});else return null}d=a;f.RestrictButton=c;f.make=d}),null);
__d("MWRestrictFirstTimeNux.react",["CometLazyDialogTrigger.react","JSResourceForInteraction","declareNUXRequireable","react","useNUX"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useMemo,j=b.useRef,k=c("JSResourceForInteraction")("MWRestrictFirstTimeNuxDialog.react").__setRef("MWRestrictFirstTimeNux.react");function a(a){var b=j(null);return function(d){var e=d.children,f=d.dialogProps;d=c("useNUX")(a);var g=d[0],j=d[1];d=i(function(){return{onPress:function(){f.onPress(),j.onDismiss()},restrictedUser:f.restrictedUser}},[f,j]);return g?h.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:d,dialogResource:k,children:function(a){return e(a,b)}}):e(f.onPress)}}e=c("declareNUXRequireable")(a);g["default"]=e}),98);
__d("MessengerRestrictButtonSource.bs",[],(function(a,b,c,d,e,f){"use strict";a="THREAD_DETAIL_SETTINGS";b="RESTRICT_COMPOSER";c="CHAT_TAB_SETTINGS";f.thread_detail_settings=a;f.restrict_composer=b;f.chat_tab_settings=c}),null);
__d("MWInboxInfoActionsSectionIcons.bs",["cr:1724557"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1724557")).EditNicknames;d=a.ChangeChatName;e=a.ChangePhoto;b=a.Search;var g=a.LeaveChat;f.$MDSInboxInfoActionsSectionIcons$OR$TetraInboxInfoActionsSectionIcons$requireCond=a;f.EditNicknames=c;f.ChangeChatName=d;f.ChangePhoto=e;f.Search=b;f.LeaveChat=g}),null);
__d("TetraInboxInfoActionsSectionIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("fbicon"))._(g("603566"),20);d="primary";e={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:c,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:d,ref:void 0,size:void 0,linkProps:void 0,type:"icon"};b={icon:c,primaryAddOn:e};d=a._(g("477831"),20);c="primary";e={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:d,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:c,ref:void 0,size:void 0,linkProps:void 0,type:"icon"};c={icon:d,primaryAddOn:e};d=a._(g("540023"),20);e="primary";e={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:d,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:e,ref:void 0,size:void 0,linkProps:void 0,type:"icon"};d={icon:d,primaryAddOn:e};e=a._(g("491286"),20);var h="primary";h={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:e,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:h,ref:void 0,size:void 0,linkProps:void 0,type:"icon"};e={icon:e,primaryAddOn:h};h=a._(g("538183"),20);a="primary";g={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:h,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:a,ref:void 0,size:void 0,linkProps:void 0,type:"icon"};a={icon:h,primaryAddOn:g};f.EditNicknames=b;f.ChangeChatName=c;f.ChangePhoto=d;f.Search=e;f.LeaveChat=a}),null);
__d("LsMessageActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2051889");c=b("FalcoLoggerInternal").create("ls_message_action",a);e.exports=c}),null);
__d("MWChatCustomReactionsLog.bs",["LSInt64.bs","LsActionType.bs","LsFalcoEventEntryPoint.bs","LsMessageActionFalcoEvent","LsThreadType.bs","bs_caml_int64","bs_caml_option","bs_int64"],(function(a,b,c,d,e,f){"use strict";function a(a,c){b("LsMessageActionFalcoEvent").log(function(){return{action:{container_module:"MWChatEmojiPicker",type:b("bs_caml_int64").to_int32(b("LsActionType.bs").enterCustomizeReaction)},message:{entry_point:b("LsFalcoEventEntryPoint.bs").messageActions,id:a,recipient_id:void 0,attachment_type:""},thread:{group_size:b("LSInt64.bs").string(b("bs_caml_int64").zero),id:c!==void 0?b("bs_int64").to_string(c):void 0,type:b("bs_caml_int64").to_int32(b("LsThreadType.bs").oneToOne)},error:{message:void 0},reaction:void 0,previous_reaction:void 0,extra:void 0}})}function c(a,c,d,e,f){b("LsMessageActionFalcoEvent").log(function(){var f={};d!==void 0&&(f.is_changed=d?"1":"0");e!==void 0&&(f.reset=e?"1":"0");return{action:{container_module:"MWChatCustomizeReactionsDialog",type:b("bs_caml_int64").to_int32(b("LsActionType.bs").exitCustomizeReaction)},message:{entry_point:b("LsFalcoEventEntryPoint.bs").messageActions,id:a,recipient_id:void 0,attachment_type:""},thread:{group_size:b("LSInt64.bs").string(b("bs_caml_int64").zero),id:c!==void 0?b("bs_int64").to_string(c):void 0,type:b("bs_caml_int64").to_int32(b("LsThreadType.bs").oneToOne)},error:{message:void 0},reaction:void 0,previous_reaction:void 0,extra:b("bs_caml_option").some(f)}})}function d(a,c,d,e,f){b("LsMessageActionFalcoEvent").log(function(){var g={};g.tray_index=String(d);return{action:{container_module:"MWChatCustomizeReactionsDialog",type:b("bs_caml_int64").to_int32(b("LsActionType.bs").editCustomizeReaction)},message:{entry_point:b("LsFalcoEventEntryPoint.bs").messageActions,id:a,recipient_id:void 0,attachment_type:""},thread:{group_size:b("LSInt64.bs").string(b("bs_caml_int64").zero),id:c!==void 0?b("bs_int64").to_string(c):void 0,type:b("bs_caml_int64").to_int32(b("LsThreadType.bs").oneToOne)},error:{message:void 0},reaction:f,previous_reaction:e,extra:b("bs_caml_option").some(g)}})}f.logEnterCustomizeFlow=a;f.logExitCustomizeFlow=c;f.logEditCustomizeFlow=d}),null);
__d("MWV2EditPhotoUploader.bs",["fbt","CometFileSelector.re","DTSG","LS.bs","LSTransaction.bs","LSUpdateThreadImage","Promise","bs_belt_Array","bs_belt_Option","bs_caml_option","bs_curry","cometAsyncFetch","cometPushToast","promiseDone","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");g._(/*FBT_CALL*/"Change photo"/*FBT_CALL*/);function a(a){var c=a.thread;a=a.children;var d=b("useReStore")(),e=i.useCallback(function(a){return function(e){var f=b("LSTransaction.bs").run(d,function(d){return b("LSUpdateThreadImage")(c.threadKey,a,e!==void 0?b("bs_caml_option").valFromOption(e):void 0,void 0,void 0,b("LS.bs").make(d))},"readWrite");b("promiseDone")(f,void 0,void 0)}},[d,JSON.stringify(c.threadKey)]),f=function(a){b("cometPushToast").cometPushErrorToast({message:"Unable to set group picture"})},g=function(a){a=a.item(0);if(a==null){b("recoverableViolation")("file input onChange without any files?","messenger");return f(void 0)}var c=new FormData();c.set("images_only",!0);c.set("fb_dtsg",b("DTSG").getToken());c.set("attachment[]",a,a.name);a=b("cometAsyncFetch")("/ajax/mercury/upload.php",{method:"POST",data:{},formData:c}).then(function(a){a=b("bs_belt_Option").map(b("bs_belt_Array").get(b("bs_belt_Option").mapWithDefault(a==null?void 0:b("bs_caml_option").some(a),[],function(a){return a.metadata}),0),function(a){return[a.image_id,a.src]});a!==void 0?b("bs_curry")._2(e,a[0],a[1]):f(void 0);return b("Promise").resolve(void 0)})["catch"](function(a){f(void 0);b("recoverableViolation")(a.toString(),"messenger");return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,void 0)};return i.jsx(b("CometFileSelector.re").make,{accept:[".jpg",".png",".jpeg",".bmp",".tif",".tiff"],children:b("bs_curry").__1(a),onFilesSelected:g})}c=a;f.make=c}),null);
__d("LsMessageRequestsEntryPoint.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5];f.settings=a;f.pendingRequests=c;f.notifications=d;f.chatTabSettings=e;f.chatTabPendingRequests=b;f.inboxFolderList=g}),null);
__d("LsIgnoreTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("707");c=b("FalcoLoggerInternal").create("ls_ignore_tapped",a);e.exports=c}),null);
__d("XMessengerDotComDesktopControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/desktop/",Object.freeze({start_download:!1,m:!1}),new Set(["m"]));b=a;g["default"]=b}),98);
if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }

__d("GroupsCometFeedRightRailSurfaceHighlights_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"environment",variableName:"device"},b=[{kind:"Variable",name:"bookmark_render_location",variableName:"bookmark_render_location"},a],c=[{alias:null,args:null,kind:"ScalarField",name:"badge_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"GroupsCometNotificationListItem_tabBadge"}],d={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},e={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notifications",plural:!0,selections:c,storageKey:null},f=[d,e];return{argumentDefinitions:[{defaultValue:[],kind:"LocalArgument",name:"bookmark_ids"},{defaultValue:"COMET_TOP_TAB",kind:"LocalArgument",name:"bookmark_render_location"},{defaultValue:"COMET",kind:"LocalArgument",name:"device"},{defaultValue:!1,kind:"LocalArgument",name:"useNewInfra"}],kind:"Fragment",metadata:null,name:"GroupsCometFeedRightRailSurfaceHighlights_viewer",selections:[{condition:"useNewInfra",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Variable",name:"bookmark_ids",variableName:"bookmark_ids"},a],concreteType:"BookmarksConnection",kind:"LinkedField",name:"bookmarks",plural:!1,selections:[{alias:null,args:null,concreteType:"BookmarksEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:b,kind:"ScalarField",name:"unread_count",storageKey:null},{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"unread_notifications",plural:!0,selections:c,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"useNewInfra",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"GroupsTab",kind:"LinkedField",name:"groups_tab",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometNotificationListItem_groupsTab"},{alias:"newHighlights",args:null,concreteType:"GroupsTabSurfaceHighlights",kind:"LinkedField",name:"highlights",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"badge_identifiers",storageKey:null},d,e],storageKey:null},{alias:"seenHighlights",args:[{kind:"Literal",name:"seen_states",value:["SEEN"]}],concreteType:"GroupsTabSurfaceHighlights",kind:"LinkedField",name:"highlights",plural:!1,selections:f,storageKey:'highlights(seen_states:["SEEN"])'},{alias:"unseenHighlights",args:[{kind:"Literal",name:"seen_states",value:["UNSEEN"]}],concreteType:"GroupsTabSurfaceHighlights",kind:"LinkedField",name:"highlights",plural:!1,selections:f,storageKey:'highlights(seen_states:["UNSEEN"])'}],storageKey:null}]}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("GroupsCometTabNotifFeedContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({refs:{current:[]}});g["default"]=b}),98);
__d("GroupsCometFeedLayoutWithRightRail.react",["CometResponsiveColumns.react","CometRouteRenderType","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.feedContents;a=a.secondaryContents;var c=d("CometRouteRenderType").useIsHosted();return h.jsxs(d("CometResponsiveColumns.react").Container,{containerWidth:"DEFAULT",reverseColumns:!0,children:[h.jsx(d("CometResponsiveColumns.react").Column,{columnType:"FEED",children:b}),a==null?null:h.jsx(d("CometResponsiveColumns.react").Column,{columnType:"SECONDARY",xstyle:"kcmanqeg g2wm7t24"+(c?" lsig0mp6":" n99bqvw7"),children:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GroupsCometFeedRightRailCard.react",["CometCard.react","CometErrorBoundary.react","CometUnit.react","CometUnitHeader.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,d=a.headerActionText,e=a.headerActionUrl,f=a.headline;a=a.subtitle;return h.jsx(c("CometErrorBoundary.react"),{children:h.jsx("div",{className:"sjgh65i0",children:h.jsx(c("CometCard.react"),{background:"white",dropShadow:1,children:h.jsx(c("CometUnit.react"),{header:h.jsx(c("CometUnitHeader.react"),{action:d,actionLinkProps:{url:e},body:a,headline:f,level:3}),paddingBottom:16,children:b})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GroupsCometFeedRightRailSurfaceHighlights.react",["fbt","CometRelay","FBLogger","GroupsCometFeedRightRailCard.react","GroupsCometFeedRightRailSurfaceHighlights_viewer.graphql","GroupsCometNotificationListItem.react","GroupsCometTabFalcoEventLog","GroupsCometTabNotifFeedContext","GroupsCometVariables","TetraButton.react","WebPixelRatio","XCometGroupsTabNotificationsHubControllerRouteBuilder","qex","react","useGroupsCometNotifFeedVisitMutation","useGroupsCometVisitMutation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useContext,l=e.useReducer,m=e.useRef,n=(e=c("qex")._("1259"))!=null?e:!1,o=(e=c("qex")._("1265"))!=null?e:!1,p=(e=c("qex")._("1260"))!=null?e:!1,q=h._(/*FBT_CALL*/"Your notifications"/*FBT_CALL*/),r=function(a){var b=a.newNotifications,c=a.seenNotifications,d=a.showAll,e=a.unreadNotifications,f=a.unseenNotifications;a=a.useNewInfra;if(a)return{notifs:e,title:q};else if(d)return{notifs:[].concat(b,f,c),title:q};else if(b.length>0)return{notifs:b,title:h._(/*FBT_CALL*/"New for you"/*FBT_CALL*/)};else if(f.length>0)return{notifs:f,title:h._(/*FBT_CALL*/"Earlier notifications"/*FBT_CALL*/)};else if(c.length>0)return{notifs:c,title:h._(/*FBT_CALL*/"Seen notifications"/*FBT_CALL*/)};return{notifs:[],title:""}},s=function(a,b){switch(b.type){case"groupVisit":return babelHelpers["extends"]({},a,r(b.payload));default:throw c("FBLogger")("comet_groups").mustfix("Unhandled action type: "+b.type)}},t=function(a){var b,c,d,e,f=a.data;a=a.showAll;b=(b=f==null?void 0:(b=f.groups_tab)==null?void 0:(b=b.newHighlights)==null?void 0:b.notifications)!=null?b:[];c=(c=f==null?void 0:(c=f.groups_tab)==null?void 0:(c=c.unseenHighlights)==null?void 0:c.notifications)!=null?c:[];d=(d=f==null?void 0:(d=f.groups_tab)==null?void 0:(d=d.seenHighlights)==null?void 0:d.notifications)!=null?d:[];e=(e=f==null?void 0:(e=f.bookmarks)==null?void 0:(e=e.edges[0])==null?void 0:(e=e.node)==null?void 0:e.unread_notifications)!=null?e:[];f=(f==null?void 0:f.bookmarks)!=null;return r({newNotifications:b,seenNotifications:d,showAll:a,unreadNotifications:e,unseenNotifications:c,useNewInfra:f})};function u(a){var b,e,f=a.data,g=a.dispatch,i=a.notifs,l=a.title,p=c("useGroupsCometVisitMutation")(),q=c("useGroupsCometNotifFeedVisitMutation")(),r=k(c("GroupsCometTabNotifFeedContext"));b=m(((b=f==null?void 0:(b=f.groups_tab)==null?void 0:(b=b.newHighlights)==null?void 0:b.count)!=null?b:0)+((b=f==null?void 0:(b=f.groups_tab)==null?void 0:(b=b.seenHighlights)==null?void 0:b.count)!=null?b:0)+((b=f==null?void 0:(b=f.groups_tab)==null?void 0:(b=b.unseenHighlights)==null?void 0:b.count)!=null?b:0)+((b=f==null?void 0:(b=f.bookmarks)==null?void 0:(b=b.edges[0])==null?void 0:(b=b.node)==null?void 0:b.unread_count)!=null?b:0));i=i.filter(function(a){return Boolean(a==null?void 0:(a=a.story)==null?void 0:a.id)}).sort(function(a,b){return((b=b.time)!=null?b:0)-((b=a.time)!=null?b:0)}).slice(0,a.showAll?i.length:2).map(function(b,e){return j.jsx(c("GroupsCometNotificationListItem.react"),{groupsTab:f==null?void 0:f.groups_tab,isHub:a.showAll,logEventName:"[click][tab][surface highlight][item]",onClick:function(c){var e;e=(e=/^\d+(?=;)/.exec((e=b==null?void 0:b.sender_id)!=null?e:""))==null?void 0:e[0];if(e==null)return;!a.showAll&&n?((f==null?void 0:f.groups_tab)!=null&&p({onCompleted:function(b,c){var d;if(c!=null)return;c=(c=b==null?void 0:(c=b.viewer_groups_tab_log_group_visit)==null?void 0:(c=c.viewer)==null?void 0:(c=c.groups_tab)==null?void 0:(c=c.newHighlights)==null?void 0:c.notifications)!=null?c:[];d=(d=b==null?void 0:(d=b.viewer_groups_tab_log_group_visit)==null?void 0:(d=d.viewer)==null?void 0:(d=d.groups_tab)==null?void 0:(d=d.seenHighlights)==null?void 0:d.notifications)!=null?d:[];b=(b=b==null?void 0:(b=b.viewer_groups_tab_log_group_visit)==null?void 0:(b=b.viewer)==null?void 0:(b=b.groups_tab)==null?void 0:(b=b.unseenHighlights)==null?void 0:b.notifications)!=null?b:[];g({payload:{newNotifications:c,seenNotifications:d,showAll:a.showAll,unreadNotifications:[],unseenNotifications:b,useNewInfra:!1},type:"groupVisit"})},variables:{bookmarkID:e,input:{badge_entry_point:"GROUPS_TAB_MAIN",group_id:e},scale:d("WebPixelRatio").get()}}),scrollTo({behavior:"smooth",top:0})):a.showAll&&o&&(q({variables:{bookmarkID:e,input:{badge_entry_point:"GROUPS_TAB_MAIN",group_id:e},scale:d("WebPixelRatio").get()}}),scrollTo({behavior:"smooth",top:r.refs.current[c].offsetTop}))},position:e,tabBadge:b},b.badge_id)}).filter(Boolean);e=d("GroupsCometVariables").ENABLE_NEW_INFRA?null:{passthroughProps:{badgeIdentifiers:f==null?void 0:(e=f.groups_tab)==null?void 0:(e=e.newHighlights)==null?void 0:e.badge_identifiers}};return j.jsxs(c("GroupsCometFeedRightRailCard.react"),{headline:l,children:[i,a.showAll||b.current<=2?null:j.jsx("div",{className:"discj3wi dati1w0a hv4rvrfc",children:j.jsx(c("TetraButton.react"),{label:h._(/*FBT_CALL*/"Show more"/*FBT_CALL*/),linkProps:babelHelpers["extends"]({},e,{url:c("XCometGroupsTabNotificationsHubControllerRouteBuilder").buildURL({})}),onPress:function(){return d("GroupsCometTabFalcoEventLog").logGroupsTabFalcoEventDeferred({component:"GroupsCometFeedRightRailSurfaceHighlights",event:"click.nav",metadata:"notifications"})},reduceEmphasis:!0})})]})}u.displayName=u.name+" [from "+f.id+"]";function a(a){var c=a.showAll,e=a.viewer;e=d("CometRelay").useFragment(i!==void 0?i:i=b("GroupsCometFeedRightRailSurfaceHighlights_viewer.graphql"),e);c=l(s,{data:e,showAll:c},t);var f=c[0],g=f.notifs;f=f.title;c=c[1];return!p||g.length===0?null:j.jsx(u,babelHelpers["extends"]({},a,{data:e,dispatch:c,notifs:g,title:f}))}a.displayName=a.name+" [from "+f.id+"]";g.useGroupsCometFeedRightRailSurfaceHighlights=a}),98);
__d("useGroupsCometCacheSurfaceHighlightsData",["CometRelay","GroupsCometVariables","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=d("CometRelay").useRelayEnvironment();h(function(){d("CometRelay").commitLocalUpdate(b,function(a){if(!d("GroupsCometVariables").ENABLE_NEW_INFRA)return;a=(a=a.get(d("CometRelay").VIEWER_ID))==null?void 0:a.getLinkedRecord("groups_tab");if(!a)return;var b=a.getLinkedRecord("highlights"),c=a.getLinkedRecord("cached_highlights");c==null&&b!=null?a.setLinkedRecord(b,"cached_highlights"):c!=null&&b==null&&a.setLinkedRecord(c,"highlights")})},[a,b])}g["default"]=a}),98);
__d("DeamplificationEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2007397");c=b("FalcoLoggerInternal").create("deamplification_event",a);e.exports=c}),null);
__d("groupsJoinedUtils",["DeamplificationEventFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f,g){var h={entity_id:(a=a)!=null?a:"",entity_type:69,event:b,extra_data:{is_comet_render:"true",is_sole_admin:e?"true":"false",list_ordering:(a=f)!=null?a:"",search_keywords:(b=g)!=null?b:""},product_surface:d,tags:["group_breaking_bad_connections"]};c("DeamplificationEventFalcoEvent").log(function(){return h})}function b(){return!1}function d(){return!1}g.logGroupFollowingMembership=a;g.isEligibleForBreakingBadGroupConnections=b;g.isEligibleForBreakingBadGroupConnectionsDialog=d}),98);
__d("GroupsScopedCometTypeaheadDeferred.react",["CometPlaceholder.react","SearchCometScopedTypeaheadPlaceholder.react","deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferredForDisplay")("GroupsScopedCometTypeahead.react").__setRef("GroupsScopedCometTypeaheadDeferred.react"));function a(a){return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("SearchCometScopedTypeaheadPlaceholder.react"),{}),children:h.jsx(i,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GroupsCometSettingMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4187640527948092"}),null);